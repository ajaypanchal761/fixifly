[2025-10-04T04:38:04.214Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:38:04.404Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T04:38:05.550Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T04:38:06.847Z] [INFO] SMTP connection verified successfully
[2025-10-04T04:38:43.862Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T04:38:43.867Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T04:38:44.048Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T04:38:46.189Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/identity-token"}
[2025-10-04T04:38:47.007Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T04:38:47.033Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T04:38:47.079Z] [INFO] Getting bookings for vendor | {"vendorId":"339","page":1,"limit":10}
[2025-10-04T04:38:47.090Z] [INFO] Booking query | {"query":{"vendor.vendorId":"339"}}
[2025-10-04T04:38:47.195Z] [INFO] Vendor bookings retrieved: 0 for vendor 339 | {"vendorId":"339","totalBookings":0,"page":1}
[2025-10-04T04:38:47.212Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T04:38:47.237Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T04:38:47.255Z] [INFO] Getting bookings for vendor | {"vendorId":"339","page":1,"limit":10}
[2025-10-04T04:38:47.256Z] [INFO] Booking query | {"query":{"vendor.vendorId":"339"}}
[2025-10-04T04:38:47.315Z] [INFO] Vendor bookings retrieved: 0 for vendor 339 | {"vendorId":"339","totalBookings":0,"page":1}
[2025-10-04T04:38:51.367Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T04:38:52.541Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/identity-token"}
[2025-10-04T04:38:53.366Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/identity-token"}
[2025-10-04T04:38:55.411Z] [WARN] Admin access attempt without token | {"endpoint":"/api/admin/logout","ip":"::1"}
[2025-10-04T04:39:02.274Z] [INFO] Admin logged in successfully | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T04:39:02.335Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T04:39:02.568Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T04:39:05.602Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:40:05.663Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:41:05.632Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:42:05.646Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:43:05.660Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:43:56.140Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:43:56.787Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T04:44:40.014Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:45:05.348Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:45:11.096Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T04:45:29.762Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T04:45:30.588Z] [INFO] SMTP connection verified successfully
[2025-10-04T04:46:30.599Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:47:29.938Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:48:29.800Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:48:51.575Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:48:52.127Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T04:48:54.645Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T04:48:55.544Z] [INFO] SMTP connection verified successfully
[2025-10-04T04:49:54.955Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:50:54.712Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:51:37.860Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:51:38.997Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T04:51:41.141Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T04:51:41.907Z] [INFO] SMTP connection verified successfully
[2025-10-04T04:51:59.456Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:52:00.355Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T04:52:04.967Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T04:52:06.035Z] [INFO] SMTP connection verified successfully
[2025-10-04T04:52:37.664Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:52:38.643Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T04:52:40.269Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T04:52:41.445Z] [INFO] SMTP connection verified successfully
[2025-10-04T04:53:13.508Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T04:53:13.839Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T04:53:40.334Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:54:40.322Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:55:40.318Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:56:40.327Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:57:40.325Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:57:51.224Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T04:57:51.461Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T04:57:53.667Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T04:57:54.015Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T04:58:10.686Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T04:58:10.867Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T04:58:40.353Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T04:59:14.002Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T04:59:14.734Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T04:59:17.382Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T04:59:18.224Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:00:10.222Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:00:10.525Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:00:12.204Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:00:13.173Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:00:24.711Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:00:25.123Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:00:26.326Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:00:27.989Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:00:36.991Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:00:37.304Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:00:38.557Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:00:39.589Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:01:38.628Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:02:40.407Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:02:40.624Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:02:41.624Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:02:42.498Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:03:01.986Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:03:02.518Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:03:04.452Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:03:05.266Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:03:09.419Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:03:09.716Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:03:11.250Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:03:12.302Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:03:37.557Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:03:38.159Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:03:39.932Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:03:41.172Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:03:57.881Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:03:58.141Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:03:59.109Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:04:00.063Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:04:59.150Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:05:37.964Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:05:38.209Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:05:39.306Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:05:40.051Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:06:39.350Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:07:39.346Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:08:39.450Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:09:32.679Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:09:33.082Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:09:34.233Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:09:35.010Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:09:59.116Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:09:59.346Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:10:00.535Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:10:01.450Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:10:09.442Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:10:09.566Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:10:11.000Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:10:12.033Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:10:39.531Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:10:39.742Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:10:41.169Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:10:42.050Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:10:54.646Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:10:54.793Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:10:55.523Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:10:56.510Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:11:24.000Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:11:24.168Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:11:24.923Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:11:26.083Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:11:33.912Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T05:11:34.405Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T05:11:39.712Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T05:11:40.067Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T05:11:44.728Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:11:44.884Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:11:44.943Z] [INFO] Getting bookings for vendor | {"vendorId":"339","page":1,"limit":10}
[2025-10-04T05:11:44.947Z] [INFO] Booking query | {"query":{"vendor.vendorId":"339"}}
[2025-10-04T05:11:45.078Z] [INFO] Vendor bookings retrieved: 0 for vendor 339 | {"vendorId":"339","totalBookings":0,"page":1}
[2025-10-04T05:11:45.149Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:11:45.259Z] [INFO] Getting bookings for vendor | {"vendorId":"339","page":1,"limit":10}
[2025-10-04T05:11:45.280Z] [INFO] Booking query | {"query":{"vendor.vendorId":"339"}}
[2025-10-04T05:11:45.347Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:11:45.437Z] [INFO] Vendor bookings retrieved: 0 for vendor 339 | {"vendorId":"339","totalBookings":0,"page":1}
[2025-10-04T05:12:06.081Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:12:06.089Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T05:12:12.671Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68df6be1756441fc464f79c7"}
[2025-10-04T05:12:12.875Z] [INFO] Vendor deleted by admin | {"vendorId":"68df6be1756441fc464f79c7","vendorEmail":"panchalajay717@gmail.com"}
[2025-10-04T05:12:12.890Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:12:24.970Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:12:54.740Z] [INFO] Vendor registered successfully | {"vendorId":"68e0acd62f1f272f75c1f888","email":"panchalajay717@gmail.com","phone":"7610416911"}
[2025-10-04T05:12:59.930Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T05:13:00.133Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:13:01.244Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:13:01.252Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T05:13:06.767Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68e0acd62f1f272f75c1f888/status"}
[2025-10-04T05:13:06.909Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T05:13:09.860Z] [INFO] Email sent successfully | {"messageId":"<a23df999-df67-ed87-9b30-b112dcfc2793@gmail.com>","to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!"}
[2025-10-04T05:13:09.862Z] [INFO] Vendor approval email sent successfully | {"vendorId":"68e0acd62f1f272f75c1f888","email":"panchalajay717@gmail.com"}
[2025-10-04T05:13:09.863Z] [INFO] Vendor approve by admin | {"vendorId":"68e0acd62f1f272f75c1f888","vendorEmail":"panchalajay717@gmail.com","action":"approve"}
[2025-10-04T05:13:09.876Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:13:24.966Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:13:31.150Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0acd62f1f272f75c1f888","email":"panchalajay717@gmail.com"}
[2025-10-04T05:13:31.355Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:13:31.467Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:13:31.640Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:13:31.729Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:14:01.334Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:14:01.551Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:14:24.978Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:15:08.114Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:15:08.482Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:15:09.710Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:15:10.515Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:16:09.776Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:16:29.983Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:16:30.193Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:16:31.125Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:16:32.203Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:16:56.552Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:16:56.726Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:16:56.829Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:16:57.066Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:17:07.721Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0acd62f1f272f75c1f888","email":"panchalajay717@gmail.com"}
[2025-10-04T05:17:07.918Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:17:08.041Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:17:08.188Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:17:08.312Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:17:20.141Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:17:20.147Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T05:17:25.319Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68e0acd62f1f272f75c1f888"}
[2025-10-04T05:17:25.471Z] [INFO] Vendor deleted by admin | {"vendorId":"68e0acd62f1f272f75c1f888","vendorEmail":"panchalajay717@gmail.com"}
[2025-10-04T05:17:25.499Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:17:31.158Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:18:06.075Z] [INFO] Vendor registered successfully | {"vendorId":"68e0ae0d22166485e08dfd71","email":"panchalajay717@gmail.com","phone":"7610416911"}
[2025-10-04T05:18:10.918Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T05:18:11.092Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:18:11.886Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:18:11.894Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T05:18:16.141Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68e0ae0d22166485e08dfd71/status"}
[2025-10-04T05:18:16.281Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T05:18:19.296Z] [INFO] Email sent successfully | {"messageId":"<d191fe82-2369-8ffd-158a-4b28505a0784@gmail.com>","to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!"}
[2025-10-04T05:18:19.298Z] [INFO] Vendor approval email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","email":"panchalajay717@gmail.com"}
[2025-10-04T05:18:19.299Z] [INFO] Vendor approve by admin | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","action":"approve"}
[2025-10-04T05:18:19.310Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:18:27.399Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0ae0d22166485e08dfd71","email":"panchalajay717@gmail.com"}
[2025-10-04T05:18:27.584Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:18:27.678Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:18:27.805Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:18:27.897Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:18:31.170Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:18:59.991Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:19:00.309Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:19:01.658Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:19:02.427Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:19:03.873Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:19:04.150Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:19:04.879Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:19:06.072Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:19:09.445Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:19:09.684Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:19:10.546Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:19:11.602Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:20:10.653Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:20:27.054Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:20:27.262Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:20:28.193Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:20:28.812Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:29.118Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:20:29.480Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:29.669Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:29.833Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:30.080Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:30.117Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:30.149Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:30.173Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:30.431Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:30.488Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:30.508Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:30.604Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:30.611Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:30.673Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:30.705Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:30.756Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:34.330Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:34.553Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:34.633Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:34.734Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:34.811Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:34.860Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:20:34.873Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:34.906Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:34.918Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:34.933Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:34.967Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:34.997Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:20:35.231Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:20:35.321Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:21:05.137Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:21:05.215Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:21:05.252Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:21:05.322Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:21:05.473Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:21:05.543Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:21:28.238Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:22:28.249Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:23:28.210Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:28.258Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:23:28.335Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:28.433Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:28.450Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:23:28.541Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:23:28.602Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:28.778Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:23:28.809Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:28.873Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:23:29.119Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:23:29.124Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:29.186Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:23:37.403Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:37.502Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:37.708Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:37.826Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:38.158Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:23:38.240Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:23:41.271Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:41.378Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:41.472Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:23:41.644Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:23:41.664Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:41.754Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:23:41.839Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:23:41.908Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:24:28.250Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:25:28.257Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:26:28.283Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:27:01.152Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:27:01.716Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:27:01.835Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:27:01.934Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:27:01.948Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:27:02.076Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:27:02.270Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/onesignal/player-id"}
[2025-10-04T05:27:02.349Z] [INFO] OneSignal player ID saved for vendor | {"vendorId":"68e0ae0d22166485e08dfd71","playerId":"1135fd81-181d-46b3-a38d-18caf160ba73"}
[2025-10-04T05:27:02.468Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:27:03.062Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:27:28.312Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:27:52.785Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:27:52.864Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:27:59.821Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:00.050Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:00.210Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:00.302Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:05.017Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:05.141Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:05.291Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:05.412Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:08.263Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/create-order"}
[2025-10-04T05:28:09.341Z] [INFO] Vendor deposit order created successfully | {"vendorId":"920","amount":3999,"transactionId":"DEP_920_1759555688349","razorpayOrderId":"order_RPHRr3wWdqjtN4"}
[2025-10-04T05:28:28.316Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:28:31.245Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/verify"}
[2025-10-04T05:28:31.339Z] [INFO] Vendor deposit payment verification attempt | {"vendorId":"920","transactionId":"DEP_920_1759555688349","razorpayOrderId":"order_RPHRr3wWdqjtN4","razorpayPaymentId":"pay_RPHS0tFBdKyHer","expectedSignature":"5f6e83e15e...","receivedSignature":"5f6e83e15e..."}
[2025-10-04T05:28:31.341Z] [INFO] Adding deposit to vendor wallet | {"vendorId":"920","amount":3999,"currentBalance":0}
[2025-10-04T05:28:31.450Z] [INFO] Vendor wallet updated after deposit | {"vendorId":"920","newBalance":3999,"hasInitialDeposit":true}
[2025-10-04T05:28:31.534Z] [INFO] Vendor deposit payment verified and processed successfully | {"vendorId":"920","transactionId":"DEP_920_1759555688349","amount":3999,"razorpayPaymentId":"pay_RPHS0tFBdKyHer"}
[2025-10-04T05:28:31.609Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T05:28:34.557Z] [INFO] Email sent successfully | {"messageId":"<f66508bd-4bc0-47ed-caa6-ead68d7431f4@gmail.com>","to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly"}
[2025-10-04T05:28:34.559Z] [INFO] Deposit confirmation email sent successfully | {"vendorId":"920","email":"panchalajay717@gmail.com"}
[2025-10-04T05:28:34.988Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:35.127Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:35.618Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T05:28:35.724Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:35.846Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:37.972Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T05:28:38.084Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:38.227Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T05:28:38.610Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:28:38.622Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:28:38.650Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:28:38.651Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:28:38.738Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T05:28:38.746Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:28:38.780Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:28:38.811Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:28:38.813Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:28:38.889Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T05:28:42.359Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T05:28:42.367Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:28:44.119Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:28:44.127Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T05:28:44.137Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T05:28:44.301Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T05:28:44.324Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:28:57.995Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfabea6370e2deef8239fc/assign-vendor"}
[2025-10-04T05:28:58.155Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T05:28:58.174Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:28:58.210Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T05:28:58.279Z] [INFO] Sending OneSignal notification to vendor | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🔧 New Service Booking Assigned","priority":"medium","dataKeys":["bookingId","customerName","customerPhone","services","scheduledDate","type","action"]}
[2025-10-04T05:28:58.391Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:28:58.877Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfabea6370e2deef8239fc"}
[2025-10-04T05:28:58.932Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfabea6370e2deef8239fc","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T05:29:01.766Z] [INFO] Email sent successfully | {"messageId":"<804f584c-0691-92dc-38d4-d1a25c30af88@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfabea6370e2deef8239fc"}
[2025-10-04T05:29:01.775Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<804f584c-0691-92dc-38d4-d1a25c30af88@gmail.com>"}
[2025-10-04T05:29:01.848Z] [INFO] Booking assignment notification sent via email/SMS (fallback) | {"vendorId":"920","bookingId":"68dfabea6370e2deef8239fc"}
[2025-10-04T05:29:01.857Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfabea6370e2deef8239fc","notificationId":"68e0b09a79bf85e9d58ae151"}
[2025-10-04T05:29:02.863Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:29:02.881Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:29:02.919Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:29:02.925Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:29:03.100Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:29:03.134Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:29:03.156Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:29:03.217Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:29:03.219Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:29:03.377Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:29:12.001Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:29:12.056Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:29:12.063Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:29:12.112Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:29:12.200Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:29:12.217Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:29:12.258Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:29:12.298Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:29:12.301Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:29:12.397Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:29:28.323Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:30:00.549Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:30:00.559Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:30:00.753Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:30:00.761Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:30:00.881Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:30:00.902Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:30:00.918Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:30:01.034Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:30:01.035Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:30:01.154Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:30:28.334Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:31:28.359Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:32:28.351Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:33:28.363Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:34:23.210Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:34:23.709Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:34:25.124Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:34:25.876Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:35:25.182Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:36:25.189Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:36:54.234Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:36:54.254Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:36:54.407Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:36:54.424Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:36:54.650Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:36:56.872Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:36:56.888Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:36:56.936Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:36:56.943Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:36:57.090Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:36:57.102Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:36:57.139Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:36:57.198Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:36:57.202Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:36:57.335Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:37:02.336Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:37:02.404Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T05:37:02.637Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T05:37:03.243Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T05:37:03.301Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:37:03.670Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:37:03.751Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T05:37:03.835Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T05:37:03.997Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T05:37:04.046Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:37:15.711Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T05:37:15.894Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T05:37:15.911Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:37:15.948Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T05:37:16.037Z] [INFO] Sending OneSignal notification to vendor | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🔧 New Service Booking Assigned","priority":"medium","dataKeys":["bookingId","customerName","customerPhone","services","scheduledDate","type","action"]}
[2025-10-04T05:37:16.187Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:37:16.622Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfac046370e2deef823a0c"}
[2025-10-04T05:37:16.755Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T05:37:19.732Z] [INFO] Email sent successfully | {"messageId":"<176cdecf-a3e3-5ea1-37c0-ecdf77e983ce@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c"}
[2025-10-04T05:37:19.735Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<176cdecf-a3e3-5ea1-37c0-ecdf77e983ce@gmail.com>"}
[2025-10-04T05:37:19.743Z] [INFO] Booking assignment notification sent via email/SMS (fallback) | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c"}
[2025-10-04T05:37:19.747Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c","notificationId":"68e0b28b4065e1ed355242eb"}
[2025-10-04T05:37:22.524Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:37:22.589Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:37:22.616Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:37:22.620Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:37:22.751Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:37:22.825Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T05:37:22.910Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:37:22.990Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:37:22.991Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:37:23.135Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T05:37:25.190Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:38:25.200Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:39:25.222Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T05:39:25.235Z] [INFO] Auto-rejecting booking 68dfabea6370e2deef8239fc for vendor 920
[2025-10-04T05:39:25.343Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfabea6370e2deef8239fc","penaltyAmount":100}
[2025-10-04T05:39:25.405Z] [INFO] Booking 68dfabea6370e2deef8239fc auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T05:40:25.249Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:41:25.247Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:42:25.256Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:43:25.272Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:44:25.269Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:45:25.278Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:46:25.281Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:47:25.302Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T05:47:25.306Z] [INFO] Auto-rejecting booking 68dfac046370e2deef823a0c for vendor 920
[2025-10-04T05:47:25.419Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c","penaltyAmount":100}
[2025-10-04T05:47:25.468Z] [INFO] Booking 68dfac046370e2deef823a0c auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T05:48:25.306Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:49:25.314Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:50:25.308Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:51:16.837Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:51:16.915Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:51:17.037Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:51:17.039Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:51:17.210Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T05:51:17.306Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:51:17.355Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:51:17.375Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:51:17.395Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:51:17.505Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T05:51:22.172Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:51:22.187Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:51:22.244Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:51:22.248Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:51:22.352Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T05:51:22.544Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:51:22.629Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:51:22.631Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:51:22.693Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:51:22.950Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T05:51:25.310Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:52:25.308Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:53:25.321Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:53:39.048Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:53:39.241Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:53:39.282Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:53:39.290Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:53:39.395Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T05:53:39.472Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:53:39.513Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:53:39.543Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:53:39.553Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:53:39.699Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T05:53:44.599Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:53:44.605Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T05:53:44.612Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T05:53:44.735Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T05:53:44.821Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:53:56.003Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T05:53:56.195Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T05:53:56.205Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T05:53:56.232Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T05:53:56.289Z] [INFO] Sending OneSignal notification to vendor | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🔧 New Service Booking Assigned","priority":"medium","dataKeys":["bookingId","customerName","customerPhone","services","scheduledDate","type","action"]}
[2025-10-04T05:53:56.437Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T05:53:56.899Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfac226370e2deef823a1d"}
[2025-10-04T05:53:56.936Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T05:54:00.587Z] [INFO] Email sent successfully | {"messageId":"<752a470b-b50f-31be-cb8a-dba85bd33e5c@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d"}
[2025-10-04T05:54:00.593Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<752a470b-b50f-31be-cb8a-dba85bd33e5c@gmail.com>"}
[2025-10-04T05:54:00.602Z] [INFO] Booking assignment notification sent via email/SMS (fallback) | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T05:54:00.615Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d","notificationId":"68e0b6744065e1ed3552454a"}
[2025-10-04T05:54:00.634Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:54:00.640Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:54:00.705Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:54:00.707Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:54:00.794Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T05:54:00.895Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:54:00.985Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T05:54:01.050Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T05:54:01.053Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T05:54:01.167Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T05:54:25.329Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:55:25.353Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:56:25.371Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:56:28.707Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:56:29.137Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:56:29.218Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:56:30.866Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:56:31.824Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:56:35.820Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:56:36.218Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:56:36.253Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:56:37.442Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:56:39.960Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:56:40.148Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:56:40.201Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:56:41.382Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:56:42.394Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:56:47.906Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:56:48.118Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:56:48.156Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:56:49.264Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:56:50.052Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:56:50.249Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:56:58.834Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:56:59.000Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:56:59.012Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:56:59.726Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:57:00.063Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:57:00.634Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:57:13.032Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:57:13.145Z] [INFO] OneSignal notification payload created | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🧪 Test Notification","priority":"medium","payloadKeys":["app_id","headings","contents","data","include_aliases","priority"]}
[2025-10-04T05:57:13.178Z] [INFO] Sending OneSignal notification to vendor | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🧪 Test Notification","priority":"medium","dataKeys":["type","timestamp","test"],"apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:57:14.478Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:57:14.661Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:57:14.680Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:57:15.534Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:57:16.379Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:57:36.252Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:57:36.505Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:57:36.529Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:57:37.475Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:57:38.293Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:57:42.504Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:57:42.688Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:57:42.729Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:57:43.543Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:57:44.627Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:58:43.596Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T05:58:50.322Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:58:50.397Z] [INFO] OneSignal notification payload created | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🧪 Test Notification","priority":"medium","payloadKeys":["app_id","headings","contents","data","include_aliases","priority"]}
[2025-10-04T05:58:50.402Z] [INFO] Sending OneSignal notification to vendor | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🧪 Test Notification","priority":"medium","dataKeys":["type","timestamp","test"],"apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:59:02.445Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:59:02.789Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:59:02.814Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:59:03.897Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:59:05.269Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:59:11.745Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:59:11.926Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:59:11.952Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:59:12.866Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:59:13.820Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:59:20.355Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:59:20.569Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:59:20.615Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:59:21.681Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:59:21.746Z] [INFO] OneSignal notification payload created | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🧪 Test Notification","priority":"medium","payloadKeys":["app_id","headings","contents","data","include_aliases","target_channel","priority"]}
[2025-10-04T05:59:21.749Z] [INFO] Sending OneSignal notification to vendor | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🧪 Test Notification","priority":"medium","dataKeys":["type","timestamp","test"],"apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:59:21.778Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:59:22.492Z] [INFO] OneSignal notification sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","notificationId":"","responseData":{"id":"","errors":{"invalid_aliases":{"vendor_id":["68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71"]}}}}
[2025-10-04T05:59:22.494Z] [WARN] OneSignal notification may not have reached vendor | {"vendorId":"68e0ae0d22166485e08dfd71","notificationId":"","errors":{"invalid_aliases":{"vendor_id":["68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71"]}}}
[2025-10-04T05:59:22.782Z] [INFO] SMTP connection verified successfully
[2025-10-04T05:59:40.194Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T05:59:40.684Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T05:59:40.734Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:59:41.649Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T05:59:41.659Z] [INFO] Sending booking assignment notification to vendor | {"vendorId":"68e0ae0d22166485e08dfd71","bookingId":"68dfabea6370e2deef8239fc"}
[2025-10-04T05:59:41.794Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T05:59:42.340Z] [INFO] Booking assignment notification sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","bookingId":"68dfabea6370e2deef8239fc","notificationId":""}
[2025-10-04T05:59:42.356Z] [WARN] Booking assignment notification may not have reached vendor | {"vendorId":"68e0ae0d22166485e08dfd71","bookingId":"68dfabea6370e2deef8239fc","notificationId":"","errors":{"invalid_aliases":{"vendor_id":["68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71"]}}}
[2025-10-04T05:59:42.810Z] [INFO] SMTP connection verified successfully
[2025-10-04T06:00:02.302Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:00:02.401Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:00:02.412Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T06:00:03.127Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T06:00:04.072Z] [INFO] SMTP connection verified successfully
[2025-10-04T06:00:24.167Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T06:00:24.185Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T06:00:24.232Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T06:00:24.233Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T06:00:24.330Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T06:00:24.382Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T06:00:24.462Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T06:00:24.520Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T06:00:24.523Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T06:00:24.663Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T06:00:35.145Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0ae0d22166485e08dfd71","email":"panchalajay717@gmail.com"}
[2025-10-04T06:00:35.245Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:00:35.497Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:00:35.618Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:00:35.775Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:01:03.182Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:02:03.193Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:02:24.406Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:24.672Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:24.847Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:25.018Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:25.369Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:25.556Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:37.070Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0ae0d22166485e08dfd71","email":"panchalajay717@gmail.com"}
[2025-10-04T06:02:37.178Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:37.321Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:37.503Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:02:37.606Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:03:03.190Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:04:03.225Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T06:04:03.237Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 920
[2025-10-04T06:04:03.366Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T06:04:03.455Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T06:05:03.217Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:06:03.221Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:07:03.225Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:08:03.238Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:09:03.251Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:10:03.257Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:11:03.271Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:12:03.281Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:13:03.376Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:14:03.323Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:15:03.349Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:16:03.347Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:17:03.361Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:18:03.374Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:19:03.388Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:20:03.372Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:21:03.376Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:22:03.381Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:23:03.402Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:24:03.415Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:25:03.410Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:26:03.412Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:27:03.415Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:28:03.417Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:28:43.279Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:28:43.815Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:28:43.884Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T06:28:46.030Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T06:28:46.764Z] [INFO] SMTP connection verified successfully
[2025-10-04T06:29:46.091Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:30:15.563Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:30:25.336Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:30:25.688Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:30:25.969Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:30:26.707Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:30:46.086Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:30:54.284Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:30:54.732Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:31:24.144Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:31:24.275Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:31:46.082Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:31:54.137Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:31:54.298Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:32:24.140Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:32:24.332Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:32:46.092Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:32:54.165Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:32:54.326Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:33:24.148Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:33:24.266Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:33:46.100Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:33:54.129Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:33:54.280Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T06:34:46.117Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:35:46.119Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:36:46.126Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:37:45.972Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:37:46.135Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:37:46.152Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T06:37:47.152Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T06:37:48.135Z] [INFO] SMTP connection verified successfully
[2025-10-04T06:38:13.737Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:38:13.819Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:38:15.248Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:38:15.350Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:38:15.995Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T06:38:17.068Z] [INFO] SMTP connection verified successfully
[2025-10-04T06:39:16.044Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T06:40:15.245Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:40:15.425Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:40:30.833Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:40:30.976Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:40:49.008Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:40:49.415Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:41:04.568Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:41:04.670Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:42:08.441Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:42:08.538Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:42:21.851Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:42:21.948Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:48:01.985Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:48:02.109Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:49:12.599Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:49:13.081Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:50:29.850Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:50:29.974Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:50:54.433Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:50:54.580Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:54:11.262Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:54:11.400Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:59:25.838Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:59:26.174Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T06:59:31.449Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T06:59:59.339Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:00:27.737Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:00:50.223Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:00:51.180Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:00:57.245Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:02:00.589Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:02:00.780Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:02:02.402Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:02:02.714Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:02:22.500Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:02:23.248Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:02:26.530Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:02:26.703Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:02:42.773Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:02:43.573Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:03:30.702Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:03:30.848Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:03:36.518Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:03:36.699Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:03:57.168Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:03:57.554Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:04:01.172Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:04:01.495Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:04:05.431Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:04:05.888Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:04:06.009Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T07:04:13.725Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:04:14.484Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:04:14.654Z] [INFO] OneSignal service initialized | {"appId":"0e3861fd-d24e-4f93-a211-d64dfd966d17","apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T07:04:15.707Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:04:16.664Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:04:55.667Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T07:04:55.893Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T07:04:55.930Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:04:55.940Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T07:04:56.017Z] [INFO] OneSignal notification payload created | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🔧 New Service Booking Assigned","priority":"medium","payloadKeys":["app_id","headings","contents","data","include_aliases","target_channel","priority"]}
[2025-10-04T07:04:56.019Z] [INFO] Sending OneSignal notification to vendor | {"vendorId":"68e0ae0d22166485e08dfd71","title":"🔧 New Service Booking Assigned","priority":"medium","dataKeys":["bookingId","customerName","customerPhone","services","scheduledDate","type","action"],"apiKeyPrefix":"os_v2_app_..."}
[2025-10-04T07:04:56.177Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:04:56.699Z] [INFO] OneSignal notification sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","notificationId":"","responseData":{"id":"","errors":{"invalid_aliases":{"vendor_id":["68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71"]}}}}
[2025-10-04T07:04:56.700Z] [WARN] OneSignal notification may not have reached vendor | {"vendorId":"68e0ae0d22166485e08dfd71","notificationId":"","errors":{"invalid_aliases":{"vendor_id":["68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71","68e0ae0d22166485e08dfd71"]}}}
[2025-10-04T07:04:56.701Z] [INFO] Booking assignment push notification sent via OneSignal | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c"}
[2025-10-04T07:04:56.702Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c","notificationId":"68e0c71739dde00c3e1daca3"}
[2025-10-04T07:04:57.624Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T07:04:57.882Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T07:04:58.087Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T07:05:02.429Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T07:05:02.825Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T07:05:03.301Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T07:05:04.093Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T07:05:15.740Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:05:22.125Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:05:22.135Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:05:22.274Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:05:22.283Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:05:22.379Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:05:22.395Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:05:22.472Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:05:22.511Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:05:22.521Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:05:22.667Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:06:15.752Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:07:15.751Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:08:15.758Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:09:15.763Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:10:15.772Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:11:15.773Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:12:15.779Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:13:15.804Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:14:15.813Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:15:18.321Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:15:18.922Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:15:21.300Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:15:22.366Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:15:53.476Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:15:53.531Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T07:15:53.552Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T07:15:53.764Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T07:15:53.798Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:16:21.345Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T07:16:21.348Z] [INFO] Auto-rejecting booking 68dfac046370e2deef823a0c for vendor 920
[2025-10-04T07:16:21.530Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c","penaltyAmount":100}
[2025-10-04T07:16:21.579Z] [INFO] Booking 68dfac046370e2deef823a0c auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T07:17:21.356Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:18:21.355Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:19:21.364Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:20:21.373Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:21:21.388Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:22:21.400Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:23:21.416Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:24:21.427Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:25:21.447Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:26:21.452Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:27:21.460Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:28:23.988Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:28:24.434Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:28:25.746Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:28:26.482Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:28:45.418Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:28:45.730Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:28:46.862Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:28:47.914Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:29:07.898Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:29:08.446Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:29:09.776Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:29:10.578Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:29:38.596Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:29:39.109Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:29:43.510Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:29:44.291Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:32:04.405Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:32:05.806Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:32:45.204Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:32:45.612Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:35:22.118Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:35:22.334Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:35:45.272Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:35:45.425Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:35:54.438Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:35:55.086Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:36:07.476Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:36:07.859Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:36:26.431Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:36:26.563Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:36:34.901Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:36:35.468Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:36:39.455Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:36:39.596Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:36:39.804Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:36:39.952Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:36:41.370Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:36:41.535Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:36:42.174Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:36:42.604Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:36:59.222Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:36:59.482Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:37:00.951Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:37:01.940Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:37:08.366Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:37:08.693Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T07:37:08.809Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T07:37:09.514Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T07:37:09.627Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:37:46.119Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:37:46.359Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:37:46.459Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:37:46.471Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:37:46.544Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:37:46.585Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T07:37:46.635Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:37:46.688Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:37:46.688Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:37:46.765Z] [INFO] Vendor bookings retrieved: 0 for vendor 920 | {"vendorId":"920","totalBookings":0,"page":1}
[2025-10-04T07:38:00.974Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:39:00.979Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T07:39:00.987Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:39:01.248Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T07:39:01.309Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T07:39:01.385Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:39:01.435Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfac226370e2deef823a1d"}
[2025-10-04T07:39:01.599Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T07:39:01.696Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:39:05.170Z] [INFO] Email sent successfully | {"messageId":"<359435ca-3b38-3e38-06f1-e6f1244a68de@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d"}
[2025-10-04T07:39:05.179Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<359435ca-3b38-3e38-06f1-e6f1244a68de@gmail.com>"}
[2025-10-04T07:39:05.318Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T07:39:05.362Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d","notificationId":"68e0cf154708226dcc26bf16"}
[2025-10-04T07:39:06.900Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:39:06.986Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:39:07.075Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:39:07.108Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:39:07.232Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:39:07.264Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:39:07.320Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:39:07.378Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:39:07.384Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:39:07.494Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:39:59.141Z] [WARN] No token provided for vendor route
[2025-10-04T07:40:00.993Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:41:01.039Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:41:04.339Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:41:04.489Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:41:04.567Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:41:04.577Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:41:04.604Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:41:04.865Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:41:05.005Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:41:05.128Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:41:05.255Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:41:05.278Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:41:05.406Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:41:37.484Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:41:37.931Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:41:39.132Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:41:39.365Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:41:40.982Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:41:41.532Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:41:41.664Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:41:42.526Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:41:42.548Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:41:42.562Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:41:42.717Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:41:42.729Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:41:42.937Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:42:05.602Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:42:05.872Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:42:06.827Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:42:07.656Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:42:23.912Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:42:24.028Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:42:24.070Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:42:24.270Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:42:24.289Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:42:24.471Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:42:24.573Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:42:24.654Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:42:24.685Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:42:24.773Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:42:24.827Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:42:24.990Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:42:30.370Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:42:30.560Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:42:30.627Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:42:30.640Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:42:30.722Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:42:30.784Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:42:30.815Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:42:30.874Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:42:30.904Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:42:30.954Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:42:30.957Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:42:31.067Z] [INFO] Vendor bookings retrieved: 1 for vendor 920 | {"vendorId":"920","totalBookings":1,"page":1}
[2025-10-04T07:42:44.004Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T07:43:06.847Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:43:12.353Z] [WARN] Admin access attempt without token | {"endpoint":"/api/admin/logout","ip":"::1"}
[2025-10-04T07:43:18.890Z] [WARN] Failed admin login attempt | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T07:43:25.206Z] [WARN] Failed admin login attempt | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T07:43:35.292Z] [INFO] Admin logged in successfully | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T07:43:35.445Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T07:43:35.642Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T07:43:38.540Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:43:38.545Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T07:43:38.550Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T07:43:38.729Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T07:43:38.811Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:43:49.540Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T07:43:49.789Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T07:43:49.807Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:43:49.816Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T07:43:49.876Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfac046370e2deef823a0c"}
[2025-10-04T07:43:50.038Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T07:43:50.172Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:43:52.913Z] [INFO] Email sent successfully | {"messageId":"<e736e30d-d0af-56d4-eb26-b4df16a4e41e@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c"}
[2025-10-04T07:43:52.914Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<e736e30d-d0af-56d4-eb26-b4df16a4e41e@gmail.com>"}
[2025-10-04T07:43:52.924Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c"}
[2025-10-04T07:43:52.926Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c","notificationId":"68e0d035ee07dba83b1c253e"}
[2025-10-04T07:43:56.079Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:43:56.378Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:43:56.533Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:43:56.548Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:43:56.613Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:43:56.791Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:43:56.799Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:43:56.815Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T07:43:56.877Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:43:56.948Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:43:56.958Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:43:57.093Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T07:44:06.863Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:44:17.875Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:44:17.904Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:44:18.120Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:44:18.124Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:44:18.190Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:44:18.281Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T07:44:18.297Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:44:18.363Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:44:18.379Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:44:18.513Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T07:44:26.708Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:44:26.837Z] [INFO] Created new subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:45:06.864Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:45:22.169Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:45:22.571Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:45:24.022Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:45:24.762Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:45:36.035Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:45:36.365Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:45:37.517Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:45:39.402Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:45:41.550Z] [INFO] Removing expired subscription: 68e0cf904708226dcc26bf9d
[2025-10-04T07:45:41.819Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d05aee07dba83b1c25d2","endpoint":"https://fcm.googleapis.com/fcm/send/co91t33jW8c:APA91bHPwGgkRpHYGZd2x52WBBzCg3HVfCiYot1C7klrkX13guCDkv2hItIUR1S6KAoLlb4eVZboFF3jswTyeDP0Wjv9rDH1jnUYh7j2SSt7npzUDqGvBjeEWeutpq9oPpxpREOLrrzF"}
[2025-10-04T07:45:41.852Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":2,"successful":1,"failed":1}
[2025-10-04T07:45:51.032Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:45:51.182Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:45:51.682Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:45:52.029Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:45:52.067Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:45:53.050Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:45:53.232Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:45:53.301Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T07:45:53.651Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:45:53.780Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:45:53.784Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:45:53.967Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T07:46:06.197Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:46:09.240Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:46:13.713Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:46:14.735Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:46:20.598Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:46:21.196Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:46:23.547Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:46:24.645Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:46:41.309Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:46:42.045Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:46:44.159Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:46:45.238Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:46:56.958Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:46:57.826Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:46:58.591Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d05aee07dba83b1c25d2","endpoint":"https://fcm.googleapis.com/fcm/send/co91t33jW8c:APA91bHPwGgkRpHYGZd2x52WBBzCg3HVfCiYot1C7klrkX13guCDkv2hItIUR1S6KAoLlb4eVZboFF3jswTyeDP0Wjv9rDH1jnUYh7j2SSt7npzUDqGvBjeEWeutpq9oPpxpREOLrrzF"}
[2025-10-04T07:46:58.643Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T07:47:01.421Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:47:02.892Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:47:10.875Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T07:47:11.153Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T07:47:11.358Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:47:13.004Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T07:47:13.406Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:47:21.082Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:47:21.456Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:47:23.038Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:47:23.905Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:47:31.863Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:47:32.260Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:47:33.249Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:47:34.120Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:47:39.583Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:47:40.986Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:47:42.869Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:47:45.686Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:47:47.112Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfabea6370e2deef8239fc/assign-vendor"}
[2025-10-04T07:47:47.400Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T07:47:47.487Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T07:47:48.018Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfabea6370e2deef8239fc"}
[2025-10-04T07:47:48.498Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:47:55.933Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:47:56.966Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:48:05.160Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:48:05.826Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:48:06.251Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:48:06.439Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:48:06.831Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:48:08.598Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:48:08.618Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:48:08.864Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:48:09.167Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:48:10.248Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:48:10.651Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:48:10.732Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:48:10.735Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:48:11.001Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:48:18.562Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:48:19.031Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:48:20.445Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:48:21.764Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:48:21.894Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d05aee07dba83b1c25d2","endpoint":"https://fcm.googleapis.com/fcm/send/co91t33jW8c:APA91bHPwGgkRpHYGZd2x52WBBzCg3HVfCiYot1C7klrkX13guCDkv2hItIUR1S6KAoLlb4eVZboFF3jswTyeDP0Wjv9rDH1jnUYh7j2SSt7npzUDqGvBjeEWeutpq9oPpxpREOLrrzF"}
[2025-10-04T07:48:21.899Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T07:48:32.305Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:48:32.594Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:48:33.692Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:48:34.502Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:49:33.776Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T07:49:33.782Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 920
[2025-10-04T07:49:33.883Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T07:49:33.938Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T07:50:33.731Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:51:33.738Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:52:33.754Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:53:09.039Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:53:09.056Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:53:09.149Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:53:09.174Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:53:09.176Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:53:09.293Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:53:09.352Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:53:09.386Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T07:53:09.477Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:53:09.560Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:53:09.561Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:53:09.689Z] [INFO] Vendor bookings retrieved: 2 for vendor 920 | {"vendorId":"920","totalBookings":2,"page":1}
[2025-10-04T07:53:15.884Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:53:15.907Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T07:53:16.008Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T07:53:16.222Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T07:53:16.287Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:53:27.207Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T07:53:27.369Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T07:53:27.392Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T07:53:27.449Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:53:27.475Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfac226370e2deef823a1d"}
[2025-10-04T07:53:27.625Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T07:53:27.844Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:53:30.567Z] [INFO] Email sent successfully | {"messageId":"<3226eb37-0c1b-44dc-e4fb-9c329cfa840b@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d"}
[2025-10-04T07:53:30.570Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<3226eb37-0c1b-44dc-e4fb-9c329cfa840b@gmail.com>"}
[2025-10-04T07:53:30.575Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T07:53:30.578Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d","notificationId":"68e0d2775632c71c9340c70b"}
[2025-10-04T07:53:33.763Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:53:36.181Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:53:36.198Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:53:36.233Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:53:36.234Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:53:36.306Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:53:36.377Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:53:36.453Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:53:36.489Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:53:36.490Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:53:36.635Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:53:53.218Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:53:53.256Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:53:53.302Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:53:53.323Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:53:53.338Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:53:53.517Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:53:53.579Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:53:53.605Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:53:53.688Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:53:53.743Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:53:53.745Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:53:53.896Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:54:22.249Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:54:22.276Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T07:54:22.426Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T07:54:22.555Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":3,"totalRevenue":694}
[2025-10-04T07:54:22.694Z] [INFO] Admin retrieved bookings: 3 | {"totalBookings":3,"page":1,"filters":{}}
[2025-10-04T07:54:33.774Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T07:54:33.777Z] [INFO] Auto-rejecting booking 68dfac046370e2deef823a0c for vendor 920
[2025-10-04T07:54:33.872Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c","penaltyAmount":100}
[2025-10-04T07:54:33.906Z] [INFO] Booking 68dfac046370e2deef823a0c auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T07:54:35.310Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T07:54:35.315Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T07:54:35.412Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T07:54:55.075Z] [INFO] Booking created: FIX9340C8F3 | {"bookingId":"68e0d2cf5632c71c9340c8f3","customerEmail":"panchalajay717@gmail.com","totalAmount":472,"servicesCount":1}
[2025-10-04T07:54:55.268Z] [INFO] Customer bookings retrieved: 4 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":4,"page":1}
[2025-10-04T07:54:57.642Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T07:54:57.658Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T07:54:57.726Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T07:55:17.043Z] [INFO] Booking created: FIX9340C905 | {"bookingId":"68e0d2e45632c71c9340c905","customerEmail":"panchalajay717@gmail.com","totalAmount":472,"servicesCount":1}
[2025-10-04T07:55:17.228Z] [INFO] Customer bookings retrieved: 5 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":5,"page":1}
[2025-10-04T07:55:20.527Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T07:55:20.573Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T07:55:20.625Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T07:55:33.783Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:55:40.146Z] [INFO] Booking created: FIX9340C918 | {"bookingId":"68e0d2fc5632c71c9340c918","customerEmail":"panchalajay717@gmail.com","totalAmount":472,"servicesCount":1}
[2025-10-04T07:55:40.317Z] [INFO] Customer bookings retrieved: 6 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":6,"page":1}
[2025-10-04T07:55:44.889Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:55:44.898Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T07:55:44.980Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T07:55:45.110Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":6,"totalRevenue":2110}
[2025-10-04T07:55:45.190Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T07:55:56.702Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2cf5632c71c9340c8f3/assign-vendor"}
[2025-10-04T07:55:56.855Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T07:55:56.871Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:55:56.896Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T07:55:56.948Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68e0d2cf5632c71c9340c8f3"}
[2025-10-04T07:55:56.981Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2cf5632c71c9340c8f3","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T07:55:57.129Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T07:55:59.895Z] [INFO] Email sent successfully | {"messageId":"<5ec4bdb9-dd1f-ea20-a694-de0d2c12b2af@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2cf5632c71c9340c8f3"}
[2025-10-04T07:55:59.897Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<5ec4bdb9-dd1f-ea20-a694-de0d2c12b2af@gmail.com>"}
[2025-10-04T07:55:59.901Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"920","bookingId":"68e0d2cf5632c71c9340c8f3"}
[2025-10-04T07:55:59.903Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68e0d2cf5632c71c9340c8f3","notificationId":"68e0d30c5632c71c9340cabf"}
[2025-10-04T07:56:02.682Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:56:02.701Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:56:02.836Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:56:02.842Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:56:02.852Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:56:02.910Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:56:02.988Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:56:03.050Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:56:03.068Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:56:03.133Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:56:03.134Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:56:03.302Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:56:16.166Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:56:16.210Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:56:16.234Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:56:16.297Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:56:16.298Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:56:16.360Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:56:16.388Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:56:16.489Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:56:16.500Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:56:16.563Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:56:16.564Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:56:16.709Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:56:29.145Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:56:29.246Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:56:29.303Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:56:29.308Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:56:29.377Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:56:29.480Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:56:29.580Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:56:29.631Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:56:29.635Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:56:29.801Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:56:33.799Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:56:37.729Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:56:37.830Z] [INFO] Created new subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:56:50.427Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:56:50.555Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:56:50.596Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:56:50.603Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:56:50.612Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:56:50.725Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:56:50.737Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:56:50.789Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:56:50.821Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:56:50.858Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:56:50.863Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:56:51.023Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:57:06.553Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T07:57:06.609Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T07:57:06.721Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T07:57:18.579Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:57:18.596Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:57:18.621Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:57:18.694Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:57:18.695Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:57:18.768Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:57:18.778Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:57:18.886Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:57:18.891Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:57:18.925Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:57:18.928Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:57:19.091Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T07:57:33.798Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T07:58:36.334Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:58:36.750Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:58:38.364Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:58:38.835Z] [INFO] Removing expired subscription: 68e0d05aee07dba83b1c25d2
[2025-10-04T07:58:38.901Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d3355632c71c9340cb6e","endpoint":"https://fcm.googleapis.com/fcm/send/eON9NhRVh7I:APA91bExUVN2ivR1PpZTr0AmAybj2TFL_4pE7h4oj5XoPGejHEgBt1s_Q-Ckrz2JFFNaMPmWbFuvJ1m671YenOi61A9vDTJjnBYICLZOSjt_71reAXiNH3PVX3OeHJp1xBLlIiPVluIT"}
[2025-10-04T07:58:38.916Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":2,"successful":1,"failed":1}
[2025-10-04T07:58:39.315Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d3355632c71c9340cb6e","endpoint":"https://fcm.googleapis.com/fcm/send/eON9NhRVh7I:APA91bExUVN2ivR1PpZTr0AmAybj2TFL_4pE7h4oj5XoPGejHEgBt1s_Q-Ckrz2JFFNaMPmWbFuvJ1m671YenOi61A9vDTJjnBYICLZOSjt_71reAXiNH3PVX3OeHJp1xBLlIiPVluIT"}
[2025-10-04T07:58:39.319Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T07:58:39.436Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:58:39.583Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d3355632c71c9340cb6e","endpoint":"https://fcm.googleapis.com/fcm/send/eON9NhRVh7I:APA91bExUVN2ivR1PpZTr0AmAybj2TFL_4pE7h4oj5XoPGejHEgBt1s_Q-Ckrz2JFFNaMPmWbFuvJ1m671YenOi61A9vDTJjnBYICLZOSjt_71reAXiNH3PVX3OeHJp1xBLlIiPVluIT"}
[2025-10-04T07:58:39.600Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T07:58:53.292Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T07:58:53.470Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T07:58:54.338Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T07:58:55.332Z] [INFO] SMTP connection verified successfully
[2025-10-04T07:59:21.250Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T07:59:21.449Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T07:59:21.490Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T07:59:21.585Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T07:59:21.611Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfac046370e2deef823a0c"}
[2025-10-04T07:59:21.869Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T07:59:22.067Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T07:59:24.832Z] [INFO] Email sent successfully | {"messageId":"<538005b5-1175-98e7-fdca-8950b81166b1@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c"}
[2025-10-04T07:59:24.833Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<538005b5-1175-98e7-fdca-8950b81166b1@gmail.com>"}
[2025-10-04T07:59:24.836Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c"}
[2025-10-04T07:59:24.839Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c","notificationId":"68e0d3d9d6c42024dddcd91d"}
[2025-10-04T07:59:29.774Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:59:29.787Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:59:29.834Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:59:29.838Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:59:29.918Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:59:30.036Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T07:59:30.045Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:59:30.122Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:59:30.123Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:59:30.310Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T07:59:49.256Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:59:49.272Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:59:49.288Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T07:59:49.307Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:59:49.309Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:59:49.423Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T07:59:49.441Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T07:59:49.642Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T07:59:49.722Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T07:59:49.782Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T07:59:49.784Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T07:59:49.979Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T07:59:54.385Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T07:59:54.388Z] [INFO] Auto-rejecting booking 68dfabea6370e2deef8239fc for vendor 920
[2025-10-04T07:59:54.524Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfabea6370e2deef8239fc","penaltyAmount":100}
[2025-10-04T07:59:54.566Z] [INFO] Booking 68dfabea6370e2deef8239fc auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:00:03.905Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:00:03.950Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:00:04.005Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:00:04.022Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:00:04.041Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:00:04.241Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:00:04.300Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:00:04.337Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T08:00:04.399Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:00:04.469Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:00:04.499Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:00:04.664Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T08:00:54.414Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:01:05.141Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:01:05.517Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:01:07.812Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:01:08.573Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:01:21.705Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:01:22.095Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:01:24.229Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d3355632c71c9340cb6e","endpoint":"https://fcm.googleapis.com/fcm/send/eON9NhRVh7I:APA91bExUVN2ivR1PpZTr0AmAybj2TFL_4pE7h4oj5XoPGejHEgBt1s_Q-Ckrz2JFFNaMPmWbFuvJ1m671YenOi61A9vDTJjnBYICLZOSjt_71reAXiNH3PVX3OeHJp1xBLlIiPVluIT"}
[2025-10-04T08:01:24.238Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:01:24.390Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:01:25.243Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:01:38.627Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:01:38.753Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:01:38.760Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:01:38.783Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:01:38.791Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:01:38.791Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:01:39.031Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T08:01:39.123Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:01:39.157Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:01:39.204Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:01:39.205Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:01:39.374Z] [INFO] Vendor bookings retrieved: 3 for vendor 920 | {"vendorId":"920","totalBookings":3,"page":1}
[2025-10-04T08:01:48.330Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:01:48.942Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:01:50.822Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:01:51.560Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:01:56.943Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:01:57.422Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:01:59.775Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:02:00.608Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:02:05.263Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2e45632c71c9340c905/assign-vendor"}
[2025-10-04T08:02:05.633Z] [INFO] 🔔 Starting push notification for vendor 920 and booking undefined
[2025-10-04T08:02:06.293Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:02:06.320Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T08:02:07.254Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68e0d2e45632c71c9340c905"}
[2025-10-04T08:02:07.391Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:02:14.932Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:02:15.989Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d3355632c71c9340cb6e","endpoint":"https://fcm.googleapis.com/fcm/send/eON9NhRVh7I:APA91bExUVN2ivR1PpZTr0AmAybj2TFL_4pE7h4oj5XoPGejHEgBt1s_Q-Ckrz2JFFNaMPmWbFuvJ1m671YenOi61A9vDTJjnBYICLZOSjt_71reAXiNH3PVX3OeHJp1xBLlIiPVluIT"}
[2025-10-04T08:02:15.996Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:02:16.617Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:02:18.572Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:02:19.573Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:02:28.234Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:02:28.534Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:02:29.441Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:02:30.433Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:02:37.492Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:02:37.553Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:02:37.569Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:02:37.837Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:02:37.846Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:02:37.958Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:02:38.010Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:02:38.137Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:02:38.165Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:02:38.209Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:02:38.211Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:02:38.430Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:02:45.046Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:02:45.053Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:02:45.113Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:02:45.120Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:02:45.150Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:02:45.276Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:02:45.303Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:02:45.393Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:02:45.448Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:02:45.492Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:02:45.493Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:02:45.691Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:02:53.180Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:02:53.197Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:02:53.293Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:02:53.512Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":6,"totalRevenue":2110}
[2025-10-04T08:02:53.677Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:03:05.389Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2fc5632c71c9340c918/assign-vendor"}
[2025-10-04T08:03:05.547Z] [INFO] 🔔 Starting push notification for vendor 920 and booking undefined
[2025-10-04T08:03:05.566Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:03:05.616Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T08:03:05.654Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:03:05.683Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T08:03:05.749Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2fc5632c71c9340c918","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:03:06.082Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:03:08.704Z] [INFO] Email sent successfully | {"messageId":"<54300de6-5eda-ff1b-c7b9-6daf546197f8@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2fc5632c71c9340c918"}
[2025-10-04T08:03:08.706Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<54300de6-5eda-ff1b-c7b9-6daf546197f8@gmail.com>"}
[2025-10-04T08:03:08.707Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"920","bookingId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T08:03:08.708Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68e0d2fc5632c71c9340c918","notificationId":"68e0d4b97de9665e36282076"}
[2025-10-04T08:03:10.700Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:03:10.713Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:03:10.745Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:03:10.747Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:03:10.862Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:03:11.015Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:03:11.104Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:03:11.144Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:03:11.146Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:03:11.373Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:03:29.491Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:03:29.504Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 920
[2025-10-04T08:03:29.754Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T08:03:29.826Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:03:31.205Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:03:31.239Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:03:31.253Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:03:31.319Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:03:31.329Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:03:32.030Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:03:32.060Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:03:32.474Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:03:32.531Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:03:32.920Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:03:32.922Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:03:33.611Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:03:52.302Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:03:52.399Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:03:52.501Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:03:52.698Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":6,"totalRevenue":2110}
[2025-10-04T08:03:52.840Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:03:56.831Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:03:56.874Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:03:56.911Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:03:56.926Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:03:56.931Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:03:57.052Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:03:57.060Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:03:57.184Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:03:57.194Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:03:57.271Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:03:57.277Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:03:57.518Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:04:07.480Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:04:07.488Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:04:07.522Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:04:07.524Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:04:07.630Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:04:07.756Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:04:07.788Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:04:07.831Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:04:07.833Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:04:08.059Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:04:12.864Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:04:12.869Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:04:12.902Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:04:12.906Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:04:13.003Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:04:13.120Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:04:13.155Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:04:13.216Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:04:13.229Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:04:13.449Z] [INFO] Vendor bookings retrieved: 4 for vendor 920 | {"vendorId":"920","totalBookings":4,"page":1}
[2025-10-04T08:04:27.965Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T08:04:28.126Z] [INFO] 🔔 Starting push notification for vendor 920 and booking undefined
[2025-10-04T08:04:28.139Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:04:28.181Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T08:04:28.202Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:04:28.229Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfac226370e2deef823a1d"}
[2025-10-04T08:04:28.318Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:04:28.583Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:04:29.496Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:04:31.230Z] [INFO] Email sent successfully | {"messageId":"<5330ee75-43ca-dc68-d3ff-7f10dc2388d8@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d"}
[2025-10-04T08:04:31.232Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<5330ee75-43ca-dc68-d3ff-7f10dc2388d8@gmail.com>"}
[2025-10-04T08:04:31.235Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T08:04:31.237Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d","notificationId":"68e0d50c7de9665e36282306"}
[2025-10-04T08:04:34.532Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:04:34.583Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:04:34.665Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:04:34.684Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:04:34.896Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:04:35.133Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:04:35.216Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:04:35.267Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:04:35.269Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:04:35.549Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:05:26.137Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:05:26.644Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:05:37.912Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:05:38.312Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:05:48.059Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:05:48.477Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:05:48.593Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:05:49.359Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:05:49.376Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:05:50.545Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:05:51.344Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:05:52.194Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:05:52.306Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:05:52.470Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:05:52.473Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:05:53.060Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:06:10.122Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:06:10.508Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:06:11.641Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:06:12.689Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:06:18.974Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d3355632c71c9340cb6e","endpoint":"https://fcm.googleapis.com/fcm/send/eON9NhRVh7I:APA91bExUVN2ivR1PpZTr0AmAybj2TFL_4pE7h4oj5XoPGejHEgBt1s_Q-Ckrz2JFFNaMPmWbFuvJ1m671YenOi61A9vDTJjnBYICLZOSjt_71reAXiNH3PVX3OeHJp1xBLlIiPVluIT"}
[2025-10-04T08:06:18.985Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:06:22.699Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:06:23.975Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:06:24.723Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:06:24.941Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:06:24.970Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:06:26.038Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:06:26.306Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:06:26.782Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:06:26.987Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:06:27.289Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:06:27.686Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:06:28.057Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:06:35.811Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:06:36.048Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:06:37.796Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:06:38.631Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:06:53.898Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:06:53.933Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:06:54.014Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:06:54.031Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:06:54.032Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:06:54.125Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:06:54.148Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:06:54.255Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:06:54.268Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:06:54.327Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:06:54.330Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:06:54.512Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:07:04.096Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:07:04.109Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:07:04.113Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:07:04.390Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":6,"totalRevenue":2110}
[2025-10-04T08:07:04.564Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:07:14.881Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfabea6370e2deef8239fc/assign-vendor"}
[2025-10-04T08:07:15.030Z] [INFO] 🔔 Starting push notification for vendor 920 and booking undefined
[2025-10-04T08:07:15.050Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"920","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:07:15.080Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"920","vendorObjectId":"68e0ae0d22166485e08dfd71","vendorName":"Krishna Panchal"}
[2025-10-04T08:07:15.131Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0ae0d22166485e08dfd71","taskType":"booking","taskId":"68dfabea6370e2deef8239fc"}
[2025-10-04T08:07:15.140Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:07:15.258Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfabea6370e2deef8239fc","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:07:15.572Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:07:18.387Z] [INFO] Email sent successfully | {"messageId":"<61e34f55-9bb2-bd94-0039-65dcada1f494@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfabea6370e2deef8239fc"}
[2025-10-04T08:07:18.388Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<61e34f55-9bb2-bd94-0039-65dcada1f494@gmail.com>"}
[2025-10-04T08:07:18.390Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"920","bookingId":"68dfabea6370e2deef8239fc"}
[2025-10-04T08:07:18.391Z] [INFO] Booking assignment notification created | {"vendorId":"920","bookingId":"68dfabea6370e2deef8239fc","notificationId":"68e0d5b3d0ed5ba7112148bf"}
[2025-10-04T08:07:20.960Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:07:20.975Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:07:21.028Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:07:21.030Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:07:21.148Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:07:21.327Z] [INFO] Vendor bookings retrieved: 6 for vendor 920 | {"vendorId":"920","totalBookings":6,"page":1}
[2025-10-04T08:07:21.337Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:07:21.415Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:07:21.417Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:07:21.628Z] [INFO] Vendor bookings retrieved: 6 for vendor 920 | {"vendorId":"920","totalBookings":6,"page":1}
[2025-10-04T08:07:37.853Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:07:37.859Z] [INFO] Auto-rejecting booking 68e0d2cf5632c71c9340c8f3 for vendor 920
[2025-10-04T08:07:37.955Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68e0d2cf5632c71c9340c8f3","penaltyAmount":100}
[2025-10-04T08:07:37.987Z] [INFO] Booking 68e0d2cf5632c71c9340c8f3 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:08:27.140Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:08:27.222Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:08:27.448Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:08:27.489Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:08:27.558Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:08:27.924Z] [INFO] Updated existing subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:08:27.955Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:08:28.216Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:08:28.400Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:08:28.492Z] [INFO] Getting bookings for vendor | {"vendorId":"920","page":1,"limit":10}
[2025-10-04T08:08:28.505Z] [INFO] Booking query | {"query":{"vendor.vendorId":"920"}}
[2025-10-04T08:08:28.705Z] [INFO] Vendor bookings retrieved: 5 for vendor 920 | {"vendorId":"920","totalBookings":5,"page":1}
[2025-10-04T08:08:37.905Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:08:53.738Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:08:55.588Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:09:00.178Z] [INFO] Removing expired subscription: 68e0d3355632c71c9340cb6e
[2025-10-04T08:09:00.268Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":0,"failed":1}
[2025-10-04T08:09:03.148Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:09:03.986Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:09:13.834Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:09:14.066Z] [INFO] Created new subscription for vendor: 68e0ae0d22166485e08dfd71
[2025-10-04T08:09:21.600Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:09:22.196Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:09:23.899Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:09:25.548Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:09:43.548Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:09:43.878Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:09:45.515Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:09:45.648Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:09:46.912Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:09:47.959Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:10:14.627Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/users?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:10:14.823Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/users/stats"}
[2025-10-04T08:10:15.409Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/users?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:10:16.026Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/users?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:10:25.091Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:10:25.471Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:10:26.624Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:10:27.741Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:10:29.657Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T08:10:29.809Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:10:32.690Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:10:32.692Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:10:40.003Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68e0ae0d22166485e08dfd71"}
[2025-10-04T08:10:40.374Z] [INFO] Vendor deleted by admin | {"vendorId":"68e0ae0d22166485e08dfd71","vendorEmail":"panchalajay717@gmail.com"}
[2025-10-04T08:10:40.485Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:10:54.969Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:10:55.320Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:10:56.689Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:10:57.820Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:11:04.871Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:11:05.254Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:11:06.737Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:11:07.799Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:11:18.134Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:11:18.597Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:11:19.964Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:11:21.064Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:11:22.699Z] [INFO] Vendor registered successfully | {"vendorId":"68e0d6a869faeeee6c95d758","email":"panchalajay717@gmail.com","phone":"7610416911"}
[2025-10-04T08:11:31.800Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T08:11:32.265Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:11:32.589Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:11:32.628Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T08:11:38.684Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:11:39.163Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:11:40.765Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:11:40.768Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:11:40.783Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:11:40.963Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/logout"}
[2025-10-04T08:11:42.920Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:11:44.005Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/logout"}
[2025-10-04T08:11:44.131Z] [INFO] Admin logged out | {"adminId":"ADMIN001","ip":"::1"}
[2025-10-04T08:11:45.382Z] [INFO] Admin logged out | {"adminId":"ADMIN001","ip":"::ffff:127.0.0.1"}
[2025-10-04T08:11:53.297Z] [INFO] Admin logged in successfully | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T08:11:53.394Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T08:11:53.607Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T08:12:00.103Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:12:00.257Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T08:12:03.606Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:12:03.760Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:12:04.661Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:12:05.667Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:12:08.841Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:12:08.925Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T08:12:13.524Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68e0d6a869faeeee6c95d758/status"}
[2025-10-04T08:12:13.744Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:12:16.763Z] [INFO] Email sent successfully | {"messageId":"<210c0cf7-bb00-1d22-99eb-cba3fb0b416f@gmail.com>","to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!"}
[2025-10-04T08:12:16.765Z] [INFO] Vendor approval email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","email":"panchalajay717@gmail.com"}
[2025-10-04T08:12:16.767Z] [INFO] Vendor approve by admin | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","action":"approve"}
[2025-10-04T08:12:16.802Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:12:19.649Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:12:19.670Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:12:19.676Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:12:19.800Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":6,"totalRevenue":2110}
[2025-10-04T08:12:20.037Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:12:37.988Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0d6a869faeeee6c95d758","email":"panchalajay717@gmail.com"}
[2025-10-04T08:12:42.350Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/create-order"}
[2025-10-04T08:12:43.337Z] [INFO] Vendor deposit order created successfully | {"vendorId":"990","amount":3999,"transactionId":"DEP_990_1759565562438","razorpayOrderId":"order_RPKFgsQgdidxQO"}
[2025-10-04T08:13:02.088Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/verify"}
[2025-10-04T08:13:02.198Z] [INFO] Vendor deposit payment verification attempt | {"vendorId":"990","transactionId":"DEP_990_1759565562438","razorpayOrderId":"order_RPKFgsQgdidxQO","razorpayPaymentId":"pay_RPKFoLIA101gvf","expectedSignature":"43128d8df0...","receivedSignature":"43128d8df0..."}
[2025-10-04T08:13:02.199Z] [INFO] Adding deposit to vendor wallet | {"vendorId":"990","amount":3999,"currentBalance":0}
[2025-10-04T08:13:02.314Z] [INFO] Vendor wallet updated after deposit | {"vendorId":"990","newBalance":3999,"hasInitialDeposit":true}
[2025-10-04T08:13:02.410Z] [INFO] Vendor deposit payment verified and processed successfully | {"vendorId":"990","transactionId":"DEP_990_1759565562438","amount":3999,"razorpayPaymentId":"pay_RPKFoLIA101gvf"}
[2025-10-04T08:13:02.528Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:13:04.701Z] [INFO] Found 2 pending assignments to check for auto-rejection
[2025-10-04T08:13:04.710Z] [INFO] Auto-rejecting booking 68dfac046370e2deef823a0c for vendor 920
[2025-10-04T08:13:04.802Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfac046370e2deef823a0c","penaltyAmount":100}
[2025-10-04T08:13:04.847Z] [INFO] Booking 68dfac046370e2deef823a0c auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:13:04.848Z] [INFO] Auto-rejecting booking 68e0d2e45632c71c9340c905 for vendor 920
[2025-10-04T08:13:04.947Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68e0d2e45632c71c9340c905","penaltyAmount":100}
[2025-10-04T08:13:04.999Z] [INFO] Booking 68e0d2e45632c71c9340c905 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:13:05.502Z] [INFO] Email sent successfully | {"messageId":"<6d035b62-a605-4482-4358-d911af4832b6@gmail.com>","to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly"}
[2025-10-04T08:13:05.503Z] [INFO] Deposit confirmation email sent successfully | {"vendorId":"990","email":"panchalajay717@gmail.com"}
[2025-10-04T08:13:06.568Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T08:13:08.744Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T08:13:11.883Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:13:11.897Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:13:11.933Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:13:11.945Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:13:12.024Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T08:13:12.032Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:13:12.081Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:13:12.101Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:13:12.102Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:13:12.177Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T08:13:50.904Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2cf5632c71c9340c8f3/assign-vendor"}
[2025-10-04T08:13:51.058Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:13:51.080Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:13:51.109Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:13:51.114Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:13:51.191Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d2cf5632c71c9340c8f3"}
[2025-10-04T08:13:51.243Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2cf5632c71c9340c8f3","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:13:51.501Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:13:54.138Z] [INFO] Email sent successfully | {"messageId":"<17900b33-aed7-9172-001a-f89f7f5fc42c@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2cf5632c71c9340c8f3"}
[2025-10-04T08:13:54.140Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<17900b33-aed7-9172-001a-f89f7f5fc42c@gmail.com>"}
[2025-10-04T08:13:54.142Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d2cf5632c71c9340c8f3"}
[2025-10-04T08:13:54.143Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d2cf5632c71c9340c8f3","notificationId":"68e0d73f97691f3a6b7f4c6d"}
[2025-10-04T08:13:56.164Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:13:56.221Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:13:56.249Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:13:56.253Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:13:56.338Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:13:56.345Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T08:13:56.391Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:13:56.423Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:13:56.433Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:13:56.523Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T08:14:04.681Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:14:04.684Z] [INFO] Auto-rejecting booking 68e0d2fc5632c71c9340c918 for vendor 920
[2025-10-04T08:14:04.773Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68e0d2fc5632c71c9340c918","penaltyAmount":100}
[2025-10-04T08:14:04.814Z] [INFO] Booking 68e0d2fc5632c71c9340c918 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:15:04.684Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:15:04.686Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 920
[2025-10-04T08:15:04.781Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T08:15:04.817Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:16:04.689Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:16:17.876Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:16:17.964Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:16:18.030Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:16:18.042Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:16:18.085Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:16:18.164Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:16:18.195Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T08:16:18.260Z] [INFO] Created new subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:16:18.292Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:16:18.339Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:16:18.343Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:16:18.454Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T08:16:31.560Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:16:31.661Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:16:31.774Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:16:31.939Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":6,"totalRevenue":2110}
[2025-10-04T08:16:32.028Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:16:42.376Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T08:16:42.534Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:16:42.544Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:16:42.587Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:16:42.603Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:16:42.627Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68dfac046370e2deef823a0c"}
[2025-10-04T08:16:42.667Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:16:42.916Z] [INFO] Admin retrieved bookings: 6 | {"totalBookings":6,"page":1,"filters":{}}
[2025-10-04T08:16:45.701Z] [INFO] Email sent successfully | {"messageId":"<5e82ac50-b541-fcc4-0b6f-83f11c3242ef@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c"}
[2025-10-04T08:16:45.703Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<5e82ac50-b541-fcc4-0b6f-83f11c3242ef@gmail.com>"}
[2025-10-04T08:16:45.705Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68dfac046370e2deef823a0c"}
[2025-10-04T08:16:45.706Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68dfac046370e2deef823a0c","notificationId":"68e0d7ea97691f3a6b7f4ec1"}
[2025-10-04T08:16:48.250Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:16:48.266Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:16:48.298Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:16:48.389Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:16:48.436Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:16:48.536Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:16:48.567Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:16:48.577Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:16:48.671Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:16:48.717Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:16:48.720Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:16:48.867Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:16:58.689Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T08:16:58.753Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T08:16:58.858Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T08:17:04.697Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:17:16.012Z] [INFO] Booking created: FIX6B7F4F50 | {"bookingId":"68e0d80b97691f3a6b7f4f50","customerEmail":"panchalajay717@gmail.com","totalAmount":472,"servicesCount":1}
[2025-10-04T08:17:16.257Z] [INFO] Customer bookings retrieved: 7 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":7,"page":1}
[2025-10-04T08:17:20.897Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T08:17:21.201Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:17:22.017Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:17:22.026Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:17:22.035Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:17:22.172Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":7,"totalRevenue":2582}
[2025-10-04T08:17:22.306Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:17:32.745Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T08:17:32.907Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:17:32.947Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:17:32.977Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:17:33.028Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:17:33.041Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:17:33.081Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:17:33.359Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:17:36.551Z] [INFO] Email sent successfully | {"messageId":"<3e9e8882-72ff-d5ac-7023-83b54c111b50@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:17:36.558Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<3e9e8882-72ff-d5ac-7023-83b54c111b50@gmail.com>"}
[2025-10-04T08:17:36.572Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:17:36.575Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","notificationId":"68e0d81c97691f3a6b7f5163"}
[2025-10-04T08:17:41.220Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:17:41.258Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:17:41.279Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:17:41.331Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:17:41.332Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:17:41.393Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:17:41.419Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:17:41.520Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:17:41.533Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:17:41.627Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:17:41.634Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:17:41.802Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:18:04.702Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:18:04.704Z] [INFO] Auto-rejecting booking 68dfabea6370e2deef8239fc for vendor 920
[2025-10-04T08:18:04.804Z] [INFO] Auto-rejection penalty applied to vendor 920 | {"vendorId":"920","bookingId":"68dfabea6370e2deef8239fc","penaltyAmount":100}
[2025-10-04T08:18:04.849Z] [INFO] Booking 68dfabea6370e2deef8239fc auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"920","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:19:04.713Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:19:52.773Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:19:53.218Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:19:54.736Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:19:58.151Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:19:58.579Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:19:59.858Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:20:00.885Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:20:04.063Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:20:04.064Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:20:38.264Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:20:39.359Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:20:42.625Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:20:43.579Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:20:44.712Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:20:44.714Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:20:49.342Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:20:49.377Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:20:49.428Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:20:49.439Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:20:49.632Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:21:12.221Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:21:12.443Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:21:12.602Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:21:12.776Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:21:12.924Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:21:13.140Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:21:13.274Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:21:13.604Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:21:13.725Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:21:13.838Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:21:13.853Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:21:14.021Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:21:17.938Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:21:18.247Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:21:19.167Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:21:20.737Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:21:24.324Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T08:21:24.624Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:21:25.247Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:21:25.253Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:21:25.258Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:21:25.393Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":7,"totalRevenue":2582}
[2025-10-04T08:21:25.553Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:21:37.486Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T08:21:37.659Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:21:37.681Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:21:37.723Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:21:37.746Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:21:37.785Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68dfac226370e2deef823a1d"}
[2025-10-04T08:21:37.897Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:21:38.179Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:21:41.028Z] [INFO] Email sent successfully | {"messageId":"<d3a8067c-d254-54c3-87d8-f544e24e0375@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d"}
[2025-10-04T08:21:41.031Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<d3a8067c-d254-54c3-87d8-f544e24e0375@gmail.com>"}
[2025-10-04T08:21:41.033Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T08:21:41.034Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d","notificationId":"68e0d9114c9f0fd6bf1950a0"}
[2025-10-04T08:21:43.188Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:21:43.198Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:21:43.233Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:21:43.235Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:21:43.349Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:21:43.437Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:21:43.521Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:21:43.581Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:21:43.582Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:21:43.791Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:22:19.208Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:22:35.525Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/create-order"}
[2025-10-04T08:22:35.822Z] [INFO] Vendor deposit order created successfully | {"vendorId":"990","amount":7000,"transactionId":"DEP_990_1759566155605","razorpayOrderId":"order_RPKQ7dRGRv0xAu"}
[2025-10-04T08:22:54.216Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/verify"}
[2025-10-04T08:22:54.324Z] [INFO] Vendor deposit payment verification attempt | {"vendorId":"990","transactionId":"DEP_990_1759566155605","razorpayOrderId":"order_RPKQ7dRGRv0xAu","razorpayPaymentId":"pay_RPKQEIo8gy4TL0","expectedSignature":"9a475c576a...","receivedSignature":"9a475c576a..."}
[2025-10-04T08:22:54.326Z] [INFO] Adding deposit to vendor wallet | {"vendorId":"990","amount":7000,"currentBalance":3999}
[2025-10-04T08:22:54.453Z] [INFO] Vendor wallet updated after deposit | {"vendorId":"990","newBalance":10999,"hasInitialDeposit":true}
[2025-10-04T08:22:54.536Z] [INFO] Vendor deposit payment verified and processed successfully | {"vendorId":"990","transactionId":"DEP_990_1759566155605","amount":7000,"razorpayPaymentId":"pay_RPKQEIo8gy4TL0"}
[2025-10-04T08:22:54.559Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:22:57.537Z] [INFO] Email sent successfully | {"messageId":"<a52dd0dc-6fa5-7a7f-0f9e-faf769642e8b@gmail.com>","to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly"}
[2025-10-04T08:22:57.539Z] [INFO] Deposit confirmation email sent successfully | {"vendorId":"990","email":"panchalajay717@gmail.com"}
[2025-10-04T08:22:58.602Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T08:23:00.767Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T08:23:11.288Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:23:11.293Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:23:11.314Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:23:11.385Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:23:11.387Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:23:11.460Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:23:11.475Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:23:11.633Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:23:11.711Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:23:11.783Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:23:11.784Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:23:11.976Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:23:18.190Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/wallet"}
[2025-10-04T08:23:19.217Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:23:22.913Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/68e0d80b97691f3a6b7f4f50/decline"}
[2025-10-04T08:23:23.098Z] [INFO] Penalty applied for task rejection | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100,"balanceAfter":10899}
[2025-10-04T08:23:23.140Z] [INFO] Vendor declined task for booking 68e0d80b97691f3a6b7f4f50 | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyApplied":true}
[2025-10-04T08:23:24.180Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:23:24.187Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:23:24.217Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:23:24.218Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:23:24.401Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:23:47.871Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:23:47.920Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:23:47.935Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:23:47.972Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:23:48.033Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:23:48.154Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:23:48.195Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:23:48.366Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:23:48.375Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:23:48.459Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:23:48.461Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:23:48.627Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:24:19.240Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:24:19.241Z] [INFO] Auto-rejecting booking 68e0d2cf5632c71c9340c8f3 for vendor 990
[2025-10-04T08:24:19.313Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d2cf5632c71c9340c8f3","penaltyAmount":100}
[2025-10-04T08:24:19.352Z] [INFO] Booking 68e0d2cf5632c71c9340c8f3 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:24:36.743Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:24:36.744Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:24:55.318Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:24:55.909Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:24:57.424Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:24:58.424Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:24:59.441Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:24:59.443Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:24:59.697Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0d7d297691f3a6b7f4d19","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:24:59.705Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:25:07.907Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:25:08.031Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:25:09.769Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:25:10.820Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:25:23.951Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:25:24.005Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:25:24.020Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:25:24.150Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:25:24.152Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:25:24.257Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:25:24.292Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:25:24.400Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:25:24.441Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:25:24.533Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:25:24.556Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:25:24.688Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:25:33.032Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:25:33.039Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:25:33.074Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:25:33.323Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":7,"totalRevenue":2582}
[2025-10-04T08:25:33.439Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:25:48.421Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T08:25:48.545Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:25:48.573Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:25:48.595Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:25:48.620Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:25:48.638Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:25:48.753Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:25:49.026Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:25:51.675Z] [INFO] Email sent successfully | {"messageId":"<92cadbcc-1099-16f7-e9b1-9081324a1448@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:25:51.677Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<92cadbcc-1099-16f7-e9b1-9081324a1448@gmail.com>"}
[2025-10-04T08:25:51.684Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:25:51.688Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","notificationId":"68e0da0ccfa707691b06ecc9"}
[2025-10-04T08:25:54.737Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:25:54.750Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:25:54.786Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:25:54.811Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:25:54.915Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:25:54.972Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:25:55.003Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:25:55.071Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:25:55.072Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:25:55.205Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:26:10.860Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:26:15.698Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:26:15.716Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:26:15.816Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:26:16.070Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":7,"totalRevenue":2582}
[2025-10-04T08:26:16.132Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:26:26.067Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2fc5632c71c9340c918/assign-vendor"}
[2025-10-04T08:26:26.182Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:26:26.195Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:26:26.235Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:26:26.266Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:26:26.295Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T08:26:26.333Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2fc5632c71c9340c918","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:26:26.708Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:26:29.221Z] [INFO] Email sent successfully | {"messageId":"<dec0e00f-2bbf-0a70-2d11-b2212a1ab548@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2fc5632c71c9340c918"}
[2025-10-04T08:26:29.222Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<dec0e00f-2bbf-0a70-2d11-b2212a1ab548@gmail.com>"}
[2025-10-04T08:26:29.224Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T08:26:29.224Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918","notificationId":"68e0da32cfa707691b06eeee"}
[2025-10-04T08:26:31.595Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:26:31.624Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:26:31.663Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:26:31.707Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:26:31.711Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:26:31.841Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:26:31.852Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:26:31.931Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:26:32.006Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:26:32.099Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:26:32.107Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:26:32.265Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:26:43.613Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:26:43.664Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:26:43.699Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:26:43.739Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:26:43.800Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:26:43.900Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:26:43.967Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:26:44.062Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:26:44.147Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:26:44.189Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:26:44.191Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:26:44.354Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:26:59.303Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:26:59.356Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:26:59.540Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:26:59.609Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:26:59.621Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:26:59.754Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:26:59.827Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:26:59.925Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:26:59.997Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:27:00.072Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:27:00.087Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:27:00.291Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:27:10.874Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:27:10.876Z] [INFO] Auto-rejecting booking 68dfac046370e2deef823a0c for vendor 990
[2025-10-04T08:27:10.969Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68dfac046370e2deef823a0c","penaltyAmount":100}
[2025-10-04T08:27:11.018Z] [INFO] Booking 68dfac046370e2deef823a0c auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:28:10.900Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:28:31.032Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:28:33.136Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:28:47.663Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:28:48.311Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:28:51.482Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:28:52.529Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:29:20.844Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:29:21.761Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:29:25.674Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:29:26.911Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:29:48.075Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:29:49.106Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:29:59.920Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:30:00.670Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:30:02.333Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:30:06.434Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:30:07.647Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:30:14.389Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:30:15.085Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:30:29.167Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:30:29.787Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:30:43.176Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:30:44.047Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:30:45.726Z] [INFO] No active admin subscriptions found
[2025-10-04T08:31:10.792Z] [INFO] Created new admin subscription for admin: 68ca7f8988ac97b4e9c16645
[2025-10-04T08:31:10.892Z] [INFO] Push notification results for admins: | {"total":1,"successful":0,"failed":1}
[2025-10-04T08:31:11.663Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:31:12.181Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:31:53.792Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:31:54.023Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:33:31.180Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:33:31.460Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:34:04.791Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:34:05.670Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:34:12.350Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:34:12.770Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:34:14.308Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:34:15.652Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:34:17.479Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:34:17.779Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:34:19.357Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:34:20.369Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:35:10.349Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:35:10.506Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:35:11.429Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:35:12.307Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:35:23.532Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:35:23.644Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:35:23.797Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:35:23.832Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:35:23.857Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:35:23.929Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:35:24.023Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:35:24.138Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:35:24.198Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:35:24.244Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:35:24.246Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:35:24.448Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:35:33.714Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T08:35:34.070Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:35:34.592Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:35:34.598Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:35:34.648Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:35:34.764Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":7,"totalRevenue":2582}
[2025-10-04T08:35:34.930Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:35:48.289Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2e45632c71c9340c905/assign-vendor"}
[2025-10-04T08:35:48.473Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:35:48.490Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:35:48.524Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:35:48.587Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:35:48.623Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d2e45632c71c9340c905"}
[2025-10-04T08:35:48.825Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2e45632c71c9340c905","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:35:49.031Z] [INFO] Admin retrieved bookings: 7 | {"totalBookings":7,"page":1,"filters":{}}
[2025-10-04T08:35:51.766Z] [INFO] Email sent successfully | {"messageId":"<c4a08cb5-0120-9ec0-5db6-fa7de89f5728@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2e45632c71c9340c905"}
[2025-10-04T08:35:51.767Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<c4a08cb5-0120-9ec0-5db6-fa7de89f5728@gmail.com>"}
[2025-10-04T08:35:51.770Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905"}
[2025-10-04T08:35:51.771Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905","notificationId":"68e0dc64ccbce15b74054394"}
[2025-10-04T08:35:53.334Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:35:53.342Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:35:53.403Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:35:53.410Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:35:53.505Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:35:53.618Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:35:53.624Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:35:53.684Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:35:53.684Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:35:53.866Z] [INFO] Vendor bookings retrieved: 4 for vendor 990 | {"vendorId":"990","totalBookings":4,"page":1}
[2025-10-04T08:36:11.486Z] [INFO] Found 3 pending assignments to check for auto-rejection
[2025-10-04T08:36:11.488Z] [INFO] Auto-rejecting booking 68dfabea6370e2deef8239fc for vendor 68e0ae0d22166485e08dfd71
[2025-10-04T08:36:11.557Z] [INFO] Booking 68dfabea6370e2deef8239fc auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"68e0ae0d22166485e08dfd71","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:36:11.558Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 990
[2025-10-04T08:36:11.639Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T08:36:11.675Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:36:11.677Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 990
[2025-10-04T08:36:11.780Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T08:36:11.815Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:36:27.014Z] [INFO] Customer bookings retrieved: 7 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":7,"page":1}
[2025-10-04T08:36:28.812Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T08:36:28.841Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T08:36:29.021Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T08:36:49.362Z] [INFO] Booking created: FIX7405443F | {"bookingId":"68e0dca1ccbce15b7405443f","customerEmail":"panchalajay717@gmail.com","totalAmount":118,"servicesCount":1}
[2025-10-04T08:36:49.370Z] [INFO] 🔔 Starting push notification for new booking: FIX7405443F
[2025-10-04T08:36:49.434Z] [INFO] Push notification results for admins: | {"total":1,"successful":0,"failed":1}
[2025-10-04T08:36:49.436Z] [INFO] ✅ Push notification sent successfully to admins | {"success":false,"message":"Sent to 0/1 admins","results":[{"success":false,"error":"The subscription p256dh value should be 65 bytes long.","subscriptionId":"68e0db4eaf97503afb4d5dd1"}]}
[2025-10-04T08:36:49.712Z] [INFO] Customer bookings retrieved: 8 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":8,"page":1}
[2025-10-04T08:36:54.608Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:36:54.802Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:36:54.816Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:36:55.043Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T08:36:55.162Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:37:11.493Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:37:11.508Z] [INFO] Auto-rejecting booking 68e0d2fc5632c71c9340c918 for vendor 990
[2025-10-04T08:37:11.599Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918","penaltyAmount":100}
[2025-10-04T08:37:11.634Z] [INFO] Booking 68e0d2fc5632c71c9340c918 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:38:15.858Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:38:16.205Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:38:19.958Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:38:20.691Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:38:30.219Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:38:30.220Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:38:38.950Z] [INFO] Push notification results for admins: | {"total":1,"successful":0,"failed":1}
[2025-10-04T08:39:04.102Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:39:06.834Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:39:16.303Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:39:16.869Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:39:48.304Z] [INFO] Push notification results for admins: | {"total":1,"successful":0,"failed":1}
[2025-10-04T08:39:48.693Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:39:48.695Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:39:49.762Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:39:50.119Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:39:51.400Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:39:56.709Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:40:06.369Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:40:06.576Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:40:06.898Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:40:06.924Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:40:07.208Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T08:40:34.954Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:40:35.331Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:40:36.530Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:40:37.630Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:41:36.575Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:42:28.453Z] [WARN] No token provided for vendor route
[2025-10-04T08:42:36.589Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:42:51.470Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:42:51.680Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:42:53.734Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:42:54.903Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:43:20.388Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:43:20.495Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:43:21.270Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:43:22.151Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:43:33.444Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:43:33.512Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:43:33.681Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:43:33.685Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:43:33.774Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:43:33.894Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T08:43:33.940Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:43:33.965Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:43:33.983Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:43:34.068Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:43:34.077Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:43:34.222Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T08:43:48.126Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T08:43:48.407Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:43:48.423Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:43:48.470Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:43:48.496Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:43:48.526Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T08:43:48.754Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:43:48.964Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:43:51.866Z] [INFO] Email sent successfully | {"messageId":"<b0de72c5-d61f-ae86-bd37-f79fdca5fb9b@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T08:43:51.883Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<b0de72c5-d61f-ae86-bd37-f79fdca5fb9b@gmail.com>"}
[2025-10-04T08:43:51.911Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T08:43:51.912Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e0de44f3d904d4790d7e32"}
[2025-10-04T08:43:53.221Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:43:53.239Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:43:53.277Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:43:53.285Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:43:53.375Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:43:53.416Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:43:53.424Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:43:53.459Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:43:53.460Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:43:53.586Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:44:21.302Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:45:21.315Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:45:49.577Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:45:49.967Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:45:52.160Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:45:52.610Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:45:55.448Z] [INFO] No active subscriptions found for vendor: 68df94dd7ec4729f3e0c6cfa
[2025-10-04T08:46:23.324Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:46:23.661Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:46:25.710Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:46:26.926Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:46:42.272Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:46:43.226Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:46:44.872Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:46:45.953Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:46:47.087Z] [INFO] Push notification sent successfully to vendor: 68e0ae0d22166485e08dfd71 | {"subscriptionId":"68e0d6299294c314cded213b","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:46:47.103Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:47:15.732Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:47:15.836Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:47:16.694Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:47:17.499Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:48:02.654Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:48:02.771Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:48:02.974Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:48:02.980Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:48:03.091Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:48:03.233Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:48:03.258Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:48:03.333Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:48:03.399Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:48:03.449Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:48:03.489Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:48:03.623Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:48:16.737Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:48:16.740Z] [INFO] Auto-rejecting booking 68e0d2e45632c71c9340c905 for vendor 990
[2025-10-04T08:48:16.848Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905","penaltyAmount":100}
[2025-10-04T08:48:16.897Z] [INFO] Booking 68e0d2e45632c71c9340c905 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:48:30.886Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T08:48:31.033Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:48:31.096Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:48:31.140Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:48:31.169Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:48:31.186Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:48:31.319Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:48:31.525Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:48:34.306Z] [INFO] Email sent successfully | {"messageId":"<7bd1b3b8-9f58-2fcd-23a9-2bdc6e215940@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:48:34.309Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<7bd1b3b8-9f58-2fcd-23a9-2bdc6e215940@gmail.com>"}
[2025-10-04T08:48:34.311Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T08:48:34.327Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","notificationId":"68e0df5fc70b1a6f7aff01f2"}
[2025-10-04T08:48:36.375Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:48:36.396Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:48:36.453Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:48:36.461Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:48:36.472Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:48:36.617Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:48:36.625Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:48:36.703Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:48:36.803Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:48:36.852Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:48:36.854Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:48:36.975Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:49:16.751Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:50:20.681Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:50:21.047Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:50:22.446Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:50:23.626Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:50:24.144Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0d7d297691f3a6b7f4d19","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:50:24.146Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:50:24.238Z] [INFO] No active subscriptions found for vendor: 68df94dd7ec4729f3e0c6cfa
[2025-10-04T08:51:22.486Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:51:55.378Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:51:55.594Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:51:56.643Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:51:57.479Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:51:59.251Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T08:51:59.541Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:52:00.294Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T08:52:00.300Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:52:07.462Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68df94dd7ec4729f3e0c6cfa"}
[2025-10-04T08:52:07.634Z] [INFO] Vendor deleted by admin | {"vendorId":"68df94dd7ec4729f3e0c6cfa","vendorEmail":"skarmanhp@gmail.com"}
[2025-10-04T08:52:07.676Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:52:14.963Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:52:14.970Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:52:14.975Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:52:15.121Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T08:52:15.313Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:52:27.128Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T08:52:27.319Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:52:27.331Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:52:27.366Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:52:27.401Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:52:27.449Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68dfac046370e2deef823a0c"}
[2025-10-04T08:52:27.580Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:52:27.805Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:52:30.570Z] [INFO] Email sent successfully | {"messageId":"<5eb18663-8987-3e56-6104-54e771a537dd@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac046370e2deef823a0c"}
[2025-10-04T08:52:30.573Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<5eb18663-8987-3e56-6104-54e771a537dd@gmail.com>"}
[2025-10-04T08:52:30.604Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68dfac046370e2deef823a0c"}
[2025-10-04T08:52:30.609Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68dfac046370e2deef823a0c","notificationId":"68e0e04bf509d52de85ca812"}
[2025-10-04T08:52:33.707Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:52:33.860Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:52:33.943Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:52:34.126Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:52:34.128Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:52:34.227Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:52:34.305Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:52:34.340Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:52:34.381Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:52:34.443Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:52:34.444Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:52:34.630Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:52:56.684Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T08:53:56.690Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:53:56.692Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T08:53:56.777Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T08:53:56.817Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:54:38.414Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:54:38.641Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:54:40.038Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:54:40.728Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:55:00.062Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:55:00.612Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:55:01.862Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:55:02.722Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:55:02.808Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0d7d297691f3a6b7f4d19","endpoint":"https://fcm.googleapis.com/fcm/send/eCqIY-gOki0:APA91bF21v2xGcJK5b0D25UrBn0YzhsND5PK9iY5yP_K8Yu-dGRmq2qxLl71aUZsRq8CjmJQHh30_uVFX1s5X4-Y8oPzCi85buu0pZEtI6LnqyEahrkUacoB15bfixoPFbSUiwTnNJKn"}
[2025-10-04T08:55:02.824Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T08:55:39.538Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:55:39.736Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:55:40.762Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:55:41.594Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:56:15.309Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:56:15.396Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:56:15.409Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:56:15.558Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:56:15.600Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:56:15.683Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:56:15.907Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:56:16.001Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:56:16.009Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:56:16.049Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:56:16.050Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:56:16.214Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:56:22.678Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:56:22.685Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:56:22.690Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:56:22.898Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T08:56:23.027Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:56:33.321Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T08:56:33.517Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T08:56:34.533Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T08:56:35.338Z] [INFO] SMTP connection verified successfully
[2025-10-04T08:56:54.187Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:56:54.216Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:56:54.222Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:56:54.402Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T08:56:54.475Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:57:21.003Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"null...","tokenLength":4,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:57:32.195Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0d6a869faeeee6c95d758","email":"panchalajay717@gmail.com"}
[2025-10-04T08:57:34.583Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:57:34.585Z] [INFO] Auto-rejecting booking 68dfabea6370e2deef8239fc for vendor 68df94dd7ec4729f3e0c6cfa
[2025-10-04T08:57:34.985Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:57:35.008Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:57:35.032Z] [INFO] Booking 68dfabea6370e2deef8239fc auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"68df94dd7ec4729f3e0c6cfa","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:57:35.038Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:57:35.041Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:57:35.167Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:57:35.239Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:57:35.277Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:57:35.327Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:57:35.340Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:57:35.518Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:58:04.989Z] [INFO] Admin logged in successfully | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T08:58:05.218Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T08:58:05.441Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T08:58:07.380Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:58:07.392Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T08:58:07.482Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T08:58:07.655Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T08:58:07.772Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:58:19.016Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T08:58:19.230Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T08:58:19.242Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T08:58:19.280Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T08:58:19.297Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T08:58:19.369Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68dfac226370e2deef823a1d"}
[2025-10-04T08:58:19.537Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T08:58:19.723Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T08:58:22.610Z] [INFO] Email sent successfully | {"messageId":"<3b3ab152-0a28-a46d-5351-53d8186eaeb7@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d"}
[2025-10-04T08:58:22.612Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<3b3ab152-0a28-a46d-5351-53d8186eaeb7@gmail.com>"}
[2025-10-04T08:58:22.617Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T08:58:22.619Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d","notificationId":"68e0e1ab0e77af2b6bd43014"}
[2025-10-04T08:58:26.209Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:58:26.428Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:58:26.492Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:58:26.752Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:58:26.844Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:58:27.032Z] [INFO] Created new subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:58:27.052Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:58:27.153Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:58:27.166Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:58:27.213Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:58:27.227Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:58:27.410Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T08:58:34.595Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T08:58:34.597Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 990
[2025-10-04T08:58:34.768Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T08:58:34.826Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T08:58:39.441Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:58:39.598Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:58:39.616Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:58:39.632Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:58:39.667Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:58:39.868Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:58:39.883Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:58:39.893Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:58:39.928Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:58:39.993Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:58:39.999Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:58:40.172Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:58:58.678Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:58:58.763Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:58:58.859Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:58:58.871Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:58:59.049Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:58:59.149Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:58:59.264Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:58:59.341Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:58:59.346Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:58:59.485Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:59:06.073Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:59:06.178Z] [INFO] Created new subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:59:14.735Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:59:14.862Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:59:14.925Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:59:14.929Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:59:14.945Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T08:59:15.101Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T08:59:15.142Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T08:59:15.171Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:59:15.276Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T08:59:15.320Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T08:59:15.322Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T08:59:15.445Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T08:59:34.601Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:00:34.684Z] [INFO] Removing expired subscription: 68e0e1b20e77af2b6bd43088
[2025-10-04T09:00:34.701Z] [INFO] Removing expired subscription: 68e0d7d297691f3a6b7f4d19
[2025-10-04T09:00:34.791Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0e1da0e77af2b6bd430ce","endpoint":"https://fcm.googleapis.com/fcm/send/e2QzP4aFHxg:APA91bGw5uf8pjTdX7G0OS3_5wzkld6IbumKLY93n_IE8Ucod2BQcRDfzgKVSw95F-36LmEfoEoHsdFdshyLuRWGiSrvwNz6G4VnHqVLovieih7gvh75YCdIy57BHMcrUOOAXFC2mx91"}
[2025-10-04T09:00:35.195Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":3,"successful":1,"failed":2}
[2025-10-04T09:00:43.840Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0e1da0e77af2b6bd430ce","endpoint":"https://fcm.googleapis.com/fcm/send/e2QzP4aFHxg:APA91bGw5uf8pjTdX7G0OS3_5wzkld6IbumKLY93n_IE8Ucod2BQcRDfzgKVSw95F-36LmEfoEoHsdFdshyLuRWGiSrvwNz6G4VnHqVLovieih7gvh75YCdIy57BHMcrUOOAXFC2mx91"}
[2025-10-04T09:00:43.841Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T09:01:18.811Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:01:19.637Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:01:22.656Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:01:22.841Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:01:23.958Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:01:24.969Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:01:43.716Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:01:43.746Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:01:43.864Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:01:43.904Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:01:43.916Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:01:44.023Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:01:44.047Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:01:44.098Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:01:44.132Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:01:44.193Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:01:44.202Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:01:44.365Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:01:49.672Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T09:01:49.719Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T09:01:50.105Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T09:01:58.017Z] [INFO] Starting OTP send process | {"phone":"7610416911"}
[2025-10-04T09:01:58.055Z] [INFO] Existing user found | {"userId":"68da5cffdb809ec5368c0f40","phone":"7610416911"}
[2025-10-04T09:01:58.056Z] [INFO] Generating random OTP | {"phone":"7610416911"}
[2025-10-04T09:01:58.103Z] [INFO] OTP generated and user saved | {"phone":"7610416911","userId":"68da5cffdb809ec5368c0f40"}
[2025-10-04T09:01:58.104Z] [INFO] Attempting to send SMS via SMS India Hub | {"phone":"7610416911"}
[2025-10-04T09:01:58.612Z] [INFO] SMS sending result | {"phone":"7610416911","success":true,"messageId":"sms_1759568518612","provider":"SMSIndia Hub"}
[2025-10-04T09:02:13.748Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T09:02:13.754Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T09:02:13.826Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T09:02:20.778Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:02:20.850Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:02:20.867Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:02:20.905Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:02:20.917Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:02:21.024Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:02:21.054Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:02:21.101Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:02:21.118Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:02:21.167Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:02:21.168Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:02:21.297Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:02:23.938Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:02:48.859Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:02:48.883Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T09:02:48.911Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T09:02:49.234Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T09:02:49.303Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:03:23.944Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T09:03:23.946Z] [INFO] Auto-rejecting booking 68dfac046370e2deef823a0c for vendor 990
[2025-10-04T09:03:24.048Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68dfac046370e2deef823a0c","penaltyAmount":100}
[2025-10-04T09:03:24.106Z] [INFO] Booking 68dfac046370e2deef823a0c auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:03:28.291Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T09:03:28.445Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T09:03:28.456Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T09:03:28.476Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:03:28.510Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T09:03:28.591Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T09:03:28.627Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T09:03:28.757Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:03:31.619Z] [INFO] Email sent successfully | {"messageId":"<0bcc486b-82ff-2b8e-47c9-5adcfabb77aa@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T09:03:31.620Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<0bcc486b-82ff-2b8e-47c9-5adcfabb77aa@gmail.com>"}
[2025-10-04T09:03:31.625Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T09:03:31.627Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e0e2e0e6b913e8321c0925"}
[2025-10-04T09:03:33.500Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:03:33.554Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:03:33.563Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:03:33.641Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:03:33.651Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:03:33.777Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:03:33.793Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:03:33.859Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:03:33.946Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:03:34.007Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:03:34.011Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:03:34.130Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:04:23.947Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:05:10.040Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:05:10.062Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:05:10.087Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:05:10.128Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:05:10.133Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:05:10.189Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:05:10.216Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:05:10.274Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:05:10.283Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:05:10.326Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:05:10.328Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:05:10.448Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:05:23.948Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:06:23.960Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:07:23.966Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:08:23.991Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T09:08:23.993Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 990
[2025-10-04T09:08:24.098Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T09:08:24.141Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:09:23.982Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:10:23.994Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:11:24.014Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:12:24.026Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:13:01.855Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:13:02.302Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:13:04.272Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:13:05.350Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:13:06.637Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0e1da0e77af2b6bd430ce","endpoint":"https://fcm.googleapis.com/fcm/send/e2QzP4aFHxg:APA91bGw5uf8pjTdX7G0OS3_5wzkld6IbumKLY93n_IE8Ucod2BQcRDfzgKVSw95F-36LmEfoEoHsdFdshyLuRWGiSrvwNz6G4VnHqVLovieih7gvh75YCdIy57BHMcrUOOAXFC2mx91"}
[2025-10-04T09:13:06.650Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T09:13:24.385Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:13:24.817Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:13:26.282Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:13:27.333Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:13:45.208Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:13:45.332Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:13:46.113Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:13:47.054Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:14:46.157Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T09:14:46.161Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T09:14:46.262Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T09:14:46.299Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:15:46.473Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:16:46.163Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:17:46.176Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:18:04.390Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:18:04.559Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:18:05.785Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:18:06.609Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:18:19.626Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T09:18:19.751Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:18:19.811Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T09:18:19.963Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T09:18:20.041Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:18:27.040Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T09:18:27.224Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T09:18:27.238Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T09:18:27.265Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:18:27.293Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T09:18:27.353Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T09:18:27.496Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T09:18:27.571Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:18:30.655Z] [INFO] Email sent successfully | {"messageId":"<4bd4b3a6-5455-548d-2c2f-ad44601b08e9@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T09:18:30.744Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<4bd4b3a6-5455-548d-2c2f-ad44601b08e9@gmail.com>"}
[2025-10-04T09:18:30.894Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T09:18:30.970Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e0e663f9682c0ffa17038f"}
[2025-10-04T09:18:33.458Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:18:33.478Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:18:33.504Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:18:33.521Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:18:33.524Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:18:33.610Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:18:33.618Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T09:18:33.641Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:18:33.660Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:18:33.701Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:18:33.704Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:18:33.809Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T09:19:05.817Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:20:05.840Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:20:24.013Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:20:24.263Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:20:25.309Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:20:25.694Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:20:25.792Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:20:26.144Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:20:26.298Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:20:26.362Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T09:20:26.495Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:20:26.613Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:20:26.643Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:20:26.845Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T09:21:01.175Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:21:02.509Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:21:07.637Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:21:08.572Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:24:45.316Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:24:45.503Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:24:47.324Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:24:48.177Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:24:56.507Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:24:56.626Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:24:57.320Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:24:58.389Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:25:11.670Z] [INFO] Admin logged in successfully | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T09:25:11.880Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T09:25:12.065Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T09:25:15.287Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T09:25:15.302Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:25:15.372Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T09:25:15.561Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T09:25:15.604Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:25:23.296Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T09:25:23.466Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T09:25:23.471Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T09:25:23.500Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:25:23.510Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T09:25:23.581Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T09:25:23.721Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T09:25:23.820Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:25:26.687Z] [INFO] Email sent successfully | {"messageId":"<2f14dffb-fba0-0e0e-1cdb-5d4847b1e703@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50"}
[2025-10-04T09:25:26.689Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<2f14dffb-fba0-0e0e-1cdb-5d4847b1e703@gmail.com>"}
[2025-10-04T09:25:26.692Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T09:25:26.698Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","notificationId":"68e0e803b8221526c509c290"}
[2025-10-04T09:25:57.375Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:26:06.649Z] [WARN] Admin access attempt without token | {"endpoint":"/api/admin/bookings","ip":"::1"}
[2025-10-04T09:26:55.024Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:26:55.387Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T09:26:55.459Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T09:26:55.795Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T09:26:55.990Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:26:57.366Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:27:04.679Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:27:04.694Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:27:04.908Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:27:05.042Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:27:05.068Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:27:05.391Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:27:05.411Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:27:05.501Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:27:05.627Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:27:05.685Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:27:05.689Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:27:05.836Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:27:30.456Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2fc5632c71c9340c918/assign-vendor"}
[2025-10-04T09:27:30.624Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T09:27:30.630Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T09:27:30.643Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:27:30.673Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T09:27:30.727Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T09:27:30.805Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2fc5632c71c9340c918","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T09:27:30.981Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:27:33.793Z] [INFO] Email sent successfully | {"messageId":"<b2b78248-96bf-1e30-5680-15f689dd5a5b@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2fc5632c71c9340c918"}
[2025-10-04T09:27:33.794Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<b2b78248-96bf-1e30-5680-15f689dd5a5b@gmail.com>"}
[2025-10-04T09:27:33.798Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T09:27:33.800Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918","notificationId":"68e0e882b8221526c509c4b3"}
[2025-10-04T09:27:41.932Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:27:42.016Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:27:42.130Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:27:42.152Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:27:42.204Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:27:42.308Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:27:42.324Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:27:42.546Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:27:42.735Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:27:42.777Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:27:42.779Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:27:42.913Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:27:57.395Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:28:57.400Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T09:28:57.406Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T09:28:57.509Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T09:28:57.552Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:29:57.398Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:30:57.677Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:30:58.174Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:30:59.381Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:30:59.891Z] [INFO] Removing expired subscription: 68e0d6299294c314cded213b
[2025-10-04T09:30:59.929Z] [INFO] Push notification results for vendor 68e0ae0d22166485e08dfd71: | {"total":1,"successful":0,"failed":1}
[2025-10-04T09:31:00.444Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0e1da0e77af2b6bd430ce","endpoint":"https://fcm.googleapis.com/fcm/send/e2QzP4aFHxg:APA91bGw5uf8pjTdX7G0OS3_5wzkld6IbumKLY93n_IE8Ucod2BQcRDfzgKVSw95F-36LmEfoEoHsdFdshyLuRWGiSrvwNz6G4VnHqVLovieih7gvh75YCdIy57BHMcrUOOAXFC2mx91"}
[2025-10-04T09:31:00.648Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:31:00.665Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T09:31:17.806Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:31:17.956Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:31:19.119Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:31:20.957Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:31:43.833Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0d6a869faeeee6c95d758","email":"panchalajay717@gmail.com"}
[2025-10-04T09:31:46.349Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:31:46.366Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:31:46.372Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:31:46.525Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:31:46.530Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:31:46.588Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:31:46.608Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:31:46.715Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:31:46.745Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:31:46.819Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:31:46.820Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:31:46.956Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:32:09.071Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:32:09.085Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T09:32:09.101Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T09:32:09.351Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T09:32:09.452Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:32:16.831Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T09:32:17.011Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T09:32:17.015Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T09:32:17.029Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:32:17.059Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T09:32:17.113Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T09:32:17.228Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T09:32:17.413Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:32:19.164Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:32:20.247Z] [INFO] Email sent successfully | {"messageId":"<e961356d-eb79-4b6b-88f0-c0b328df2eb7@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T09:32:20.248Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<e961356d-eb79-4b6b-88f0-c0b328df2eb7@gmail.com>"}
[2025-10-04T09:32:20.251Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T09:32:20.252Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e0e9a1f09c13d4979e3144"}
[2025-10-04T09:32:22.649Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:32:22.721Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:32:22.752Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:32:22.835Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:32:22.838Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:32:22.887Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:32:22.924Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:32:23.004Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:32:23.036Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:32:23.067Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:32:23.071Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:32:23.239Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:33:19.179Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:34:19.185Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:35:19.800Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:35:20.595Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:35:23.242Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:35:24.264Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:35:36.876Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:35:37.329Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:35:37.891Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0e1da0e77af2b6bd430ce","endpoint":"https://fcm.googleapis.com/fcm/send/e2QzP4aFHxg:APA91bGw5uf8pjTdX7G0OS3_5wzkld6IbumKLY93n_IE8Ucod2BQcRDfzgKVSw95F-36LmEfoEoHsdFdshyLuRWGiSrvwNz6G4VnHqVLovieih7gvh75YCdIy57BHMcrUOOAXFC2mx91"}
[2025-10-04T09:35:37.892Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T09:35:38.991Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:35:40.072Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:36:22.366Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:36:22.904Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:36:24.321Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:36:24.652Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0e1da0e77af2b6bd430ce","endpoint":"https://fcm.googleapis.com/fcm/send/e2QzP4aFHxg:APA91bGw5uf8pjTdX7G0OS3_5wzkld6IbumKLY93n_IE8Ucod2BQcRDfzgKVSw95F-36LmEfoEoHsdFdshyLuRWGiSrvwNz6G4VnHqVLovieih7gvh75YCdIy57BHMcrUOOAXFC2mx91"}
[2025-10-04T09:36:24.673Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T09:36:25.484Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:36:39.226Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:36:39.374Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:36:40.125Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:36:41.160Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:37:40.170Z] [INFO] Found 2 pending assignments to check for auto-rejection
[2025-10-04T09:37:40.172Z] [INFO] Auto-rejecting booking 68e0d2fc5632c71c9340c918 for vendor 990
[2025-10-04T09:37:40.260Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918","penaltyAmount":100}
[2025-10-04T09:37:40.313Z] [INFO] Booking 68e0d2fc5632c71c9340c918 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:37:40.314Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 990
[2025-10-04T09:37:40.400Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T09:37:40.437Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:38:31.201Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:38:31.505Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:38:31.779Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:38:32.065Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:38:32.067Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:38:32.297Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:38:32.368Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T09:38:32.404Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:38:32.617Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:38:32.751Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:38:32.755Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:38:32.855Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T09:38:40.154Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:38:49.621Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:38:49.677Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:38:50.040Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:38:50.396Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:38:50.793Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:38:50.806Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T09:38:50.966Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:38:51.031Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:38:51.032Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:38:51.142Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T09:39:02.733Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:39:02.853Z] [INFO] Created new subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:39:26.557Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2e45632c71c9340c905/assign-vendor"}
[2025-10-04T09:39:26.748Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T09:39:26.760Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T09:39:26.814Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T09:39:26.830Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:39:26.856Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d2e45632c71c9340c905"}
[2025-10-04T09:39:27.019Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2e45632c71c9340c905","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T09:39:27.238Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:39:30.029Z] [INFO] Email sent successfully | {"messageId":"<900829d8-58bb-56ca-58db-fb13ef15e755@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2e45632c71c9340c905"}
[2025-10-04T09:39:30.032Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<900829d8-58bb-56ca-58db-fb13ef15e755@gmail.com>"}
[2025-10-04T09:39:30.049Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905"}
[2025-10-04T09:39:30.052Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905","notificationId":"68e0eb4ee18d52f4b5c87dc3"}
[2025-10-04T09:39:32.022Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:39:32.121Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:39:32.159Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:39:32.213Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:39:32.232Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:39:32.714Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:39:32.753Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:39:32.790Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:39:32.909Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:39:33.005Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:39:33.032Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:39:33.184Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:39:40.170Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:40:40.251Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:40:43.153Z] [INFO] Removing expired subscription: 68e0e1da0e77af2b6bd430ce
[2025-10-04T09:40:43.170Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0eb36e18d52f4b5c87d59","endpoint":"https://fcm.googleapis.com/fcm/send/f0GbDHSxGTA:APA91bGiXgkFiOsyD8KayJ37Nvl_Zw_Eamw7DBa6rqT7NT7rhXwyEIoRGzqWiQeC-ZW8oRPsy0Df1Wa3A18y0UalvJsxwJUUsv86Mhno4wZ6F3a3nrGOFCJ4gDIs5SzE8axEhRm0OxvS"}
[2025-10-04T09:40:43.187Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":2,"successful":1,"failed":1}
[2025-10-04T09:40:43.434Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0eb36e18d52f4b5c87d59","endpoint":"https://fcm.googleapis.com/fcm/send/f0GbDHSxGTA:APA91bGiXgkFiOsyD8KayJ37Nvl_Zw_Eamw7DBa6rqT7NT7rhXwyEIoRGzqWiQeC-ZW8oRPsy0Df1Wa3A18y0UalvJsxwJUUsv86Mhno4wZ6F3a3nrGOFCJ4gDIs5SzE8axEhRm0OxvS"}
[2025-10-04T09:40:43.435Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T09:41:26.914Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:41:28.030Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:41:29.750Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:41:30.395Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:41:32.346Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0eb36e18d52f4b5c87d59","endpoint":"https://fcm.googleapis.com/fcm/send/f0GbDHSxGTA:APA91bGiXgkFiOsyD8KayJ37Nvl_Zw_Eamw7DBa6rqT7NT7rhXwyEIoRGzqWiQeC-ZW8oRPsy0Df1Wa3A18y0UalvJsxwJUUsv86Mhno4wZ6F3a3nrGOFCJ4gDIs5SzE8axEhRm0OxvS"}
[2025-10-04T09:41:32.348Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T09:42:06.579Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:42:07.142Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T09:42:07.473Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T09:42:08.992Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T09:42:09.256Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:42:16.810Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2cf5632c71c9340c8f3/assign-vendor"}
[2025-10-04T09:42:17.289Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T09:42:17.508Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T09:42:17.722Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T09:42:17.959Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d2cf5632c71c9340c8f3"}
[2025-10-04T09:42:18.111Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:42:20.789Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2cf5632c71c9340c8f3","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T09:42:21.390Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:42:25.189Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:42:26.000Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:42:26.159Z] [INFO] Email sent successfully | {"messageId":"<22cf4a49-fa0f-aaa2-2d11-790c3517b54e@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d2cf5632c71c9340c8f3"}
[2025-10-04T09:42:26.206Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<22cf4a49-fa0f-aaa2-2d11-790c3517b54e@gmail.com>"}
[2025-10-04T09:42:26.252Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d2cf5632c71c9340c8f3"}
[2025-10-04T09:42:26.276Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d2cf5632c71c9340c8f3","notificationId":"68e0ebf9e0dd5a27eb610367"}
[2025-10-04T09:42:26.524Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:42:26.573Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:42:26.841Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:42:27.023Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:42:27.089Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:42:27.236Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:42:27.256Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:42:27.438Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:42:29.778Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T09:42:29.782Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T09:42:29.901Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T09:42:29.949Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:42:59.018Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:42:59.903Z] [INFO] Push notification sent successfully to vendor: 68e0d6a869faeeee6c95d758 | {"subscriptionId":"68e0eb36e18d52f4b5c87d59","endpoint":"https://fcm.googleapis.com/fcm/send/f0GbDHSxGTA:APA91bGiXgkFiOsyD8KayJ37Nvl_Zw_Eamw7DBa6rqT7NT7rhXwyEIoRGzqWiQeC-ZW8oRPsy0Df1Wa3A18y0UalvJsxwJUUsv86Mhno4wZ6F3a3nrGOFCJ4gDIs5SzE8axEhRm0OxvS"}
[2025-10-04T09:42:59.937Z] [INFO] Push notification results for vendor 68e0d6a869faeeee6c95d758: | {"total":1,"successful":1,"failed":0}
[2025-10-04T09:43:00.987Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:43:06.819Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:43:08.099Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:43:21.392Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:43:21.656Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:43:22.702Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:43:23.568Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:43:33.129Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:43:33.155Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:43:33.183Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:43:33.190Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:43:33.312Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T09:43:42.616Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T09:43:42.789Z] [INFO] 🔔 Starting push notification for vendor 990 and booking undefined
[2025-10-04T09:43:42.793Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T09:43:42.814Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:43:42.828Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T09:43:42.881Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68dfac226370e2deef823a1d"}
[2025-10-04T09:43:42.977Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T09:43:43.140Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:43:46.312Z] [INFO] Email sent successfully | {"messageId":"<014bc98a-c175-6753-4318-b4a0d08ca39a@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68dfac226370e2deef823a1d"}
[2025-10-04T09:43:46.329Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<014bc98a-c175-6753-4318-b4a0d08ca39a@gmail.com>"}
[2025-10-04T09:43:46.374Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T09:43:46.376Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d","notificationId":"68e0ec4efaeb0722b28f6892"}
[2025-10-04T09:43:47.696Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:43:47.820Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:43:47.861Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:43:47.906Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:43:47.997Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/push/subscribe"}
[2025-10-04T09:43:48.640Z] [INFO] Updated existing subscription for vendor: 68e0d6a869faeeee6c95d758
[2025-10-04T09:43:48.774Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:43:48.850Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:43:48.898Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:43:48.953Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:43:48.961Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:43:49.128Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:44:22.742Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:45:22.770Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:48:05.414Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T09:48:06.654Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T09:48:12.005Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T09:48:12.836Z] [INFO] SMTP connection verified successfully
[2025-10-04T09:49:12.935Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:49:31.784Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T09:49:32.150Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T09:49:32.928Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T09:49:33.086Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T09:49:33.913Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T09:49:34.195Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:49:34.254Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:49:34.267Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:49:34.333Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:49:34.618Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:49:36.129Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T09:49:36.153Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T09:49:36.168Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T09:49:36.169Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T09:49:36.398Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T09:50:12.314Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T09:50:12.318Z] [INFO] Auto-rejecting booking 68e0d2e45632c71c9340c905 for vendor 990
[2025-10-04T09:50:12.498Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905","penaltyAmount":100}
[2025-10-04T09:50:12.589Z] [INFO] Booking 68e0d2e45632c71c9340c905 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:51:12.347Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:52:12.374Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:53:12.387Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T09:53:12.391Z] [INFO] Auto-rejecting booking 68e0d2cf5632c71c9340c8f3 for vendor 990
[2025-10-04T09:53:12.509Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d2cf5632c71c9340c8f3","penaltyAmount":100}
[2025-10-04T09:53:12.547Z] [INFO] Booking 68e0d2cf5632c71c9340c8f3 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:54:12.402Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T09:54:12.408Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 990
[2025-10-04T09:54:12.526Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T09:54:12.562Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T09:55:12.371Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:56:12.392Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:57:12.395Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:58:12.406Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T09:59:12.447Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:09:02.864Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:09:03.178Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:09:04.871Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:09:05.748Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:10:04.935Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:10:17.883Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:10:18.025Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:10:18.032Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:10:18.106Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T10:10:18.847Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:10:19.013Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:10:19.052Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:10:19.053Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:10:19.099Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:10:19.119Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T10:10:35.280Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:10:35.304Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T10:10:35.336Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T10:10:35.521Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T10:10:35.545Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:10:35.692Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T10:10:35.722Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T10:10:37.712Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T10:11:04.916Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:12:06.409Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:13:05.264Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:14:05.219Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:14:49.073Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:14:49.350Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:14:49.802Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:14:50.901Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:14:51.010Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T10:14:51.034Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:14:51.045Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T10:14:51.778Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T10:14:52.055Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:14:52.157Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:15:06.569Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T10:15:06.817Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T10:15:06.882Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T10:15:07.000Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:15:07.037Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T10:15:07.261Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T10:15:07.399Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:15:12.029Z] [INFO] Email sent successfully | {"messageId":"<a24d7436-6225-1481-c8ec-4e335387fd0f@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T10:15:12.031Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<a24d7436-6225-1481-c8ec-4e335387fd0f@gmail.com>"}
[2025-10-04T10:15:12.581Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T10:15:12.821Z] [INFO] Push notification skipped - no FCM token or disabled | {"vendorId":"990","hasToken":false,"pushEnabled":true}
[2025-10-04T10:15:13.045Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e0f3aab3bed29995a51e1a"}
[2025-10-04T10:15:16.500Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:15:16.541Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:15:16.604Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:15:16.634Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:15:17.048Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:15:17.108Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:15:17.299Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:15:17.351Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:15:17.357Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:15:17.463Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:15:50.979Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:16:54.634Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:16:56.117Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:16:58.439Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:17:02.006Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:17:03.301Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:17:17.499Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:17:18.902Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:17:21.381Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:17:25.637Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:17:27.169Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:17:42.461Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:17:42.948Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:17:43.599Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:17:47.000Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:17:48.100Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:18:04.600Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:18:05.524Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:18:07.345Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:18:09.431Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:18:10.396Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:18:22.342Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:18:23.027Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:18:24.776Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:18:27.105Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:18:27.891Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:18:58.168Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:18:59.040Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:18:59.715Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:19:00.636Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:19:01.586Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:19:17.681Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:19:17.803Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:19:18.351Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:19:18.400Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:19:18.712Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:19:18.933Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:19:19.312Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:19:19.377Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:19:19.391Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:19:19.553Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:19:35.346Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T10:19:35.603Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T10:19:35.644Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T10:19:35.679Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:19:35.724Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T10:19:35.947Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T10:19:36.107Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:19:38.969Z] [INFO] Email sent successfully | {"messageId":"<5e5268ec-a252-31ee-33af-47e656a8ac37@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50"}
[2025-10-04T10:19:38.971Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<5e5268ec-a252-31ee-33af-47e656a8ac37@gmail.com>"}
[2025-10-04T10:19:38.976Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T10:19:39.005Z] [INFO] Push notification skipped - no FCM token or disabled | {"vendorId":"990","hasToken":false,"pushEnabled":true}
[2025-10-04T10:19:39.012Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","notificationId":"68e0f4b729851f315647b8b5"}
[2025-10-04T10:19:43.582Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:19:43.934Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:19:44.032Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:19:44.074Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:19:44.233Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:19:44.299Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:19:44.433Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:19:44.537Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:19:44.559Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:19:44.796Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:20:00.685Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:21:00.790Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:22:00.785Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:22:55.102Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:22:55.943Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:22:56.855Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:22:58.140Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:22:58.208Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:22:59.955Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:23:00.622Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:23:02.055Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:23:02.299Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:23:02.432Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:23:02.449Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:23:02.820Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:24:01.202Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:25:01.248Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:26:01.432Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T10:26:01.464Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T10:26:01.811Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T10:26:01.869Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T10:26:30.234Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:26:30.442Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:26:30.456Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:26:30.547Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:26:30.562Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:26:30.666Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:26:30.742Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:26:30.758Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:26:30.830Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:26:30.832Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:26:30.932Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:26:41.335Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:26:41.367Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T10:26:41.378Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T10:26:42.090Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T10:26:42.290Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:26:49.427Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T10:26:49.643Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T10:26:49.663Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:26:49.699Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T10:26:49.741Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T10:26:49.792Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T10:26:49.987Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:26:52.824Z] [INFO] Email sent successfully | {"messageId":"<e6cec5a8-7f8c-8ed6-7cb1-b2e09f491ff9@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T10:26:52.825Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<e6cec5a8-7f8c-8ed6-7cb1-b2e09f491ff9@gmail.com>"}
[2025-10-04T10:26:52.834Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T10:26:52.872Z] [INFO] Push notification skipped - no FCM token or disabled | {"vendorId":"990","hasToken":false,"pushEnabled":true}
[2025-10-04T10:26:52.873Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e0f66929851f315647bb45"}
[2025-10-04T10:26:56.878Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:26:57.003Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:26:57.036Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:26:57.112Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:26:57.121Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:26:57.267Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:26:57.316Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:26:57.427Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:26:57.475Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:26:57.476Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:26:57.653Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:27:01.277Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:27:03.564Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:27:03.777Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:27:03.833Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:27:03.918Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:27:03.927Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:27:04.111Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:27:04.211Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:27:04.274Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:27:04.356Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:27:04.360Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:27:04.503Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:27:25.470Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:27:25.857Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:27:25.867Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:27:25.933Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:27:25.939Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:27:26.141Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:27:26.296Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:27:26.332Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:27:26.416Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:27:26.422Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:27:26.741Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T10:28:01.294Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:28:55.608Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:28:57.257Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:28:58.277Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:29:03.760Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:29:04.381Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:29:22.670Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:29:23.403Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:29:24.232Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:29:26.085Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:29:26.652Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:29:36.688Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:29:37.490Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:29:38.440Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:29:41.582Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:29:42.604Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:30:13.375Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:30:13.506Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:30:13.697Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:30:14.520Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:30:15.490Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:31:03.044Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T10:31:03.161Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T10:31:03.678Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T10:31:14.556Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T10:31:14.559Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 990
[2025-10-04T10:31:14.704Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T10:31:14.759Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T10:31:19.809Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:31:20.065Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:31:20.244Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:31:20.919Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:31:21.040Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:31:21.372Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:31:21.459Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:31:21.601Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:31:21.642Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:31:21.669Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:31:21.785Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:31:37.273Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T10:32:01.801Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:32:02.138Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:32:02.564Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:32:03.522Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:32:04.518Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:32:29.815Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:32:30.004Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:32:30.346Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:32:32.323Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:32:33.066Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:33:32.507Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:34:22.821Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:34:32.401Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:34:44.002Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:34:44.614Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:34:47.932Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:34:48.383Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:34:51.528Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:34:52.250Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:34:56.702Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:34:57.231Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:34:58.853Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:34:59.932Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:35:05.597Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:35:06.454Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:35:07.086Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"support_ticket","taskId":"TEST-1759574106646"}
[2025-10-04T10:35:07.115Z] [INFO] Support ticket assignment notification sent via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","ticketId":"TEST-1759574106646"}
[2025-10-04T10:35:07.131Z] [INFO] Attempting to send push notification for support ticket assignment | {"vendorId":"68e0d6a869faeeee6c95d758","ticketId":"TEST-1759574106646","vendorObjectId":"68e0d6a869faeeee6c95d758"}
[2025-10-04T10:35:07.160Z] [INFO] Support ticket assignment notification created | {"vendorId":"68e0d6a869faeeee6c95d758","ticketId":"TEST-1759574106646","notificationId":"68e0f85a26f8e0b35a985e79"}
[2025-10-04T10:35:08.379Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:35:17.709Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:35:17.895Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:35:27.010Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:35:28.934Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:35:31.677Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:35:33.278Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:35:39.976Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:35:40.584Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:35:42.289Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:35:45.038Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:35:46.070Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:36:26.352Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:36:26.574Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:36:29.663Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:36:30.624Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:36:42.123Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:36:42.363Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:36:43.543Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:36:44.514Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:37:43.620Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T10:37:43.625Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T10:37:43.773Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T10:37:43.821Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T10:38:43.633Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:39:43.635Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:40:43.638Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:41:35.563Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:41:36.188Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:41:36.493Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:41:38.335Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:41:38.357Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:41:38.574Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T10:41:38.796Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:41:38.855Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:41:38.927Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:41:38.962Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:41:39.041Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T10:41:43.641Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:41:45.175Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:41:45.193Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T10:41:45.202Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T10:41:45.384Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T10:41:45.392Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:41:52.130Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T10:41:52.287Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T10:41:52.301Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:41:52.329Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T10:41:52.434Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T10:41:52.562Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T10:41:52.673Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:41:55.590Z] [INFO] Email sent successfully | {"messageId":"<80aadf47-eafe-a7a7-0964-a8456a3bf4a2@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T10:41:55.591Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<80aadf47-eafe-a7a7-0964-a8456a3bf4a2@gmail.com>"}
[2025-10-04T10:41:55.599Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T10:41:55.635Z] [INFO] Push notification skipped - no FCM token or disabled | {"vendorId":"990","hasToken":false,"pushEnabled":true}
[2025-10-04T10:41:55.638Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e0f9f0eefbc377f1613574"}
[2025-10-04T10:41:56.182Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T10:41:56.529Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T10:41:56.725Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T10:41:56.984Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T10:41:57.272Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:41:57.284Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:41:57.291Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:41:57.322Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:41:57.324Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:41:57.422Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:41:57.492Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:41:57.542Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:41:57.598Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:41:57.600Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:41:57.691Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:42:02.956Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:42:03.156Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:42:03.195Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:42:03.292Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:42:03.304Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:42:03.524Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:42:03.611Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:42:03.668Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:42:04.224Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:42:04.228Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:42:04.374Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:42:43.679Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:43:41.509Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:43:42.098Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:43:43.794Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T10:43:46.779Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:43:47.579Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:43:59.696Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:44:00.240Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:44:01.515Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:44:03.060Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:45:01.666Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:46:01.590Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:47:01.613Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:48:01.608Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:49:01.646Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:50:01.606Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:51:01.636Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:52:02.088Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T10:52:02.155Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T10:52:02.359Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T10:52:02.444Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T10:52:54.832Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:52:58.473Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:53:09.672Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:53:10.887Z] [INFO] SMTP connection verified successfully
[2025-10-04T10:54:10.433Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:54:32.014Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T10:55:09.791Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:55:23.317Z] [INFO] Vendor logged in successfully | {"vendorId":"68e0d6a869faeeee6c95d758","email":"panchalajay717@gmail.com"}
[2025-10-04T10:55:23.792Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T10:55:23.998Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T10:55:24.188Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T10:55:24.827Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T10:55:27.186Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:55:27.413Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:55:27.444Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:55:27.473Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:55:27.479Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:55:27.827Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T10:55:28.079Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:55:28.381Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:55:28.570Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:55:28.653Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:55:29.634Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T10:55:37.357Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T10:55:37.542Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T10:55:37.572Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T10:55:37.582Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T10:55:37.645Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T10:55:37.835Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T10:55:37.948Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T10:55:41.132Z] [INFO] Email sent successfully | {"messageId":"<d37b22c6-6399-1ebb-6826-1a49d13efc9b@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50"}
[2025-10-04T10:55:41.268Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<d37b22c6-6399-1ebb-6826-1a49d13efc9b@gmail.com>"}
[2025-10-04T10:55:41.491Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T10:55:41.615Z] [INFO] Push notification skipped - no FCM token or disabled | {"vendorId":"990","hasToken":false,"pushEnabled":true}
[2025-10-04T10:55:42.187Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","notificationId":"68e0fd2920975cc14c43e755"}
[2025-10-04T10:55:44.797Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:55:44.912Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:55:45.020Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T10:55:45.066Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:55:45.070Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:55:45.465Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T10:55:45.499Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:55:45.560Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T10:55:45.685Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T10:55:45.718Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T10:55:46.208Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T10:56:09.717Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:57:09.773Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:58:09.752Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:59:09.746Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T10:59:36.537Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T10:59:37.091Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T10:59:40.060Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T10:59:40.718Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:00:03.136Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:00:03.400Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:00:04.701Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:00:05.634Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:01:04.763Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:01:38.255Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:01:39.988Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:01:43.552Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:01:44.387Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:02:43.650Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:03:13.207Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:03:18.766Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T11:03:43.626Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:04:43.192Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:04:43.330Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:04:43.377Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:04:43.508Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:04:43.515Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:04:43.741Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:04:43.980Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:04:44.011Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:04:44.115Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:04:44.233Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:04:44.244Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:04:44.365Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:04:50.825Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:04:50.845Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T11:04:50.978Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T11:04:51.381Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T11:04:51.448Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:04:58.612Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T11:04:58.776Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T11:04:58.799Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:04:58.822Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T11:04:58.911Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T11:04:59.073Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T11:04:59.195Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:05:02.124Z] [INFO] Email sent successfully | {"messageId":"<9b93aa4b-2c4a-1b44-90a4-faedf91d7c4c@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T11:05:02.136Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<9b93aa4b-2c4a-1b44-90a4-faedf91d7c4c@gmail.com>"}
[2025-10-04T11:05:02.458Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T11:05:03.303Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T11:05:03.532Z] [INFO] Push notification sent for booking assignment | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","fcmToken":"present"}
[2025-10-04T11:05:03.555Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e0ff5a84d8e632bc4141b6"}
[2025-10-04T11:05:05.202Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:05:05.278Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:05:05.293Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:05:05.345Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:05:05.360Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:05:05.462Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:05:05.558Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:05:05.603Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:05:05.659Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:05:05.673Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:05:05.813Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:05:43.712Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T11:05:43.721Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 990
[2025-10-04T11:05:43.851Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T11:05:43.897Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T11:06:43.697Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:06:46.608Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:06:46.668Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:06:46.742Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:06:46.808Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:06:46.812Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:06:47.108Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:06:47.130Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:06:47.188Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:06:47.297Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:06:47.305Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:06:47.434Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:07:43.753Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:07:47.677Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:07:47.852Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:07:47.874Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:07:47.898Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:07:47.900Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:07:48.291Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:07:48.307Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:07:48.402Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:07:48.510Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:07:48.526Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:07:49.261Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:08:43.732Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:09:43.753Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:10:43.764Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:11:06.951Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:11:09.378Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:11:13.599Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:11:14.108Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:11:39.946Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:11:40.576Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:11:46.540Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:11:47.561Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:11:48.646Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:12:43.384Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:12:43.956Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:12:48.384Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:12:49.033Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:12:58.682Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:13:00.514Z] [INFO] Converted string vendorId to ObjectId for support ticket notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal","ticketId":"TEST-1759576380249"}
[2025-10-04T11:13:00.618Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"support_ticket","taskId":"TEST-1759576380249"}
[2025-10-04T11:13:00.686Z] [WARN] Email service not configured. Skipping email send.
[2025-10-04T11:13:00.700Z] [WARN] Failed to send task assignment email | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"support_ticket","error":"SMTP not configured"}
[2025-10-04T11:13:00.782Z] [INFO] Support ticket assignment notification sent via email/SMS | {"vendorId":"990","ticketId":"TEST-1759576380249"}
[2025-10-04T11:13:00.815Z] [INFO] Attempting to send push notification for support ticket assignment | {"vendorId":"990","ticketId":"TEST-1759576380249","vendorObjectId":"68e0d6a869faeeee6c95d758"}
[2025-10-04T11:13:00.881Z] [INFO] Vendor details for push notification | {"vendorId":"990","vendorFound":true,"hasFcmToken":true,"fcmTokenLength":28,"pushNotificationsEnabled":true,"vendorName":"Krishna Panchal"}
[2025-10-04T11:13:00.897Z] [INFO] Sending push notification with data | {"vendorId":"990","ticketId":"TEST-1759576380249","notificationTitle":"🛠️ New Support Ticket Assigned","notificationBody":"You have been assigned a new support ticket: Test Support Ticket","fcmTokenPreview":"test_fcm_token_17595..."}
[2025-10-04T11:13:01.166Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T11:13:01.813Z] [INFO] Push notification result for support ticket assignment | {"vendorId":"990","ticketId":"TEST-1759576380249","success":false,"fcmToken":"present"}
[2025-10-04T11:13:01.818Z] [INFO] Support ticket assignment notification created | {"vendorId":"990","ticketId":"TEST-1759576380249","notificationId":"68e1013cb1182560d546e50d"}
[2025-10-04T11:13:19.070Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:13:19.660Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:13:22.076Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:13:22.723Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:13:34.621Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:13:34.775Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:13:34.818Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:13:34.956Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:13:34.970Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:13:35.952Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:13:36.177Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:13:36.389Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:13:36.565Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:13:36.608Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:13:36.767Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:13:45.444Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:13:45.454Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T11:13:45.468Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T11:13:45.803Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T11:13:45.884Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:13:53.891Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T11:13:54.069Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T11:13:54.087Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:13:54.138Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T11:13:54.223Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T11:13:54.418Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T11:13:54.525Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:13:57.532Z] [INFO] Email sent successfully | {"messageId":"<3dce2190-0e13-450f-421d-e92aeb8d5478@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0d80b97691f3a6b7f4f50"}
[2025-10-04T11:13:57.534Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<3dce2190-0e13-450f-421d-e92aeb8d5478@gmail.com>"}
[2025-10-04T11:13:57.544Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T11:13:58.743Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T11:13:58.840Z] [INFO] Push notification sent for booking assignment | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","fcmToken":"present"}
[2025-10-04T11:13:58.845Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","notificationId":"68e1017262047ee039162ece"}
[2025-10-04T11:13:58.978Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:13:59.034Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:13:59.042Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:13:59.106Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:13:59.124Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:13:59.421Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:13:59.439Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:13:59.520Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:13:59.589Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:13:59.591Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:13:59.821Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:14:22.107Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:14:52.406Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:14:52.431Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:14:52.465Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:14:52.479Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:14:52.573Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:14:52.614Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:14:52.629Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:14:52.667Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:14:52.672Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:14:52.746Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:14:52.803Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:15:22.138Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T11:15:22.144Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T11:15:22.261Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T11:15:22.301Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T11:15:33.565Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:15:33.809Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:15:33.835Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:15:33.877Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:15:33.950Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:15:34.294Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:15:34.458Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:15:34.517Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:15:34.519Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:15:34.622Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:15:34.687Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:15:41.688Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:15:41.803Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:15:41.894Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:15:42.231Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:15:42.331Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:15:42.679Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:15:42.697Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:15:42.929Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:15:43.105Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:15:43.123Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:15:43.229Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:15:46.450Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:15:46.541Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T11:15:46.563Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T11:15:46.711Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T11:15:46.756Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:15:58.390Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T11:15:58.574Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T11:15:58.591Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:15:58.635Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T11:15:58.685Z] [INFO] Sending task assignment notification via email/SMS | {"vendorId":"68e0d6a869faeeee6c95d758","taskType":"booking","taskId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T11:15:58.722Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T11:15:58.816Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:16:01.814Z] [INFO] Email sent successfully | {"messageId":"<5ae8d8b3-9eb7-a9ee-65dc-a4dd20df162d@gmail.com>","to":"panchalajay717@gmail.com","subject":"New Service Booking Assigned - 68e0dca1ccbce15b7405443f"}
[2025-10-04T11:16:01.815Z] [INFO] Task assignment email sent successfully | {"vendorId":"68e0d6a869faeeee6c95d758","vendorEmail":"panchalajay717@gmail.com","taskType":"booking","messageId":"<5ae8d8b3-9eb7-a9ee-65dc-a4dd20df162d@gmail.com>"}
[2025-10-04T11:16:01.820Z] [INFO] Booking assignment notification sent via email/SMS | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T11:16:01.864Z] [INFO] Push notification sent for booking assignment | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","fcmToken":"present"}
[2025-10-04T11:16:01.865Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e101ee62047ee0391631b1"}
[2025-10-04T11:16:08.700Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:16:08.711Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:16:08.756Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:16:08.810Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:16:08.812Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:16:08.955Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:16:09.067Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:16:09.121Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:16:09.234Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:16:09.235Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:16:09.357Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:16:22.130Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:17:16.584Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:17:16.896Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:17:19.760Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:17:20.430Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:17:36.960Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:17:37.380Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:17:39.573Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:17:40.996Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:18:04.995Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:18:05.392Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:18:05.660Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:18:07.397Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:18:08.172Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:18:19.712Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:18:19.989Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:18:21.464Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:18:22.231Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:18:59.681Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:19:00.889Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:19:04.497Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:19:05.436Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:19:12.582Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:19:13.059Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:19:15.318Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:19:16.369Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:19:25.680Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:19:27.102Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:19:29.264Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:19:30.330Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:19:34.897Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:20:23.085Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:20:23.695Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:20:26.528Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:20:26.965Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:20:45.175Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:21:26.789Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:21:42.954Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:21:43.597Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:21:43.691Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:21:43.859Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:21:43.865Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:21:45.035Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:21:45.234Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:21:45.612Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:21:46.307Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2fc5632c71c9340c918/assign-vendor"}
[2025-10-04T11:21:46.458Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:21:46.489Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:21:47.230Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T11:21:47.348Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:21:47.401Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T11:21:47.425Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T11:21:47.712Z] [INFO] Email/SMS notifications disabled - using push notifications only | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T11:21:48.246Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T11:21:48.297Z] [INFO] Push notification sent for booking assignment | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918","fcmToken":"present"}
[2025-10-04T11:21:48.299Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d2fc5632c71c9340c918","notificationId":"68e1034b4a509d38d33387c7"}
[2025-10-04T11:21:49.395Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:21:56.626Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:21:57.209Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:21:57.506Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:21:57.610Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:21:57.726Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:21:58.041Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:21:58.437Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T11:21:58.516Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:21:58.769Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:21:58.771Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:21:59.896Z] [INFO] Vendor bookings retrieved: 3 for vendor 990 | {"vendorId":"990","totalBookings":3,"page":1}
[2025-10-04T11:22:26.652Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:23:26.728Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:24:26.880Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:25:26.710Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:26:26.676Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:27:26.712Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:28:26.701Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:28:50.066Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:29:26.698Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:29:31.280Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2e45632c71c9340c905/assign-vendor"}
[2025-10-04T11:29:31.798Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T11:29:31.877Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T11:29:31.939Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:29:31.997Z] [INFO] Email/SMS notifications disabled - using push notifications only | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905"}
[2025-10-04T11:29:32.124Z] [INFO] Push notification sent for booking assignment | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905","fcmToken":"present"}
[2025-10-04T11:29:32.125Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0d2e45632c71c9340c905","notificationId":"68e1051b4a509d38d33388d5"}
[2025-10-04T11:29:32.657Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:29:38.721Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:29:38.962Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:29:39.263Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:29:39.931Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:29:39.988Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:29:40.713Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:29:41.360Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:29:41.515Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:29:41.655Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:29:41.665Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:29:42.089Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:30:26.822Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:31:26.707Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:31:52.369Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T11:33:07.113Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:33:21.837Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:33:29.539Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:33:30.985Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:33:51.211Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:33:51.570Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:33:53.858Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:33:55.215Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:34:53.945Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:35:53.940Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:36:53.981Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:37:37.928Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:37:39.057Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:37:44.639Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:37:45.526Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:38:13.796Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:38:14.249Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:38:16.960Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:38:18.419Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:39:10.918Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:39:11.724Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:39:15.647Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:39:15.977Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:39:28.046Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:39:28.317Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:39:31.264Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:39:31.834Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:39:52.456Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:39:53.163Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:39:56.354Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:39:57.247Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:40:29.237Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:40:29.754Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:40:35.716Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:40:36.019Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:40:50.715Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:40:51.900Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:40:54.333Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:40:55.782Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:40:58.637Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T11:41:54.461Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:42:05.329Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:42:06.573Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:42:09.421Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T11:42:10.905Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:42:11.756Z] [INFO] Realtime notification sent successfully: | {"vendorId":"990","notificationId":"-Oaj0sJJVkmvFJO3DpK5","title":"🧪 Test Realtime Notification"}
[2025-10-04T11:42:11.825Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:42:12.555Z] [INFO] Realtime notification sent successfully: | {"vendorId":"990","notificationId":"-Oaj0slquA3xtHGrqG0K","title":"🧪 Test Complete Notification"}
[2025-10-04T11:42:47.303Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:42:48.490Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:42:57.599Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:42:57.963Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:42:59.720Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:43:01.222Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:43:22.145Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:43:22.335Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:43:22.362Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:43:22.515Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:43:22.564Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:43:22.863Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T11:43:22.891Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:43:22.961Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:43:23.039Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:43:23.047Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:43:23.211Z] [INFO] Vendor bookings retrieved: 0 for vendor 990 | {"vendorId":"990","totalBookings":0,"page":1}
[2025-10-04T11:43:32.260Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:43:32.282Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T11:43:32.290Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T11:43:32.655Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:43:32.668Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T11:43:40.710Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T11:43:41.185Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T11:43:41.195Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:43:41.366Z] [INFO] Converted string vendorId to ObjectId for notification | {"originalVendorId":"990","vendorObjectId":"68e0d6a869faeeee6c95d758","vendorName":"Krishna Panchal"}
[2025-10-04T11:43:41.657Z] [INFO] Email/SMS notifications disabled - using push notifications only | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T11:43:41.917Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T11:43:41.982Z] [INFO] Complete notification sent for booking assignment | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","pushNotification":false,"realtimeNotification":false,"fcmToken":"present"}
[2025-10-04T11:43:41.984Z] [INFO] Booking assignment notification created | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","notificationId":"68e1086d5507b42ecebf63b8"}
[2025-10-04T11:43:42.309Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:43:46.979Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:43:47.134Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:43:47.219Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:43:47.317Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:43:47.335Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:43:47.575Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:43:47.637Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:43:47.786Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:43:47.961Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:43:47.975Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:43:48.273Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:44:00.127Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:44:59.849Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:46:10.918Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:46:42.282Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:46:59.834Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:47:18.536Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:47:20.965Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:47:30.366Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:47:35.825Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:47:36.039Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:47:38.666Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:47:40.106Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:47:45.456Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:47:45.665Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:47:49.173Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:47:55.870Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:47:56.396Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:47:59.391Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:48:00.523Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:48:06.232Z] [WARN] SMTP not configured. Email functionality will be disabled.
[2025-10-04T11:48:50.035Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:48:50.381Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:48:53.190Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:48:53.723Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:49:03.239Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:49:03.631Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:49:05.484Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:49:06.504Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:49:20.689Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:49:20.930Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:49:28.640Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:49:28.928Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:49:30.618Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:49:31.865Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:50:11.185Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:50:32.933Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:50:33.298Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:50:47.688Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:50:49.835Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:50:57.141Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:50:58.572Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:51:18.254Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:51:19.220Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:51:21.978Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:51:22.248Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:51:23.654Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:51:53.083Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:51:53.259Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:51:57.192Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:52:03.243Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:52:03.881Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:52:08.893Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:52:10.308Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:52:11.728Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:52:31.088Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:52:31.615Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:52:34.626Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:52:36.240Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:52:37.777Z] [INFO] Simple notification service initialized
[2025-10-04T11:52:37.824Z] [INFO] Sending simple notification to vendor | {"vendorId":"990","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T11:52:38.090Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T11:52:39.873Z] [INFO] Realtime notification sent successfully: | {"vendorId":"990","notificationId":"-Oaj3GlojU5V64Kt5VPo","title":"📅 New Service Booking Assigned"}
[2025-10-04T11:52:39.875Z] [INFO] Simple notification sent successfully via Firebase Realtime Database | {"vendorId":"990","title":"📅 New Service Booking Assigned"}
[2025-10-04T11:53:34.666Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:53:51.678Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:53:52.311Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:54:08.589Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:54:09.577Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:54:15.484Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:54:15.927Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:54:17.721Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:54:18.771Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:54:53.088Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:54:54.476Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:54:57.307Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:54:58.453Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:55:22.317Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:55:22.566Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:55:22.651Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:55:22.826Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:55:22.856Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:55:23.130Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:55:23.138Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:55:23.164Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:55:23.522Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:55:23.702Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:55:24.545Z] [INFO] Vendor bookings retrieved: 1 for vendor 990 | {"vendorId":"990","totalBookings":1,"page":1}
[2025-10-04T11:55:30.434Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:55:30.470Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T11:55:30.505Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T11:55:31.198Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T11:55:31.303Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:55:35.141Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T11:55:35.154Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T11:55:40.304Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T11:55:40.650Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T11:55:40.940Z] [INFO] Simple notification service initialized
[2025-10-04T11:55:40.941Z] [INFO] Sending simple notification to vendor | {"vendorId":"990","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T11:55:41.077Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T11:55:42.799Z] [INFO] Realtime notification sent successfully: | {"vendorId":"990","notificationId":"-Oaj3yQhpjygMZqrF_lQ","title":"📅 New Service Booking Assigned"}
[2025-10-04T11:55:42.801Z] [INFO] Simple notification sent successfully via Firebase Realtime Database | {"vendorId":"990","title":"📅 New Service Booking Assigned"}
[2025-10-04T11:55:42.803Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T11:55:42.809Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T11:55:43.093Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:55:43.523Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:55:49.460Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:55:49.617Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:55:49.751Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T11:55:49.781Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:55:49.799Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:55:50.086Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T11:55:50.133Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:55:50.150Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T11:55:50.224Z] [INFO] Getting bookings for vendor | {"vendorId":"990","page":1,"limit":10}
[2025-10-04T11:55:50.225Z] [INFO] Booking query | {"query":{"vendor.vendorId":"990"}}
[2025-10-04T11:55:50.498Z] [INFO] Vendor bookings retrieved: 2 for vendor 990 | {"vendorId":"990","totalBookings":2,"page":1}
[2025-10-04T11:55:57.298Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T11:55:57.300Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T11:55:57.563Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T11:55:57.620Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T11:56:49.839Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T11:56:49.870Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:56:49.884Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T11:56:50.346Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T11:56:50.408Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:56:57.328Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:56:58.632Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T11:56:58.908Z] [INFO] Sending simple notification to vendor | {"vendorId":"990","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T11:56:59.301Z] [INFO] Realtime notification sent successfully: | {"vendorId":"990","notificationId":"-Oaj4GF83x6LryTk93sV","title":"📅 New Service Booking Assigned"}
[2025-10-04T11:56:59.302Z] [INFO] Simple notification sent successfully via Firebase Realtime Database | {"vendorId":"990","title":"📅 New Service Booking Assigned"}
[2025-10-04T11:56:59.303Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T11:56:59.303Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T11:56:59.344Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T11:56:59.750Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T11:57:57.344Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T11:58:50.895Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T11:58:51.417Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T11:58:53.808Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T11:58:55.319Z] [INFO] SMTP connection verified successfully
[2025-10-04T11:59:53.901Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:00:26.833Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:00:27.282Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:00:29.661Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:00:30.480Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:00:31.133Z] [INFO] Simple notification service initialized
[2025-10-04T12:00:31.143Z] [INFO] Sending simple notification to vendor | {"vendorId":"990","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T12:00:31.891Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T12:00:33.964Z] [INFO] Realtime notification sent successfully: | {"vendorId":"990","notificationId":"-Oaj54RWnLS7nT09QrhO","title":"📅 New Service Booking Assigned"}
[2025-10-04T12:00:33.991Z] [WARN] Push notification skipped - vendor has test FCM token or no token | {"vendorId":"990","hasToken":true,"tokenType":"TEST"}
[2025-10-04T12:00:34.031Z] [INFO] Simple notification sent successfully | {"vendorId":"990","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":false}
[2025-10-04T12:01:29.792Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:01:55.129Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:01:55.670Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:01:57.928Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:01:59.035Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:02:21.408Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:02:21.462Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T12:02:55.205Z] [INFO] Vendor registered successfully | {"vendorId":"68e10cee77f155d080f1cb6d","email":"panchalajay717@gmail.com","phone":"7610416911"}
[2025-10-04T12:02:57.663Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T12:02:57.992Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:02:58.367Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:02:58.389Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T12:02:58.426Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:03:01.366Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68e10cee77f155d080f1cb6d/status"}
[2025-10-04T12:03:01.707Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T12:03:06.077Z] [INFO] Email sent successfully | {"messageId":"<6de7fab3-5772-d765-cdff-a1373432b6ea@gmail.com>","to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!"}
[2025-10-04T12:03:06.081Z] [INFO] Vendor approval email sent successfully | {"vendorId":"68e10cee77f155d080f1cb6d","email":"panchalajay717@gmail.com"}
[2025-10-04T12:03:06.086Z] [INFO] Vendor approve by admin | {"vendorId":"68e10cee77f155d080f1cb6d","vendorEmail":"panchalajay717@gmail.com","action":"approve"}
[2025-10-04T12:03:06.120Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:03:13.655Z] [INFO] Vendor logged in successfully | {"vendorId":"68e10cee77f155d080f1cb6d","email":"panchalajay717@gmail.com"}
[2025-10-04T12:03:14.103Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:14.322Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:14.553Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:15.175Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:16.143Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/create-order"}
[2025-10-04T12:03:17.605Z] [INFO] Vendor deposit order created successfully | {"vendorId":"213","amount":3999,"transactionId":"DEP_213_1759579396316","razorpayOrderId":"order_RPOBFFucJLPmNh"}
[2025-10-04T12:03:43.929Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:44.318Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:46.763Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/verify"}
[2025-10-04T12:03:47.039Z] [INFO] Vendor deposit payment verification attempt | {"vendorId":"213","transactionId":"DEP_213_1759579396316","razorpayOrderId":"order_RPOBFFucJLPmNh","razorpayPaymentId":"pay_RPOBXsEqDfdGGZ","expectedSignature":"18502c77f8...","receivedSignature":"18502c77f8..."}
[2025-10-04T12:03:47.042Z] [INFO] Adding deposit to vendor wallet | {"vendorId":"213","amount":3999,"currentBalance":0}
[2025-10-04T12:03:47.333Z] [INFO] Vendor wallet updated after deposit | {"vendorId":"213","newBalance":3999,"hasInitialDeposit":true}
[2025-10-04T12:03:47.539Z] [INFO] Vendor deposit payment verified and processed successfully | {"vendorId":"213","transactionId":"DEP_213_1759579396316","amount":3999,"razorpayPaymentId":"pay_RPOBXsEqDfdGGZ"}
[2025-10-04T12:03:47.762Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T12:03:51.743Z] [INFO] Email sent successfully | {"messageId":"<16bceb34-620f-d5ee-095b-5de04410db70@gmail.com>","to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly"}
[2025-10-04T12:03:51.745Z] [INFO] Deposit confirmation email sent successfully | {"vendorId":"213","email":"panchalajay717@gmail.com"}
[2025-10-04T12:03:52.827Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:03:53.113Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:53.329Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:55.419Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:03:55.488Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:03:55.590Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:03:55.645Z] [INFO] Getting bookings for vendor | {"vendorId":"213","page":1,"limit":10}
[2025-10-04T12:03:55.647Z] [INFO] Booking query | {"query":{"vendor.vendorId":"213"}}
[2025-10-04T12:03:55.788Z] [INFO] Vendor bookings retrieved: 0 for vendor 213 | {"vendorId":"213","totalBookings":0,"page":1}
[2025-10-04T12:03:55.886Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:03:55.976Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:03:56.005Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:03:56.020Z] [INFO] Getting bookings for vendor | {"vendorId":"213","page":1,"limit":10}
[2025-10-04T12:03:56.023Z] [INFO] Booking query | {"query":{"vendor.vendorId":"213"}}
[2025-10-04T12:03:56.344Z] [INFO] Vendor bookings retrieved: 0 for vendor 213 | {"vendorId":"213","totalBookings":0,"page":1}
[2025-10-04T12:03:56.549Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:56.763Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:03:58.077Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:04:00.860Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:04:00.877Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T12:04:00.920Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T12:04:01.209Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T12:04:01.386Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:04:08.465Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2fc5632c71c9340c918/assign-vendor"}
[2025-10-04T12:04:08.808Z] [INFO] Simple notification service initialized
[2025-10-04T12:04:08.810Z] [INFO] Sending simple notification to vendor | {"vendorId":"213","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T12:04:09.031Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T12:04:10.960Z] [INFO] Realtime notification sent successfully: | {"vendorId":"213","notificationId":"-Oaj5uRDO9xFz-LW8M2e","title":"📅 New Service Booking Assigned"}
[2025-10-04T12:04:10.962Z] [WARN] Push notification skipped - vendor has test FCM token or no token | {"vendorId":"213","hasToken":false,"tokenType":"NONE"}
[2025-10-04T12:04:10.964Z] [INFO] Simple notification sent successfully | {"vendorId":"213","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":false}
[2025-10-04T12:04:10.965Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"213","bookingId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T12:04:10.967Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"213","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T12:04:11.003Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:04:11.580Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:04:20.269Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:04:20.449Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:04:20.525Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:04:20.648Z] [INFO] Getting bookings for vendor | {"vendorId":"213","page":1,"limit":10}
[2025-10-04T12:04:20.673Z] [INFO] Booking query | {"query":{"vendor.vendorId":"213"}}
[2025-10-04T12:04:23.000Z] [INFO] Vendor bookings retrieved: 1 for vendor 213 | {"vendorId":"213","totalBookings":1,"page":1}
[2025-10-04T12:04:23.199Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:04:23.645Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:04:23.942Z] [INFO] Getting bookings for vendor | {"vendorId":"213","page":1,"limit":10}
[2025-10-04T12:04:24.012Z] [INFO] Booking query | {"query":{"vendor.vendorId":"213"}}
[2025-10-04T12:04:24.260Z] [INFO] Vendor bookings retrieved: 1 for vendor 213 | {"vendorId":"213","totalBookings":1,"page":1}
[2025-10-04T12:04:58.035Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:05:32.719Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2e45632c71c9340c905/assign-vendor"}
[2025-10-04T12:05:33.213Z] [INFO] Sending simple notification to vendor | {"vendorId":"213","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T12:05:33.713Z] [INFO] Realtime notification sent successfully: | {"vendorId":"213","notificationId":"-Oaj6Dp9H5bsvM8b1pIq","title":"📅 New Service Booking Assigned"}
[2025-10-04T12:05:33.716Z] [WARN] Push notification skipped - vendor has test FCM token or no token | {"vendorId":"213","hasToken":false,"tokenType":"NONE"}
[2025-10-04T12:05:33.719Z] [INFO] Simple notification sent successfully | {"vendorId":"213","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":false}
[2025-10-04T12:05:33.720Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"213","bookingId":"68e0d2e45632c71c9340c905"}
[2025-10-04T12:05:33.723Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"213","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T12:05:33.869Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:05:34.421Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:05:51.105Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:05:51.165Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:05:51.189Z] [INFO] Getting bookings for vendor | {"vendorId":"213","page":1,"limit":10}
[2025-10-04T12:05:51.199Z] [INFO] Booking query | {"query":{"vendor.vendorId":"213"}}
[2025-10-04T12:05:52.423Z] [INFO] Vendor bookings retrieved: 2 for vendor 213 | {"vendorId":"213","totalBookings":2,"page":1}
[2025-10-04T12:05:53.105Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:05:53.242Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:05:53.313Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:05:53.359Z] [INFO] Getting bookings for vendor | {"vendorId":"213","page":1,"limit":10}
[2025-10-04T12:05:53.363Z] [INFO] Booking query | {"query":{"vendor.vendorId":"213"}}
[2025-10-04T12:05:53.643Z] [INFO] Vendor bookings retrieved: 2 for vendor 213 | {"vendorId":"213","totalBookings":2,"page":1}
[2025-10-04T12:05:58.027Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T12:05:58.045Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 990
[2025-10-04T12:05:58.346Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T12:05:58.421Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T12:06:58.145Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:07:58.139Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T12:07:58.161Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 990
[2025-10-04T12:07:58.472Z] [INFO] Auto-rejection penalty applied to vendor 990 | {"vendorId":"990","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T12:07:58.583Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"990","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T12:08:25.320Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:08:27.219Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:08:34.950Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:08:35.485Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:09:37.889Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:09:51.466Z] [INFO] Simple notification service initialized
[2025-10-04T12:09:51.475Z] [INFO] Sending simple notification to vendor | {"vendorId":"213","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T12:09:52.459Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T12:09:54.942Z] [INFO] Realtime notification sent successfully: | {"vendorId":"213","notificationId":"-Oaj7DJ_oAaPKaaoGcmy","title":"📅 New Service Booking Assigned"}
[2025-10-04T12:09:55.290Z] [INFO] Simple notification sent successfully | {"vendorId":"213","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":false}
[2025-10-04T12:10:26.560Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:10:26.774Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:10:29.229Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:10:32.542Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:10:32.758Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:10:35.448Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:10:38.813Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:11:05.308Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:11:05.862Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:11:10.081Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:11:11.116Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:11:33.561Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:11:34.865Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:11:38.224Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:11:40.172Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:11:45.957Z] [INFO] Simple notification service initialized
[2025-10-04T12:11:45.959Z] [INFO] Sending simple notification to vendor | {"vendorId":"213","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T12:11:46.840Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T12:11:48.854Z] [INFO] Realtime notification sent successfully: | {"vendorId":"213","notificationId":"-Oaj7eFO5ouwliAoHru9","title":"📅 New Service Booking Assigned"}
[2025-10-04T12:11:49.575Z] [INFO] Simple notification sent successfully | {"vendorId":"213","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":false}
[2025-10-04T12:12:31.787Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:12:32.268Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:12:34.698Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:12:36.093Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:12:41.340Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:12:41.640Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:12:43.426Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:12:44.956Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:13:33.841Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:13:34.186Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:13:36.240Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:13:37.021Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:13:45.634Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:13:45.764Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:13:47.174Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:13:48.271Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:14:36.537Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T12:14:36.607Z] [INFO] Auto-rejecting booking 68e0d2fc5632c71c9340c918 for vendor 213
[2025-10-04T12:14:37.429Z] [INFO] Auto-rejection penalty applied to vendor 213 | {"vendorId":"213","bookingId":"68e0d2fc5632c71c9340c918","penaltyAmount":100}
[2025-10-04T12:14:38.089Z] [INFO] Booking 68e0d2fc5632c71c9340c918 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"213","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T12:14:58.655Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:14:58.761Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:14:59.152Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:14:59.387Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:15:03.677Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:15:04.328Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:15:04.534Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:15:05.568Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:15:32.834Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:15:33.228Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:15:33.256Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:15:33.482Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:15:39.502Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:15:40.655Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:15:42.956Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:15:44.661Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:15:54.219Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:15:55.413Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:15:59.778Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:16:01.361Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:16:10.960Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:16:13.076Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:16:26.266Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:16:27.656Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:16:59.886Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T12:16:59.956Z] [INFO] Auto-rejecting booking 68e0d2e45632c71c9340c905 for vendor 213
[2025-10-04T12:17:01.237Z] [INFO] Auto-rejection penalty applied to vendor 213 | {"vendorId":"213","bookingId":"68e0d2e45632c71c9340c905","penaltyAmount":100}
[2025-10-04T12:17:01.868Z] [INFO] Booking 68e0d2e45632c71c9340c905 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"213","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T12:17:26.533Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:17:59.881Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:18:26.405Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:19:00.133Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:19:26.632Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:19:55.995Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:19:56.333Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:19:58.750Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:20:00.860Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:20:58.946Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:21:59.459Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:22:59.390Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:22:59.468Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:22:59.484Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:22:59.504Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:22:59.656Z] [WARN] Vendor not found for token | {"vendorId":"68e10cee77f155d080f1cb6d"}
[2025-10-04T12:22:59.716Z] [WARN] Vendor not found for token | {"vendorId":"68e10cee77f155d080f1cb6d"}
[2025-10-04T12:22:59.834Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:22:59.971Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:23:00.004Z] [WARN] Vendor not found for token | {"vendorId":"68e10cee77f155d080f1cb6d"}
[2025-10-04T12:23:00.192Z] [WARN] Vendor not found for token | {"vendorId":"68e10cee77f155d080f1cb6d"}
[2025-10-04T12:23:01.429Z] [WARN] Vendor not found for token | {"vendorId":"68e10cee77f155d080f1cb6d"}
[2025-10-04T12:23:12.545Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:23:12.562Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T12:23:12.577Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T12:23:13.114Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T12:23:13.254Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:23:14.845Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:23:14.853Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T12:23:41.428Z] [INFO] Vendor registered successfully | {"vendorId":"68e111ccce971c554c7f752d","email":"panchalajay717@gmail.com","phone":"7610416911"}
[2025-10-04T12:23:43.760Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T12:23:44.115Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:23:44.708Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:23:44.766Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T12:23:51.492Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68e111ccce971c554c7f752d/status"}
[2025-10-04T12:23:51.794Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T12:23:55.903Z] [INFO] Email sent successfully | {"messageId":"<0a974737-40b9-785c-de44-e64bade414f9@gmail.com>","to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!"}
[2025-10-04T12:23:55.911Z] [INFO] Vendor approval email sent successfully | {"vendorId":"68e111ccce971c554c7f752d","email":"panchalajay717@gmail.com"}
[2025-10-04T12:23:55.915Z] [INFO] Vendor approve by admin | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","action":"approve"}
[2025-10-04T12:23:55.969Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:23:57.179Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T12:23:57.604Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:23:59.546Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:24:10.924Z] [INFO] Vendor logged in successfully | {"vendorId":"68e111ccce971c554c7f752d","email":"panchalajay717@gmail.com"}
[2025-10-04T12:24:11.144Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:11.408Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:11.594Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:11.864Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:16.360Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/create-order"}
[2025-10-04T12:24:17.072Z] [INFO] Vendor deposit order created successfully | {"vendorId":"572","amount":3999,"transactionId":"DEP_572_1759580656525","razorpayOrderId":"order_RPOXQ2eSP6FFSN"}
[2025-10-04T12:24:37.363Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/verify"}
[2025-10-04T12:24:37.588Z] [INFO] Vendor deposit payment verification attempt | {"vendorId":"572","transactionId":"DEP_572_1759580656525","razorpayOrderId":"order_RPOXQ2eSP6FFSN","razorpayPaymentId":"pay_RPOXZBDVLNzHbh","expectedSignature":"39398ca2d1...","receivedSignature":"39398ca2d1..."}
[2025-10-04T12:24:37.589Z] [INFO] Adding deposit to vendor wallet | {"vendorId":"572","amount":3999,"currentBalance":0}
[2025-10-04T12:24:37.804Z] [INFO] Vendor wallet updated after deposit | {"vendorId":"572","newBalance":3999,"hasInitialDeposit":true}
[2025-10-04T12:24:37.966Z] [INFO] Vendor deposit payment verified and processed successfully | {"vendorId":"572","transactionId":"DEP_572_1759580656525","amount":3999,"razorpayPaymentId":"pay_RPOXZBDVLNzHbh"}
[2025-10-04T12:24:38.139Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T12:24:41.126Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:41.333Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:42.026Z] [INFO] Email sent successfully | {"messageId":"<2429bd76-6d7c-bc2f-8628-2d3774945c92@gmail.com>","to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly"}
[2025-10-04T12:24:42.027Z] [INFO] Deposit confirmation email sent successfully | {"vendorId":"572","email":"panchalajay717@gmail.com"}
[2025-10-04T12:24:42.802Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:24:42.808Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:24:42.875Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:24:42.927Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:24:42.935Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:24:43.080Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:24:43.140Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:24:43.159Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:24:43.234Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:24:43.253Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:24:43.327Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:24:43.487Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:24:43.586Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:43.857Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:46.168Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:24:46.429Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:47.086Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:24:59.481Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:25:28.361Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T12:25:28.421Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T12:25:28.470Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:25:31.219Z] [WARN] Admin access attempt without token | {"endpoint":"/api/admin/logout","ip":"::1"}
[2025-10-04T12:25:36.360Z] [WARN] Failed admin login attempt | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T12:25:44.901Z] [INFO] Admin logged in successfully | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T12:25:45.090Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T12:25:45.533Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T12:25:46.630Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:25:46.638Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T12:25:46.643Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T12:25:47.033Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T12:25:47.170Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:25:54.146Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T12:25:54.931Z] [INFO] Simple notification service initialized
[2025-10-04T12:25:54.964Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T12:25:55.413Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T12:25:57.822Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OajAtTKH6pMmVq4YeLX","title":"📅 New Service Booking Assigned"}
[2025-10-04T12:25:57.824Z] [WARN] Push notification skipped - vendor has test FCM token or no token | {"vendorId":"572","hasToken":false,"tokenType":"NONE"}
[2025-10-04T12:25:57.825Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":false}
[2025-10-04T12:25:57.827Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T12:25:57.834Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T12:25:57.874Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:25:58.353Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:25:59.425Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:26:04.655Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:26:04.969Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:26:05.034Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:26:05.165Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:26:05.182Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:26:05.465Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:26:05.497Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:26:05.724Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:26:05.821Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:26:05.824Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:26:06.176Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:26:07.494Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:26:07.910Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:26:08.292Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:26:08.644Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:26:08.895Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:26:08.908Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:26:08.912Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:26:09.088Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:26:09.090Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:26:09.225Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:26:09.362Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:26:09.475Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:26:09.646Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:26:09.663Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:26:09.904Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:26:59.450Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:28:00.231Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:28:59.531Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:29:24.337Z] [INFO] Cleaned 1 old log files
[2025-10-04T12:29:27.137Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:29:29.268Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:29:34.120Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:29:35.280Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:30:34.664Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:30:42.213Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:30:42.579Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:30:42.763Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:30:46.079Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:30:46.336Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:30:53.143Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:30:53.258Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:30:53.634Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:30:53.978Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:30:54.085Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:30:54.474Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:30:57.291Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:30:57.576Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:30:57.712Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:30:57.978Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:30:58.041Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:30:59.160Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:30:59.509Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:30:59.741Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:31:00.211Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:31:00.524Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:31:02.144Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:31:24.722Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:31:24.838Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:31:24.959Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:31:25.070Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:31:25.074Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:31:25.389Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:31:25.422Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:31:25.457Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:31:25.604Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:31:25.621Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:31:26.054Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:31:34.486Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:32:34.530Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:33:34.622Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:34:34.742Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:35:11.737Z] [INFO] Cleaned 1 old log files
[2025-10-04T12:35:24.091Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:35:42.475Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:36:23.340Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:36:39.662Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:36:57.378Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:36:58.782Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:38:01.902Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T12:38:02.354Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 572
[2025-10-04T12:38:04.369Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T12:38:08.012Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T12:38:08.539Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T12:38:12.130Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T12:38:13.245Z] [INFO] SMTP connection verified successfully
[2025-10-04T12:38:56.633Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:38:59.010Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:38:59.250Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:38:59.546Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:38:59.557Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:39:00.293Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:39:00.521Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:39:00.631Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:39:00.758Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:39:00.777Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:39:01.138Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:39:06.631Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T12:39:07.325Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T12:39:08.291Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T12:39:12.086Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T12:39:12.098Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 572
[2025-10-04T12:39:12.653Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T12:39:12.796Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T12:39:17.442Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:39:17.721Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:39:17.955Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:39:18.145Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T12:39:20.707Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:39:21.199Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:39:21.240Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:39:21.333Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:39:21.373Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:39:21.504Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:39:21.542Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:39:21.590Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:39:21.650Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:39:21.657Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:39:21.825Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:40:12.240Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:41:13.027Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:41:15.049Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:41:15.360Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:41:18.148Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:41:18.299Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:41:18.363Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:41:18.780Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:41:20.263Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:41:20.681Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:41:21.097Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:41:21.143Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:41:21.513Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:42:14.943Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:42:57.133Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:42:57.493Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:42:57.847Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:42:57.997Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:42:58.064Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:42:58.232Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:42:58.248Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:42:58.278Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:42:58.388Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:42:58.394Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:42:58.547Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:43:14.699Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:44:14.757Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:45:15.048Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:45:23.955Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:45:24.458Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:45:24.711Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:45:26.493Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:45:26.510Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:45:26.654Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:45:26.678Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:45:26.704Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:45:26.978Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:45:27.049Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:45:27.343Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:45:37.561Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:45:38.297Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T12:45:38.707Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T12:45:41.446Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T12:45:41.541Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:45:41.612Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=1000"}
[2025-10-04T12:45:41.996Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T12:45:42.242Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:45:42.893Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T12:45:43.675Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:45:43.943Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T12:45:44.396Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:46:14.826Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:46:57.695Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:46:58.106Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:46:58.133Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T12:46:58.170Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:46:58.187Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T12:46:58.243Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:46:58.325Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:46:58.330Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:46:58.447Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T12:46:58.466Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:46:58.470Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:46:58.529Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:46:58.545Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:46:58.558Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:46:58.560Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:46:58.693Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T12:47:14.771Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:47:29.382Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T12:47:29.706Z] [INFO] Simple notification service initialized
[2025-10-04T12:47:29.708Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T12:47:29.932Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T12:47:31.822Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OajFpQJT6bVle_ZVZ1_","title":"📅 New Service Booking Assigned"}
[2025-10-04T12:47:31.826Z] [WARN] Push notification skipped - vendor has test FCM token or no token | {"vendorId":"572","hasToken":false,"tokenType":"NONE"}
[2025-10-04T12:47:31.827Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":false}
[2025-10-04T12:47:31.829Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T12:47:31.830Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T12:47:31.851Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T12:47:32.237Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T12:47:37.248Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:47:37.288Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:47:37.324Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T12:47:37.474Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:47:37.505Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:47:37.751Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T12:47:37.784Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:47:37.922Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T12:47:38.011Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T12:47:38.030Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T12:47:38.356Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T12:48:14.764Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:49:14.787Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:50:15.609Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:51:15.301Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:52:14.874Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:53:14.849Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:54:14.948Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:55:14.831Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:56:14.875Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:57:14.850Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T12:58:15.064Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T12:58:15.071Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 572
[2025-10-04T12:58:15.370Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T12:58:15.480Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T12:59:14.866Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:00:14.864Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:01:14.883Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:02:14.866Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:03:14.897Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:04:14.904Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:04:59.562Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:05:01.546Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:05:10.275Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:05:12.088Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:06:10.555Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:06:49.963Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:06:52.509Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:07:00.327Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:07:00.758Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:07:25.659Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:07:27.161Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:07:36.474Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:07:37.631Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:08:36.917Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:09:06.568Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:09:08.646Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:09:15.524Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:09:16.741Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:10:16.115Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:11:16.710Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:12:17.150Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:12:35.499Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:12:36.386Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:12:42.076Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:12:43.635Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:12:53.312Z] [INFO] Simple notification service initialized
[2025-10-04T13:12:53.331Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T13:12:53.914Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T13:12:56.796Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OajLdYdBbPfav8flNLr","title":"📅 New Service Booking Assigned"}
[2025-10-04T13:12:56.797Z] [WARN] Push notification skipped - vendor has test FCM token or no token | {"vendorId":"572","hasToken":true,"tokenType":"TEST"}
[2025-10-04T13:12:56.798Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":false}
[2025-10-04T13:13:46.333Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:14:42.105Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:15:46.175Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:15:48.308Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:15:53.525Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:15:54.427Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:16:53.617Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:17:16.642Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T13:17:17.506Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T13:17:17.722Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T13:17:18.078Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T13:17:18.128Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T13:17:18.366Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T13:17:18.421Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T13:17:18.481Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T13:17:18.548Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T13:17:18.550Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T13:17:18.679Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T13:17:53.943Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:18:13.045Z] [INFO] Vendor logged in successfully | {"vendorId":"68e111ccce971c554c7f752d","email":"panchalajay717@gmail.com"}
[2025-10-04T13:18:13.315Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T13:18:13.864Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T13:18:14.126Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T13:18:14.379Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T13:18:22.205Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T13:18:22.224Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T13:18:22.369Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T13:18:22.596Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T13:18:22.602Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T13:18:22.786Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T13:18:22.813Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T13:18:22.856Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T13:18:22.966Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T13:18:22.990Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T13:18:23.142Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T13:18:54.215Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:19:11.650Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T13:19:12.036Z] [INFO] Simple notification service initialized
[2025-10-04T13:19:12.039Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T13:19:12.238Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T13:19:14.223Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OajN4rG9NfX1O0nY0gj","title":"📅 New Service Booking Assigned"}
[2025-10-04T13:19:14.714Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/7c4626e0-4d02-49bb-b775-67e17fd62ea0","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:19:14.717Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:19:14.724Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T13:19:14.726Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T13:19:14.728Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T13:19:14.787Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T13:19:15.236Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T13:19:40.075Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T13:19:40.502Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T13:19:40.535Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T13:19:40.723Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T13:19:40.790Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T13:19:40.975Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T13:19:41.223Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T13:19:41.289Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T13:19:41.419Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T13:19:41.422Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T13:19:41.636Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T13:19:52.074Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2e45632c71c9340c905/assign-vendor"}
[2025-10-04T13:19:52.492Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T13:19:53.123Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OajNEVnJzTtE_5uIvwN","title":"📅 New Service Booking Assigned"}
[2025-10-04T13:19:53.777Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:19:53.885Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/8c10cea3-a5af-4481-8a09-3827a14c60f0","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:19:53.889Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:19:53.893Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T13:19:53.902Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d2e45632c71c9340c905"}
[2025-10-04T13:19:53.904Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T13:19:54.021Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T13:19:54.588Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T13:20:53.817Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:21:53.862Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:22:53.773Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:23:53.793Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T13:24:04.590Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:24:05.182Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:24:08.015Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:24:09.097Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:24:35.710Z] [INFO] Simple notification service initialized
[2025-10-04T13:24:35.716Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T13:24:35.989Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T13:24:36.971Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:24:37.341Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:24:38.298Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OajOJvAu82upeiGOvlD","title":"📅 New Service Booking Assigned"}
[2025-10-04T13:24:39.422Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/cc25f18d-bd3d-48fd-b081-8b7fa254e3a0","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:24:39.423Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:24:39.424Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T13:24:41.376Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:24:42.258Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:25:26.370Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T13:25:26.684Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T13:25:29.533Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T13:25:29.703Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2cf5632c71c9340c8f3/assign-vendor"}
[2025-10-04T13:25:30.572Z] [INFO] SMTP connection verified successfully
[2025-10-04T13:25:31.117Z] [INFO] Simple notification service initialized
[2025-10-04T13:25:31.120Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T13:25:31.696Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T13:25:34.007Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OajOXb66EEFHwRoQTsh","title":"📅 New Service Booking Assigned"}
[2025-10-04T13:25:34.762Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/3d87bac4-9191-4e82-8ce0-708861877f3b","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:25:34.912Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:25:34.943Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T13:25:35.018Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d2cf5632c71c9340c8f3"}
[2025-10-04T13:25:35.068Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T13:25:35.400Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T13:25:37.058Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T13:25:44.689Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T13:25:44.917Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T13:25:45.204Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T13:25:45.494Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T13:25:45.498Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T13:25:45.694Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T13:25:45.924Z] [INFO] Vendor bookings retrieved: 3 for vendor 572 | {"vendorId":"572","totalBookings":3,"page":1}
[2025-10-04T13:25:46.037Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T13:25:46.149Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T13:25:46.150Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T13:25:46.493Z] [INFO] Vendor bookings retrieved: 3 for vendor 572 | {"vendorId":"572","totalBookings":3,"page":1}
[2025-10-04T13:26:07.431Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T13:26:08.006Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T13:26:08.509Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OajOfAHstC_yrp6qM3E","title":"📅 New Service Booking Assigned"}
[2025-10-04T13:26:08.850Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/1e32944b-66e6-4608-afba-149581f328df","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:26:08.852Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T13:26:08.854Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T13:26:08.855Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T13:26:08.857Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T13:26:08.903Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T13:26:09.797Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T13:26:29.626Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:41:10.303Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T18:41:10.789Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T18:41:13.386Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T18:41:13.981Z] [INFO] SMTP connection verified successfully
[2025-10-04T18:42:11.981Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T18:42:11.995Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T18:42:12.205Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T18:42:13.524Z] [INFO] Found 4 pending assignments to check for auto-rejection
[2025-10-04T18:42:13.525Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 572
[2025-10-04T18:42:13.724Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T18:42:13.824Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T18:42:13.826Z] [INFO] Auto-rejecting booking 68e0d2cf5632c71c9340c8f3 for vendor 572
[2025-10-04T18:42:13.988Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d2cf5632c71c9340c8f3","penaltyAmount":100}
[2025-10-04T18:42:14.126Z] [INFO] Booking 68e0d2cf5632c71c9340c8f3 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T18:42:14.128Z] [INFO] Auto-rejecting booking 68e0d2e45632c71c9340c905 for vendor 572
[2025-10-04T18:42:14.323Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d2e45632c71c9340c905","penaltyAmount":100}
[2025-10-04T18:42:14.424Z] [INFO] Booking 68e0d2e45632c71c9340c905 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T18:42:14.426Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 572
[2025-10-04T18:42:14.603Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T18:42:14.678Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T18:42:25.175Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:42:25.223Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:42:25.237Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:42:25.298Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:42:25.303Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:42:25.503Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:42:25.512Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:42:25.561Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:42:25.601Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:42:25.602Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:42:25.788Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:42:31.354Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T18:42:51.819Z] [WARN] Admin access attempt without token | {"endpoint":"/api/admin/logout","ip":"::1"}
[2025-10-04T18:43:00.706Z] [INFO] Admin logged in successfully | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T18:43:00.769Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T18:43:01.191Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T18:43:10.062Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:43:10.069Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T18:43:13.470Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:43:14.950Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T18:43:15.792Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:43:19.182Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:43:19.188Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T18:43:19.194Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T18:43:19.603Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T18:43:19.673Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:44:13.559Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:45:13.551Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:46:13.542Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:46:48.143Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:46:48.170Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:46:48.176Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:46:48.326Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:46:48.330Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:46:48.575Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:46:48.608Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:46:48.660Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:46:48.707Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:46:48.708Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:46:48.884Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:47:13.502Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:47:57.040Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:47:57.050Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:47:57.083Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:47:57.136Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:47:57.138Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:47:57.396Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:47:57.419Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:47:57.425Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:47:57.509Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:47:57.511Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:47:57.768Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:48:13.496Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:49:13.525Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:49:52.818Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:49:52.826Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:49:52.831Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:49:52.905Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:49:52.921Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:49:53.015Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:49:53.060Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:49:53.066Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:49:53.135Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:49:53.138Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:49:53.266Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:49:59.476Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:49:59.634Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:49:59.675Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:49:59.686Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:49:59.688Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:49:59.812Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:49:59.825Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:49:59.919Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:49:59.941Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:49:59.950Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:50:00.087Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T18:50:11.240Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T18:50:11.790Z] [INFO] Simple notification service initialized
[2025-10-04T18:50:11.793Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T18:50:12.186Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T18:50:13.643Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:50:14.841Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakYqTcHN4t1zYV8vpO","title":"📅 New Service Booking Assigned"}
[2025-10-04T18:50:15.308Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/c1044044-945e-4621-89f6-a74a1fdb5c18","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:50:15.314Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:50:15.323Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T18:50:15.332Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T18:50:15.345Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T18:50:15.408Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:50:15.846Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:50:19.564Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:50:19.834Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:50:20.067Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:50:20.268Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:50:20.775Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:50:20.784Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:50:20.800Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:50:20.868Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:50:20.896Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:50:21.038Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:50:21.105Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T18:50:21.184Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:50:21.272Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:50:21.274Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:50:21.441Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T18:50:41.349Z] [INFO] Vendor logged in successfully | {"vendorId":"68e111ccce971c554c7f752d","email":"panchalajay717@gmail.com"}
[2025-10-04T18:50:41.472Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:50:41.687Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:50:41.941Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:50:42.164Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:50:46.175Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:50:46.188Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:50:46.194Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:50:46.246Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:50:46.247Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:50:46.442Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T18:50:46.453Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:50:46.506Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:50:46.537Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:50:46.542Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:50:46.735Z] [INFO] Vendor bookings retrieved: 1 for vendor 572 | {"vendorId":"572","totalBookings":1,"page":1}
[2025-10-04T18:50:59.712Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T18:51:00.080Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T18:51:00.472Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakZ0xGxvUH8EP8NXy6","title":"📅 New Service Booking Assigned"}
[2025-10-04T18:51:00.777Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/3e16bae4-c951-4a49-bf0a-2de24e899255","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:51:00.778Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:51:00.779Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T18:51:00.782Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T18:51:00.785Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T18:51:00.811Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:51:01.300Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:51:06.962Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:51:06.976Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:51:07.194Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:51:07.275Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:51:07.278Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:51:07.440Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:51:07.562Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:51:07.624Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:51:07.700Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:51:07.705Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:51:07.938Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:51:09.342Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:51:09.619Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:51:09.839Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:51:10.039Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:51:10.877Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:51:10.902Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:51:10.918Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:51:10.983Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:51:10.994Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:51:11.164Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:51:11.304Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:51:11.372Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:51:11.448Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:51:11.451Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:51:11.710Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:51:13.524Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:51:49.752Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:51:49.821Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:51:49.839Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:51:49.914Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:51:49.933Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:51:50.162Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:51:50.220Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:51:50.268Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:51:50.350Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:51:50.352Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:51:50.611Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:52:13.539Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:53:13.540Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:53:29.807Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:53:29.820Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:53:29.831Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:53:29.873Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:53:29.875Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:53:30.024Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:53:30.150Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:53:30.161Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:53:30.239Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:53:30.247Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:53:30.516Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:53:40.213Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:53:40.263Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:53:40.270Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:53:40.314Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:53:40.315Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:53:40.476Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:53:40.602Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:53:40.633Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:53:40.721Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:53:40.729Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:53:41.000Z] [INFO] Vendor bookings retrieved: 2 for vendor 572 | {"vendorId":"572","totalBookings":2,"page":1}
[2025-10-04T18:53:53.467Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2fc5632c71c9340c918/assign-vendor"}
[2025-10-04T18:53:53.742Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T18:53:54.121Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakZgLbdjwdYh6W7Tvy","title":"📅 New Service Booking Assigned"}
[2025-10-04T18:53:54.616Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/9f9b5d8a-7272-4886-b715-f6292824f189","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:53:54.619Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:53:54.620Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T18:53:54.622Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T18:53:54.625Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T18:53:54.636Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:53:55.192Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:53:58.819Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:53:59.065Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:53:59.271Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:53:59.475Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:54:00.251Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:54:00.265Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:54:00.270Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:54:00.315Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:54:00.326Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:54:00.486Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:54:00.661Z] [INFO] Vendor bookings retrieved: 3 for vendor 572 | {"vendorId":"572","totalBookings":3,"page":1}
[2025-10-04T18:54:00.665Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:54:00.735Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:54:00.738Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:54:01.082Z] [INFO] Vendor bookings retrieved: 3 for vendor 572 | {"vendorId":"572","totalBookings":3,"page":1}
[2025-10-04T18:54:13.539Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:54:45.184Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T18:54:46.212Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T18:54:51.792Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T18:54:51.811Z] [INFO] SMTP connection verified successfully
[2025-10-04T18:55:52.802Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:55:53.118Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:55:53.303Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:55:53.634Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:55:53.669Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:55:54.155Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:55:54.858Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:55:55.155Z] [INFO] Vendor bookings retrieved: 3 for vendor 572 | {"vendorId":"572","totalBookings":3,"page":1}
[2025-10-04T18:55:55.252Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:55:55.354Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:55:55.355Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:55:55.819Z] [INFO] Vendor bookings retrieved: 3 for vendor 572 | {"vendorId":"572","totalBookings":3,"page":1}
[2025-10-04T18:55:57.590Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:55:57.673Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T18:55:57.916Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T18:55:58.318Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T18:55:58.604Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:56:09.104Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2e45632c71c9340c905/assign-vendor"}
[2025-10-04T18:56:09.539Z] [INFO] Simple notification service initialized
[2025-10-04T18:56:09.554Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T18:56:10.039Z] [INFO] Firebase Admin SDK initialized with Realtime Database
[2025-10-04T18:56:12.322Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-Oak_CtXs5GuFjYpiRVX","title":"📅 New Service Booking Assigned"}
[2025-10-04T18:56:12.965Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/94e0bd53-356a-4ebf-84f0-d336c0f49bc5","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:56:12.988Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:56:13.016Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T18:56:13.037Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d2e45632c71c9340c905"}
[2025-10-04T18:56:13.049Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T18:56:13.174Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:56:13.934Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:56:53.403Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:56:59.364Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2cf5632c71c9340c8f3/assign-vendor"}
[2025-10-04T18:57:01.647Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T18:57:02.066Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-Oak_PD2PkD1EqrLWX4r","title":"📅 New Service Booking Assigned"}
[2025-10-04T18:57:02.642Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/cdd948fd-0615-4fc8-b357-ac6717096a6d","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:57:02.643Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:57:02.644Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T18:57:02.645Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d2cf5632c71c9340c8f3"}
[2025-10-04T18:57:02.645Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T18:57:02.660Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:57:03.386Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:57:53.429Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:58:21.989Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T18:58:22.587Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T18:58:23.133Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-Oak_hyjVeMrMdrslHaW","title":"📅 New Service Booking Assigned"}
[2025-10-04T18:58:23.713Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/636f8ca9-9b4c-4d78-b04d-c9e58ae6ff6e","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:58:23.713Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:58:23.714Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T18:58:23.715Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T18:58:23.715Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T18:58:23.727Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:58:24.532Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:58:30.371Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:58:30.617Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:58:30.837Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:58:31.102Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T18:58:31.603Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:58:31.628Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:58:31.632Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T18:58:31.695Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:58:31.696Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:58:31.874Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T18:58:32.267Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":6,"page":1}
[2025-10-04T18:58:32.274Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T18:58:32.375Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T18:58:32.377Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T18:58:32.853Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":6,"page":1}
[2025-10-04T18:58:53.422Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T18:58:58.276Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T18:58:58.589Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T18:58:59.122Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-Oak_qktQxgF5rG5I8Dr","title":"📅 New Service Booking Assigned"}
[2025-10-04T18:58:59.535Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/eba1221c-266b-4403-8d8c-1fbc85fa4e82","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:58:59.538Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T18:58:59.539Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T18:58:59.540Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68dfac046370e2deef823a0c"}
[2025-10-04T18:58:59.541Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T18:58:59.562Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T18:59:00.411Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T18:59:53.433Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:00:53.461Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:00:53.471Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 572
[2025-10-04T19:00:53.670Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T19:00:53.818Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:01:02.645Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfabea6370e2deef8239fc/assign-vendor"}
[2025-10-04T19:01:02.966Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T19:01:03.372Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakaK7UgBOUh9Mw1gVV","title":"📅 New Service Booking Assigned"}
[2025-10-04T19:01:03.717Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/2de0ce81-b8f1-448d-af6c-faab6b4a4d4b","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:01:03.719Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:01:03.720Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T19:01:03.721Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68dfabea6370e2deef8239fc"}
[2025-10-04T19:01:03.723Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T19:01:03.742Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:01:04.692Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:01:16.189Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:01:16.231Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:01:16.295Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:01:16.453Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:01:16.455Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:01:16.532Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:01:17.164Z] [INFO] Vendor bookings retrieved: 7 for vendor 572 | {"vendorId":"572","totalBookings":7,"page":1}
[2025-10-04T19:01:17.180Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:01:17.274Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:01:17.275Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:01:17.924Z] [INFO] Vendor bookings retrieved: 7 for vendor 572 | {"vendorId":"572","totalBookings":7,"page":1}
[2025-10-04T19:01:32.241Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0dca1ccbce15b7405443f/assign-vendor"}
[2025-10-04T19:01:33.331Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T19:01:34.036Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakaRagETou63jMI_yL","title":"📅 New Service Booking Assigned"}
[2025-10-04T19:01:34.439Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/130f13ea-808a-4dc8-86f5-1d381c731663","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:01:34.441Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:01:34.441Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T19:01:34.442Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f"}
[2025-10-04T19:01:34.442Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T19:01:34.461Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:01:35.580Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:01:51.811Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:01:51.836Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:01:51.860Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:01:51.926Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:01:51.927Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:01:52.159Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:01:52.743Z] [INFO] Vendor bookings retrieved: 8 for vendor 572 | {"vendorId":"572","totalBookings":8,"page":1}
[2025-10-04T19:01:52.774Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:01:52.938Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:01:52.941Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:01:53.449Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:01:53.451Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 572
[2025-10-04T19:01:53.605Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T19:01:53.648Z] [INFO] Vendor bookings retrieved: 8 for vendor 572 | {"vendorId":"572","totalBookings":8,"page":1}
[2025-10-04T19:01:53.694Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:02:00.087Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:02:00.106Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:02:00.115Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:02:00.596Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T19:02:01.404Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:02:12.242Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d80b97691f3a6b7f4f50/assign-vendor"}
[2025-10-04T19:02:12.526Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T19:02:13.052Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-Oakaa7BrtvgnPl74ACy","title":"📅 New Service Booking Assigned"}
[2025-10-04T19:02:13.504Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/ca9f5903-c91b-4088-bcdd-6946caf976f2","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:02:13.505Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:02:13.506Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T19:02:13.506Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d80b97691f3a6b7f4f50"}
[2025-10-04T19:02:13.507Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T19:02:13.521Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:02:14.756Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:02:53.499Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:03:53.557Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:04:53.497Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:04:53.499Z] [INFO] Auto-rejecting booking 68e0d2fc5632c71c9340c918 for vendor 572
[2025-10-04T19:04:53.743Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d2fc5632c71c9340c918","penaltyAmount":100}
[2025-10-04T19:04:53.844Z] [INFO] Booking 68e0d2fc5632c71c9340c918 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:05:40.860Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:05:40.867Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:05:40.877Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:05:41.330Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T19:05:42.067Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:05:53.568Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:05:54.596Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2fc5632c71c9340c918/assign-vendor"}
[2025-10-04T19:05:54.970Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T19:05:55.504Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakbRPzS6lne79PX7qN","title":"📅 New Service Booking Assigned"}
[2025-10-04T19:05:56.017Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/665949f1-b381-4295-8f58-bee1477b1f49","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:05:56.019Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:05:56.021Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T19:05:56.023Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d2fc5632c71c9340c918"}
[2025-10-04T19:05:56.025Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T19:05:56.040Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:05:57.359Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:06:24.615Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:06:24.632Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:06:24.639Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:06:24.756Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:06:24.763Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:06:24.947Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:06:25.873Z] [INFO] Vendor bookings retrieved: 8 for vendor 572 | {"vendorId":"572","totalBookings":8,"page":1}
[2025-10-04T19:06:25.884Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:06:25.985Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:06:25.987Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:06:27.040Z] [INFO] Vendor bookings retrieved: 8 for vendor 572 | {"vendorId":"572","totalBookings":8,"page":1}
[2025-10-04T19:06:53.530Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:06:53.532Z] [INFO] Auto-rejecting booking 68e0d2e45632c71c9340c905 for vendor 572
[2025-10-04T19:06:53.845Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d2e45632c71c9340c905","penaltyAmount":100}
[2025-10-04T19:06:53.932Z] [INFO] Booking 68e0d2e45632c71c9340c905 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:07:16.512Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:07:16.580Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:07:16.596Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:07:16.717Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:07:16.719Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:07:16.892Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:07:17.575Z] [INFO] Vendor bookings retrieved: 7 for vendor 572 | {"vendorId":"572","totalBookings":7,"page":1}
[2025-10-04T19:07:17.584Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:07:17.725Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:07:17.730Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:07:18.910Z] [INFO] Vendor bookings retrieved: 7 for vendor 572 | {"vendorId":"572","totalBookings":7,"page":1}
[2025-10-04T19:07:53.497Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:07:53.514Z] [INFO] Auto-rejecting booking 68e0d2cf5632c71c9340c8f3 for vendor 572
[2025-10-04T19:07:53.739Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d2cf5632c71c9340c8f3","penaltyAmount":100}
[2025-10-04T19:07:53.818Z] [INFO] Booking 68e0d2cf5632c71c9340c8f3 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2cf5632c71c9340c8f3","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:08:03.359Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:08:03.444Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:08:03.491Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:08:03.676Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:08:03.755Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:08:04.313Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:08:04.793Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":6,"page":1}
[2025-10-04T19:08:04.891Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:08:05.239Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:08:05.246Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:08:06.229Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":6,"page":1}
[2025-10-04T19:08:12.693Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:08:12.711Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:08:12.724Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:08:12.806Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:08:12.818Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:08:13.023Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:08:13.559Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":6,"page":1}
[2025-10-04T19:08:13.591Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:08:13.673Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:08:13.683Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:08:14.287Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":6,"page":1}
[2025-10-04T19:08:14.445Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:08:14.450Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:08:14.456Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:08:14.821Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T19:08:15.464Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:08:52.348Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:08:52.359Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:08:52.366Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:08:53.015Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:08:53.018Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:08:53.238Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:08:53.616Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:08:53.620Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 572
[2025-10-04T19:08:53.832Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T19:08:53.909Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:08:54.001Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":5,"page":1}
[2025-10-04T19:08:54.011Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:08:54.105Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:08:54.106Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:08:54.680Z] [INFO] Vendor bookings retrieved: 5 for vendor 572 | {"vendorId":"572","totalBookings":5,"page":1}
[2025-10-04T19:09:38.479Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:09:38.700Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:09:52.207Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:09:52.221Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:09:52.231Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:09:52.570Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":8,"totalRevenue":2700}
[2025-10-04T19:09:53.047Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:09:53.219Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:09:53.243Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:09:53.263Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:09:53.287Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:09:53.289Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:09:53.500Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:09:53.561Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:09:53.562Z] [INFO] Auto-rejecting booking 68dfac046370e2deef823a0c for vendor 572
[2025-10-04T19:09:53.694Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68dfac046370e2deef823a0c","penaltyAmount":100}
[2025-10-04T19:09:53.764Z] [INFO] Booking 68dfac046370e2deef823a0c auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:09:53.831Z] [INFO] Vendor bookings retrieved: 5 for vendor 572 | {"vendorId":"572","totalBookings":4,"page":1}
[2025-10-04T19:09:53.837Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:09:53.904Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:09:53.905Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:09:54.383Z] [INFO] Vendor bookings retrieved: 4 for vendor 572 | {"vendorId":"572","totalBookings":4,"page":1}
[2025-10-04T19:09:54.750Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:09:54.922Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:10:17.234Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:10:17.254Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:10:17.269Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:10:17.439Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:10:17.444Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:10:17.659Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:10:18.002Z] [INFO] Vendor bookings retrieved: 4 for vendor 572 | {"vendorId":"572","totalBookings":4,"page":1}
[2025-10-04T19:10:18.011Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:10:18.057Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:10:18.097Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:10:18.101Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:10:18.255Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:10:18.609Z] [INFO] Vendor bookings retrieved: 4 for vendor 572 | {"vendorId":"572","totalBookings":4,"page":1}
[2025-10-04T19:10:32.944Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e0d2e45632c71c9340c905/assign-vendor"}
[2025-10-04T19:10:33.298Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T19:10:33.747Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakcVN1ZNqfLHz0u9aN","title":"📅 New Service Booking Assigned"}
[2025-10-04T19:10:34.102Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/a09baff1-78dc-4b78-ae66-05f53a9d51a1","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:10:34.103Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:10:34.103Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T19:10:34.104Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e0d2e45632c71c9340c905"}
[2025-10-04T19:10:34.105Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T19:10:34.124Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:10:35.006Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:10:53.526Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:11:00.993Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac046370e2deef823a0c/assign-vendor"}
[2025-10-04T19:11:01.299Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T19:11:01.737Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakcbD9IUeDvcwM916P","title":"📅 New Service Booking Assigned"}
[2025-10-04T19:11:02.306Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/49fc8ef6-c8ca-4bb2-a728-ae254e899dd1","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:11:02.307Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:11:02.310Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T19:11:02.312Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68dfac046370e2deef823a0c"}
[2025-10-04T19:11:02.313Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T19:11:02.322Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:11:03.462Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:11:18.719Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:11:18.745Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:11:18.752Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T19:11:18.872Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:11:18.876Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:11:19.193Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T19:11:19.583Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:11:19.653Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":6,"page":1}
[2025-10-04T19:11:19.671Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T19:11:19.792Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:11:19.795Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T19:11:19.797Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T19:11:20.591Z] [INFO] Vendor bookings retrieved: 6 for vendor 572 | {"vendorId":"572","totalBookings":6,"page":1}
[2025-10-04T19:11:46.557Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68dfac226370e2deef823a1d/assign-vendor"}
[2025-10-04T19:11:46.988Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T19:11:47.413Z] [INFO] Realtime notification sent successfully: | {"vendorId":"572","notificationId":"-OakcmMk9hbC2nA77p9y","title":"📅 New Service Booking Assigned"}
[2025-10-04T19:11:47.889Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/f36c9294-032b-454f-9f38-9ddb2c177b51","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:11:47.890Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:11:47.891Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":true,"pushNotification":true}
[2025-10-04T19:11:47.892Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68dfac226370e2deef823a1d"}
[2025-10-04T19:11:47.892Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T19:11:47.904Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:11:49.105Z] [INFO] Admin retrieved bookings: 8 | {"totalBookings":8,"page":1,"filters":{}}
[2025-10-04T19:11:53.551Z] [INFO] Found 2 pending assignments to check for auto-rejection
[2025-10-04T19:11:53.552Z] [INFO] Auto-rejecting booking 68dfabea6370e2deef8239fc for vendor 572
[2025-10-04T19:11:53.749Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68dfabea6370e2deef8239fc","penaltyAmount":100}
[2025-10-04T19:11:53.848Z] [INFO] Booking 68dfabea6370e2deef8239fc auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfabea6370e2deef8239fc","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:11:53.849Z] [INFO] Auto-rejecting booking 68e0dca1ccbce15b7405443f for vendor 572
[2025-10-04T19:11:54.047Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0dca1ccbce15b7405443f","penaltyAmount":100}
[2025-10-04T19:11:54.146Z] [INFO] Booking 68e0dca1ccbce15b7405443f auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0dca1ccbce15b7405443f","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:12:53.549Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:12:53.553Z] [INFO] Auto-rejecting booking 68e0d80b97691f3a6b7f4f50 for vendor 572
[2025-10-04T19:12:53.726Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d80b97691f3a6b7f4f50","penaltyAmount":100}
[2025-10-04T19:12:53.816Z] [INFO] Booking 68e0d80b97691f3a6b7f4f50 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d80b97691f3a6b7f4f50","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:13:53.770Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:14:53.594Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:15:09.070Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:15:09.622Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:15:13.367Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:15:14.389Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:15:22.535Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:15:23.085Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:15:35.785Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:15:36.101Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:15:38.403Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:15:39.367Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:15:55.432Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:15:56.477Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:16:00.496Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:16:05.314Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:16:05.550Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:16:08.640Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:16:08.900Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:16:11.143Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:16:12.209Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:16:16.783Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:16:17.091Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:16:19.130Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:16:20.548Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:16:24.713Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:16:24.793Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:16:26.140Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:16:27.401Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:17:15.730Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T19:17:15.736Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T19:17:17.451Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T19:17:17.465Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T19:17:17.647Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T19:17:26.236Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:17:26.239Z] [INFO] Auto-rejecting booking 68e0d2fc5632c71c9340c918 for vendor 572
[2025-10-04T19:17:26.480Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d2fc5632c71c9340c918","penaltyAmount":100}
[2025-10-04T19:17:26.939Z] [INFO] Booking 68e0d2fc5632c71c9340c918 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2fc5632c71c9340c918","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:17:37.741Z] [INFO] Booking created: FIXE3909A4C | {"bookingId":"68e172d1aa9a3d84e3909a4c","customerEmail":"panchalajay717@gmail.com","totalAmount":472,"servicesCount":1}
[2025-10-04T19:17:37.744Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e172d1aa9a3d84e3909a4c","bookingReference":"FIXE3909A4C","customerName":"Ajay Panchal","totalAmount":472}
[2025-10-04T19:17:37.837Z] [WARN] No active admins with FCM tokens found
[2025-10-04T19:17:37.842Z] [INFO] Admin notification sent for new booking | {"bookingId":"68e172d1aa9a3d84e3909a4c","successCount":0,"failureCount":0}
[2025-10-04T19:17:38.438Z] [INFO] Customer bookings retrieved: 9 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":9,"page":1}
[2025-10-04T19:18:26.249Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:18:46.788Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:18:46.937Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:18:56.170Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:18:56.414Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:18:56.563Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:18:56.692Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":9,"totalRevenue":3172}
[2025-10-04T19:18:56.761Z] [INFO] Admin retrieved bookings: 9 | {"totalBookings":9,"page":1,"filters":{}}
[2025-10-04T19:18:59.088Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:18:59.362Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:18:59.476Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:18:59.803Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:19:07.056Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:19:07.079Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:19:07.096Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:19:07.342Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":9,"totalRevenue":3172}
[2025-10-04T19:19:07.580Z] [INFO] Admin retrieved bookings: 9 | {"totalBookings":9,"page":1,"filters":{}}
[2025-10-04T19:19:08.797Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:19:08.943Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:19:08.951Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:19:09.202Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:19:26.221Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:19:50.033Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:19:50.041Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:19:50.053Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:19:50.348Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":9,"totalRevenue":3172}
[2025-10-04T19:19:50.563Z] [INFO] Admin retrieved bookings: 9 | {"totalBookings":9,"page":1,"filters":{}}
[2025-10-04T19:19:51.047Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:19:51.178Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:19:51.189Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:19:51.417Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:19:54.985Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T19:19:55.000Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T19:19:55.127Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T19:20:13.481Z] [INFO] Booking created: FIXE3909F47 | {"bookingId":"68e1736daa9a3d84e3909f47","customerEmail":"panchalajay717@gmail.com","totalAmount":472,"servicesCount":1}
[2025-10-04T19:20:13.494Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e1736daa9a3d84e3909f47","bookingReference":"FIXE3909F47","customerName":"Ajay Panchal","totalAmount":472}
[2025-10-04T19:20:13.561Z] [INFO] Sending notification to 1 admins | {"notificationTitle":"🆕 New Booking Received","adminCount":1}
[2025-10-04T19:20:13.650Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T19:20:13.678Z] [INFO] Admin notification sent for new booking | {"bookingId":"68e1736daa9a3d84e3909f47","successCount":0,"failureCount":1}
[2025-10-04T19:20:14.097Z] [INFO] Customer bookings retrieved: 10 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":10,"page":1}
[2025-10-04T19:20:25.278Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:20:25.283Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:20:25.295Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:20:25.615Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":10,"totalRevenue":3644}
[2025-10-04T19:20:25.897Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":10,"page":1,"filters":{}}
[2025-10-04T19:20:26.220Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:20:26.290Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:20:26.422Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:20:26.431Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:20:26.622Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:21:30.970Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:21:32.040Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:21:36.568Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:21:37.009Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:21:54.367Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:21:55.167Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:22:02.335Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:22:03.287Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:22:15.032Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:22:15.994Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:22:22.302Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:22:24.635Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:22:43.330Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:22:43.569Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:22:48.377Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:22:49.181Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:22:55.680Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:22:56.090Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:22:59.160Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:23:01.102Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:23:02.888Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:23:03.047Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:23:04.372Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:23:05.673Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:23:53.351Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:23:53.381Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:23:53.458Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:23:53.752Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":10,"totalRevenue":3644}
[2025-10-04T19:23:54.108Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":10,"page":1,"filters":{}}
[2025-10-04T19:23:54.380Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:23:54.573Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:23:54.594Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:23:54.874Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:23:57.403Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T19:23:57.461Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T19:23:57.583Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T19:24:04.452Z] [INFO] Found 3 pending assignments to check for auto-rejection
[2025-10-04T19:24:04.455Z] [INFO] Auto-rejecting booking 68dfac046370e2deef823a0c for vendor 572
[2025-10-04T19:24:04.642Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68dfac046370e2deef823a0c","penaltyAmount":100}
[2025-10-04T19:24:04.727Z] [INFO] Booking 68dfac046370e2deef823a0c auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac046370e2deef823a0c","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:24:04.729Z] [INFO] Auto-rejecting booking 68dfac226370e2deef823a1d for vendor 572
[2025-10-04T19:24:04.918Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68dfac226370e2deef823a1d","penaltyAmount":100}
[2025-10-04T19:24:05.000Z] [INFO] Booking 68dfac226370e2deef823a1d auto-rejected and set to waiting_for_engineer | {"bookingId":"68dfac226370e2deef823a1d","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:24:05.003Z] [INFO] Auto-rejecting booking 68e0d2e45632c71c9340c905 for vendor 572
[2025-10-04T19:24:05.195Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e0d2e45632c71c9340c905","penaltyAmount":100}
[2025-10-04T19:24:05.270Z] [INFO] Booking 68e0d2e45632c71c9340c905 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e0d2e45632c71c9340c905","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:24:30.886Z] [INFO] Booking created: FIX1DD8AA92 | {"bookingId":"68e1746efe50bec71dd8aa92","customerEmail":"panchalajay717@gmail.com","totalAmount":118,"servicesCount":1}
[2025-10-04T19:24:30.892Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e1746efe50bec71dd8aa92","bookingReference":"FIX1DD8AA92","customerName":"Ajay Panchal","totalAmount":118}
[2025-10-04T19:24:30.959Z] [INFO] Sending notification to 1 admins | {"notificationTitle":"🆕 New Booking Received","adminCount":1}
[2025-10-04T19:24:31.049Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T19:24:31.066Z] [INFO] Admin notification sent for new booking | {"bookingId":"68e1746efe50bec71dd8aa92","successCount":0,"failureCount":1}
[2025-10-04T19:24:31.284Z] [INFO] Customer bookings retrieved: 10 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":11,"page":1}
[2025-10-04T19:24:51.406Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:24:51.414Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:24:51.432Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:24:51.845Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":11,"totalRevenue":3762}
[2025-10-04T19:24:51.906Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":11,"page":1,"filters":{}}
[2025-10-04T19:24:52.402Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:24:52.585Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:24:52.596Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:24:52.832Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:25:04.468Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:26:04.475Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:26:41.395Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:26:41.980Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:26:44.846Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:26:46.017Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:26:51.822Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:26:51.966Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:26:54.248Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:26:55.347Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:27:03.186Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:27:03.527Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:27:06.966Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:27:12.456Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:27:12.911Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:27:15.164Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:27:16.067Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:27:21.098Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:27:21.197Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:27:24.490Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:27:25.083Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:27:39.487Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/logout"}
[2025-10-04T19:27:40.124Z] [INFO] Admin logged out | {"adminId":"ADMIN001","ip":"::1"}
[2025-10-04T19:27:46.933Z] [INFO] Admin logged in successfully | {"adminId":"ADMIN001","email":"panchalajay717@gmail.com","ip":"::1"}
[2025-10-04T19:27:46.989Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T19:27:47.577Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T19:27:48.019Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:27:48.489Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:27:48.498Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:27:48.823Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:27:52.183Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T19:27:52.223Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T19:27:52.269Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T19:28:12.000Z] [INFO] Booking created: FIX85C9080B | {"bookingId":"68e1754b81339a2785c9080b","customerEmail":"panchalajay717@gmail.com","totalAmount":118,"servicesCount":1}
[2025-10-04T19:28:12.003Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e1754b81339a2785c9080b","bookingReference":"FIX85C9080B","customerName":"Ajay Panchal","totalAmount":118}
[2025-10-04T19:28:12.079Z] [INFO] Sending notification to 1 admins | {"notificationTitle":"🆕 New Booking Received","adminCount":1}
[2025-10-04T19:28:12.163Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T19:28:12.183Z] [INFO] Admin notification sent for new booking | {"bookingId":"68e1754b81339a2785c9080b","successCount":0,"failureCount":1}
[2025-10-04T19:28:12.692Z] [INFO] Customer bookings retrieved: 10 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":12,"page":1}
[2025-10-04T19:28:25.175Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:29:25.334Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:29:25.472Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:29:27.955Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:29:29.563Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:29:40.297Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:29:40.548Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:29:42.755Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:29:44.010Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:29:52.386Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:29:52.487Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:29:53.623Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:29:54.958Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:30:24.310Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:30:24.468Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:30:26.172Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:30:27.341Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:31:29.699Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:31:30.210Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:31:33.740Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:31:34.147Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:31:36.609Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:31:37.579Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e1754b81339a2785c9080b","bookingReference":"FIX85C9080B","customerName":"Ajay Panchal","totalAmount":118}
[2025-10-04T19:31:37.709Z] [INFO] Sending notification to 1 admins | {"notificationTitle":"🆕 New Booking Received","adminCount":1}
[2025-10-04T19:31:37.796Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:31:45.256Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:31:45.397Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:31:48.573Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:31:48.955Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:31:53.658Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:31:56.059Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e1754b81339a2785c9080b","bookingReference":"FIX85C9080B","customerName":"Ajay Panchal","totalAmount":118}
[2025-10-04T19:31:56.158Z] [INFO] Sending notification to 1 admins | {"notificationTitle":"🆕 New Booking Received","adminCount":1}
[2025-10-04T19:31:56.224Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T19:31:58.072Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:32:05.560Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:32:05.756Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:32:10.057Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:32:11.235Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e1754b81339a2785c9080b","bookingReference":"FIX85C9080B","customerName":"Ajay Panchal","totalAmount":118}
[2025-10-04T19:32:11.388Z] [INFO] Sending notification to 1 admins | {"notificationTitle":"🆕 New Booking Received","adminCount":1}
[2025-10-04T19:32:11.507Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T19:32:11.589Z] [INFO] Multicast push notification sent: | {"successCount":0,"failureCount":1,"totalTokens":1}
[2025-10-04T19:32:14.310Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:32:24.640Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:32:25.050Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:32:28.003Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:32:29.267Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:32:30.114Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e1754b81339a2785c9080b","bookingReference":"FIX85C9080B","customerName":"Ajay Panchal","totalAmount":118}
[2025-10-04T19:32:30.471Z] [INFO] Sending notification to 1 admins | {"notificationTitle":"🆕 New Booking Received","adminCount":1}
[2025-10-04T19:32:30.599Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T19:32:31.685Z] [INFO] Multicast push notification sent: | {"successCount":1,"failureCount":0,"totalTokens":1}
[2025-10-04T19:32:44.126Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:32:44.248Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:32:46.168Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:32:47.110Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:32:57.021Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T19:32:58.117Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:32:58.627Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:32:58.637Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:32:58.734Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T19:32:59.123Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:33:03.466Z] [INFO] Featured products retrieved: 3 | {"productNames":["MacBook Repair","Printers Repair","Laptop/Desktop"]}
[2025-10-04T19:33:03.550Z] [INFO] Products by service type retrieved: 0 for Home Appliance | {"serviceType":"Home Appliance","productNames":[]}
[2025-10-04T19:33:03.662Z] [INFO] All active products retrieved: 4 | {"featuredCount":3,"totalCount":4}
[2025-10-04T19:33:34.723Z] [INFO] Booking created: FIXD5DE1762 | {"bookingId":"68e1768eda10815fd5de1762","customerEmail":"panchalajay717@gmail.com","totalAmount":118,"servicesCount":1}
[2025-10-04T19:33:34.727Z] [INFO] Sending new booking notification to admins | {"bookingId":"68e1768eda10815fd5de1762","bookingReference":"FIXD5DE1762","customerName":"Ajay Panchal","totalAmount":118}
[2025-10-04T19:33:34.905Z] [INFO] Sending notification to 1 admins | {"notificationTitle":"🆕 New Booking Received","adminCount":1}
[2025-10-04T19:33:35.005Z] [INFO] Firebase Admin SDK initialized successfully
[2025-10-04T19:33:36.324Z] [INFO] Multicast push notification sent: | {"successCount":1,"failureCount":0,"totalTokens":1}
[2025-10-04T19:33:36.328Z] [INFO] Admin notification sent for new booking | {"bookingId":"68e1768eda10815fd5de1762","successCount":1,"failureCount":0}
[2025-10-04T19:33:36.737Z] [INFO] Customer bookings retrieved: 10 for panchalajay717@gmail.com | {"email":"panchalajay717@gmail.com","totalBookings":13,"page":1}
[2025-10-04T19:33:46.568Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:34:23.715Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:34:23.721Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:34:23.727Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:34:24.714Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:34:24.835Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T19:34:25.505Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:34:25.512Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:34:25.526Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:34:26.638Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:34:36.192Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/68e1768eda10815fd5de1762/assign-vendor"}
[2025-10-04T19:34:37.032Z] [INFO] Simple notification service initialized
[2025-10-04T19:34:37.034Z] [INFO] Sending simple notification to vendor | {"vendorId":"572","title":"📅 New Service Booking Assigned","type":"booking_assignment"}
[2025-10-04T19:34:37.683Z] [INFO] Push notification sent successfully: | {"messageId":"projects/fixfly-d8e35/messages/bec818f2-ffb2-4e3f-888e-7cfd8ae7a6ca","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:34:37.685Z] [INFO] Push notification sent successfully | {"vendorId":"572","fcmToken":"eHftonwJ6O1DZzsSJqlt..."}
[2025-10-04T19:34:37.687Z] [INFO] Simple notification sent successfully | {"vendorId":"572","title":"📅 New Service Booking Assigned","realtimeNotification":false,"pushNotification":true}
[2025-10-04T19:34:37.688Z] [INFO] Vendor notification sent successfully for booking assignment | {"vendorId":"572","bookingId":"68e1768eda10815fd5de1762"}
[2025-10-04T19:34:37.694Z] [INFO] Admin assigned vendor to booking: undefined | {"bookingId":"68e1768eda10815fd5de1762","vendorId":"572","adminId":"68ca7f8988ac97b4e9c16645"}
[2025-10-04T19:34:37.712Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:34:38.561Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:34:46.317Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:35:46.375Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:36:46.262Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:37:46.275Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:38:46.330Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:39:46.332Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:39:47.387Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/dashboard"}
[2025-10-04T19:39:48.387Z] [INFO] Dashboard stats fetched successfully | {"adminId":"68ca7f8988ac97b4e9c16645","month":10,"year":2025}
[2025-10-04T19:39:48.456Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:39:48.647Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:39:48.659Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:39:49.075Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:39:50.313Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/users?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:39:50.323Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/users/stats"}
[2025-10-04T19:39:50.896Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/users?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:39:51.288Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/users?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:39:51.331Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:39:51.685Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:39:51.706Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:39:52.181Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:39:54.313Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:39:54.320Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T19:39:55.331Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:39:55.747Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:39:55.795Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:39:55.801Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:39:55.808Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:39:55.855Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:39:56.659Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:39:56.693Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T19:39:56.804Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:40:00.899Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:40:00.906Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:40:03.259Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T19:40:04.271Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:40:07.365Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:40:07.653Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:40:07.662Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:40:07.961Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:40:08.060Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:40:08.160Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:40:18.732Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:40:18.736Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:40:18.742Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:40:19.134Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T19:40:19.458Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:40:19.743Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T19:40:20.010Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:40:20.019Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/update-fcm-token"}
[2025-10-04T19:40:20.399Z] [INFO] FCM token updated for admin | {"adminId":"68ca7f8988ac97b4e9c16645","adminEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T19:40:46.305Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:41:46.315Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:42:35.395Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:42:35.926Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:42:42.490Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:42:42.933Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:42:47.782Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:42:48.174Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:42:50.542Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:42:52.638Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:42:54.485Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:42:54.616Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:42:54.652Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:42:55.187Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T19:42:55.348Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:43:06.953Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:43:07.052Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:43:07.139Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:43:07.588Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T19:43:07.772Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:43:50.682Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:44:50.628Z] [INFO] Found 1 pending assignments to check for auto-rejection
[2025-10-04T19:44:50.645Z] [INFO] Auto-rejecting booking 68e1768eda10815fd5de1762 for vendor 572
[2025-10-04T19:44:50.947Z] [INFO] Auto-rejection penalty applied to vendor 572 | {"vendorId":"572","bookingId":"68e1768eda10815fd5de1762","penaltyAmount":100}
[2025-10-04T19:44:51.041Z] [INFO] Booking 68e1768eda10815fd5de1762 auto-rejected and set to waiting_for_engineer | {"bookingId":"68e1768eda10815fd5de1762","vendorId":"572","newStatus":"waiting_for_engineer","penaltyApplied":true}
[2025-10-04T19:45:18.779Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:45:18.803Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:45:18.836Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:45:19.171Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T19:45:19.220Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:45:19.709Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:45:19.727Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:45:19.763Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:45:20.056Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T19:45:20.096Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T19:45:20.131Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T19:45:20.159Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:45:20.205Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T19:45:20.367Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T19:45:20.495Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T19:45:50.656Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:45:55.457Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T19:45:55.667Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T19:45:57.579Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T19:45:59.006Z] [INFO] SMTP connection verified successfully
[2025-10-04T19:46:57.685Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:47:58.174Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:48:57.683Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:49:57.695Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:50:57.695Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:51:57.706Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:52:57.741Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:53:57.774Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:54:57.734Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:55:57.743Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:56:57.712Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:57:57.727Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:58:57.762Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T19:59:57.758Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:00:57.738Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:01:57.729Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:02:42.601Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:02:43.017Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:02:43.317Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:02:43.603Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:02:43.681Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:02:43.764Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:02:43.996Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:02:44.142Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:02:45.013Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:02:45.205Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:02:57.756Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:03:57.778Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:04:08.789Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:04:08.960Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:04:58.204Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:05:57.879Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:06:57.900Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:07:57.878Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:08:42.084Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:08:42.286Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:08:57.853Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:09:57.879Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:10:04.581Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?page=1&limit=10&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T20:10:04.590Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings/stats?period=30d"}
[2025-10-04T20:10:04.594Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=100"}
[2025-10-04T20:10:12.130Z] [INFO] Admin retrieved booking statistics for period: 30d | {"totalBookings":13,"totalRevenue":3998}
[2025-10-04T20:10:17.646Z] [INFO] Admin retrieved bookings: 10 | {"totalBookings":13,"page":1,"filters":{}}
[2025-10-04T20:10:24.757Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:10:24.917Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:10:57.881Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:11:30.716Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:11:31.713Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:11:31.894Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:11:38.595Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:11:39.012Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:11:39.182Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:11:39.653Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:11:40.017Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:11:40.035Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:11:40.192Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:11:40.222Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:11:40.769Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T20:11:40.792Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T20:11:40.798Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:11:40.806Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:11:40.844Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T20:11:40.855Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T20:11:40.976Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:11:41.022Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T20:11:41.040Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T20:11:41.085Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T20:11:41.134Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T20:11:41.146Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T20:11:41.270Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:11:41.550Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T20:11:41.668Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:11:41.716Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:11:41.849Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:11:57.901Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:12:57.913Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:13:57.914Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:14:58.041Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:15:57.896Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:16:57.968Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:17:57.943Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:18:57.929Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:19:58.010Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:20:42.798Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:20:43.189Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:20:43.461Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:20:43.694Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:20:43.762Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:20:43.958Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:20:44.201Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:20:44.636Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:20:44.725Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:20:44.875Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:20:46.694Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:20:46.860Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:20:48.536Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:20:49.554Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:20:49.755Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:20:54.047Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T20:20:54.075Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T20:20:54.093Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:20:54.161Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T20:20:54.179Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T20:20:54.344Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T20:20:54.354Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T20:20:54.422Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T20:20:54.452Z] [INFO] Getting bookings for vendor | {"vendorId":"572","page":1,"limit":10}
[2025-10-04T20:20:54.458Z] [INFO] Booking query | {"query":{"vendor.vendorId":"572"}}
[2025-10-04T20:20:54.649Z] [INFO] Vendor bookings retrieved: 0 for vendor 572 | {"vendorId":"572","totalBookings":0,"page":1}
[2025-10-04T20:20:55.040Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:20:55.193Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:20:57.962Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:20:58.923Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:20:59.211Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:20:59.438Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:20:59.739Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:20:59.935Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:21:00.083Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:21:00.241Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:21:00.384Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:21:00.755Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:21:00.908Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:21:29.750Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:21:30.002Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:21:31.749Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:21:32.330Z] [INFO] FCM token updated for vendor | {"vendorId":"68e111ccce971c554c7f752d","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:21:57.968Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:21:59.762Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:21:59.839Z] [WARN] Vendor not found for token | {"vendorId":"68e111ccce971c554c7f752d"}
[2025-10-04T20:21:59.952Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:22:00.033Z] [WARN] Vendor not found for token | {"vendorId":"68e111ccce971c554c7f752d"}
[2025-10-04T20:22:58.006Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:22:58.139Z] [INFO] Vendor registered successfully | {"vendorId":"68e18221ec9e8ac7425e0b40","email":"panchalajay717@gmail.com","phone":"7610416911"}
[2025-10-04T20:23:01.871Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T20:23:01.876Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T20:23:02.891Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/bookings?"}
[2025-10-04T20:23:02.907Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"null...","tokenLength":4,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:03.268Z] [INFO] Admin retrieved bookings: 0 | {"totalBookings":0,"page":1,"filters":{}}
[2025-10-04T20:23:03.915Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"null...","tokenLength":4,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:05.772Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T20:23:05.779Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/stats"}
[2025-10-04T20:23:06.780Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"null...","tokenLength":4,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:10.815Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors/68e18221ec9e8ac7425e0b40/status"}
[2025-10-04T20:23:11.208Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T20:23:15.734Z] [INFO] Email sent successfully | {"messageId":"<c920fd32-7042-cf76-e6ba-c1a6817f113d@gmail.com>","to":"panchalajay717@gmail.com","subject":"Welcome to Fixifly - Your Account is Approved!"}
[2025-10-04T20:23:15.737Z] [INFO] Vendor approval email sent successfully | {"vendorId":"68e18221ec9e8ac7425e0b40","email":"panchalajay717@gmail.com"}
[2025-10-04T20:23:15.738Z] [INFO] Vendor approve by admin | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","action":"approve"}
[2025-10-04T20:23:15.781Z] [INFO] Admin authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":265,"endpoint":"/api/admin/vendors?page=1&limit=20&sortBy=createdAt&sortOrder=desc"}
[2025-10-04T20:23:33.078Z] [INFO] Vendor logged in successfully | {"vendorId":"68e18221ec9e8ac7425e0b40","email":"panchalajay717@gmail.com"}
[2025-10-04T20:23:33.169Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:23:33.343Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:23:33.506Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:23:33.665Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:23:34.172Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:34.333Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:23:34.386Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:34.525Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:23:34.725Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:34.878Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:23:35.966Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:36.135Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:23:36.144Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:23:37.148Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:37.299Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:23:43.256Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:23:43.415Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:23:58.099Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:24:45.021Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:24:45.222Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:24:45.394Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:24:45.688Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:24:46.011Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:24:46.155Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:24:46.264Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:24:46.424Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:24:46.439Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:24:46.616Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:24:48.612Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/create-order"}
[2025-10-04T20:24:49.914Z] [INFO] Vendor deposit order created successfully | {"vendorId":"625","amount":3999,"transactionId":"DEP_625_1759609488795","razorpayOrderId":"order_RPWj23h0dool2w"}
[2025-10-04T20:24:58.077Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:25:10.504Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/verify"}
[2025-10-04T20:25:10.795Z] [INFO] Vendor deposit payment verification attempt | {"vendorId":"625","transactionId":"DEP_625_1759609488795","razorpayOrderId":"order_RPWj23h0dool2w","razorpayPaymentId":"pay_RPWjAoNW3hLpzV","expectedSignature":"6698f3c79d...","receivedSignature":"6698f3c79d..."}
[2025-10-04T20:25:10.797Z] [INFO] Adding deposit to vendor wallet | {"vendorId":"625","amount":3999,"currentBalance":0}
[2025-10-04T20:25:11.027Z] [INFO] Vendor wallet updated after deposit | {"vendorId":"625","newBalance":3999,"hasInitialDeposit":true}
[2025-10-04T20:25:11.194Z] [INFO] Vendor deposit payment verified and processed successfully | {"vendorId":"625","transactionId":"DEP_625_1759609488795","amount":3999,"razorpayPaymentId":"pay_RPWjAoNW3hLpzV"}
[2025-10-04T20:25:11.361Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T20:25:15.027Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:25:15.273Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:25:15.583Z] [INFO] Email sent successfully | {"messageId":"<33d06a72-6b10-316f-9d81-112e52519153@gmail.com>","to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly"}
[2025-10-04T20:25:15.628Z] [INFO] Deposit confirmation email sent successfully | {"vendorId":"625","email":"panchalajay717@gmail.com"}
[2025-10-04T20:25:16.312Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:25:16.496Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:25:16.733Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:25:17.030Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:25:17.325Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:25:18.041Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:25:18.217Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:25:18.326Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:25:18.474Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:25:19.570Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:25:19.844Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:25:20.094Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:25:20.869Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:25:21.038Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:25:21.121Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:25:21.266Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:25:45.072Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:25:45.423Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:25:46.420Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:25:46.594Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:25:58.077Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:26:15.870Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:16.111Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:17.851Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:26:18.052Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:26:40.351Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:40.979Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:41.480Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:41.815Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:42.026Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:26:42.347Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:26:42.561Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:42.916Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:43.167Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:43.766Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:43.966Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:26:44.213Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:26:44.700Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:26:44.854Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:26:44.914Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:44.940Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:26:45.080Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:26:45.265Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:45.556Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:45.797Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:26:46.310Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:26:46.571Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:26:46.833Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:26:47.021Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:26:58.078Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:27:10.310Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T20:27:10.991Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T20:27:15.649Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T20:27:15.895Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:17.072Z] [INFO] SMTP connection verified successfully
[2025-10-04T20:27:18.147Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:18.618Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:18.945Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:19.151Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:19.331Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:19.571Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:19.783Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:19.790Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:19.953Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:27:20.837Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:20.843Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:20.978Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:27:20.993Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:27:22.091Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:22.270Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:27:48.748Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:49.055Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:49.291Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:49.511Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:49.781Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:49.971Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:50.286Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:50.973Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:51.051Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:51.149Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:51.275Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:27:51.366Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:51.424Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:27:51.539Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:27:52.121Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:52.291Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:27:57.570Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:57.908Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:58.151Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:58.389Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:27:58.456Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:27:58.603Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:00.753Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:28:00.762Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:28:00.915Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:00.971Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:09.969Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T20:28:10.287Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T20:28:11.898Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T20:28:12.846Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:13.251Z] [INFO] SMTP connection verified successfully
[2025-10-04T20:28:13.971Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:14.187Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:14.393Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:15.773Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:28:15.779Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:28:15.918Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:15.952Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:39.604Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:39.985Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:40.646Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:41.026Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:41.623Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:28:41.806Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:42.294Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:28:42.456Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:44.269Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:44.570Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:44.803Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:45.101Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:28:45.566Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:28:45.721Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:46.107Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:28:46.344Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:28:56.817Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:01.566Z] [INFO] Cloudinary initialized successfully | {"cloud_name":"fixfly"}
[2025-10-04T20:29:02.204Z] [INFO] SMTP Email service initialized successfully | {"host":"smtp.gmail.com","port":587,"user":"fixfly.in@gmail.com"}
[2025-10-04T20:29:03.838Z] [INFO] Auto-reject service started - checking every minute for pending assignments
[2025-10-04T20:29:03.879Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:03.943Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:29:05.061Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:29:05.282Z] [INFO] SMTP connection verified successfully
[2025-10-04T20:29:05.810Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:06.131Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:07.135Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:29:07.302Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:29:32.772Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:33.054Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:34.767Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:29:34.913Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:29:52.325Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:52.723Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:53.063Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:53.405Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:53.761Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:29:53.944Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:29:54.456Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:29:54.640Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:29:57.254Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:57.556Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:57.902Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:58.185Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:29:58.575Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:29:58.791Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:29:59.238Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:29:59.451Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:30:03.987Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:30:14.424Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/create-order"}
[2025-10-04T20:30:14.993Z] [INFO] Vendor deposit order created successfully | {"vendorId":"625","amount":500,"transactionId":"DEP_625_1759609814580","razorpayOrderId":"order_RPWoktHm4bTkxa"}
[2025-10-04T20:30:27.248Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:30:27.480Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:30:28.515Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:30:28.665Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:30:43.501Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/deposit/verify"}
[2025-10-04T20:30:43.739Z] [INFO] Vendor deposit payment verification attempt | {"vendorId":"625","transactionId":"DEP_625_1759609814580","razorpayOrderId":"order_RPWoktHm4bTkxa","razorpayPaymentId":"pay_RPWp1rrTcJpRto","expectedSignature":"c099b46be1...","receivedSignature":"c099b46be1..."}
[2025-10-04T20:30:43.741Z] [INFO] Adding deposit to vendor wallet | {"vendorId":"625","amount":500,"currentBalance":3999}
[2025-10-04T20:30:43.981Z] [INFO] Vendor wallet updated after deposit | {"vendorId":"625","newBalance":4499,"hasInitialDeposit":true}
[2025-10-04T20:30:44.132Z] [INFO] Vendor deposit payment verified and processed successfully | {"vendorId":"625","transactionId":"DEP_625_1759609814580","amount":500,"razorpayPaymentId":"pay_RPWp1rrTcJpRto"}
[2025-10-04T20:30:44.295Z] [INFO] Sending email | {"to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly","from":"Fixifly <fixfly.in@gmail.com>"}
[2025-10-04T20:30:48.824Z] [INFO] Email sent successfully | {"messageId":"<1d81b8a6-c6b6-0ad9-21c6-e4dc7fb71688@gmail.com>","to":"panchalajay717@gmail.com","subject":"Deposit Confirmation - Fixifly"}
[2025-10-04T20:30:48.826Z] [INFO] Deposit confirmation email sent successfully | {"vendorId":"625","email":"panchalajay717@gmail.com"}
[2025-10-04T20:30:49.946Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:30:50.200Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:30:50.449Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:30:51.225Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:30:51.365Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:30:51.479Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:30:51.647Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:30:52.666Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:30:52.884Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:30:53.167Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:30:53.912Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:30:54.200Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:30:54.688Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:30:55.038Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:30:57.244Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:30:58.020Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:30:59.046Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:30:59.342Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:31:03.996Z] [INFO] Found 0 pending assignments to check for auto-rejection
[2025-10-04T20:31:27.269Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:31:27.496Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendor/wallet"}
[2025-10-04T20:31:28.544Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:31:28.693Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:31:40.152Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:31:40.174Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T20:31:40.190Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T20:31:40.275Z] [INFO] Getting bookings for vendor | {"vendorId":"625","page":1,"limit":10}
[2025-10-04T20:31:40.284Z] [INFO] Booking query | {"query":{"vendor.vendorId":"625"}}
[2025-10-04T20:31:40.459Z] [INFO] Vendor bookings retrieved: 0 for vendor 625 | {"vendorId":"625","totalBookings":0,"page":1}
[2025-10-04T20:31:40.468Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T20:31:40.525Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T20:31:40.569Z] [INFO] Getting bookings for vendor | {"vendorId":"625","page":1,"limit":10}
[2025-10-04T20:31:40.570Z] [INFO] Booking query | {"query":{"vendor.vendorId":"625"}}
[2025-10-04T20:31:40.705Z] [INFO] Vendor bookings retrieved: 0 for vendor 625 | {"vendorId":"625","totalBookings":0,"page":1}
[2025-10-04T20:31:41.079Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:31:41.228Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:31:44.054Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:31:44.231Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:31:44.400Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:31:45.409Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:31:45.615Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:31:47.622Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T20:31:47.634Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T20:31:47.642Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/profile"}
[2025-10-04T20:31:47.807Z] [INFO] Getting bookings for vendor | {"vendorId":"625","page":1,"limit":10}
[2025-10-04T20:31:47.829Z] [INFO] Booking query | {"query":{"vendor.vendorId":"625"}}
[2025-10-04T20:31:47.965Z] [INFO] Vendor bookings retrieved: 0 for vendor 625 | {"vendorId":"625","totalBookings":0,"page":1}
[2025-10-04T20:31:47.971Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/bookings/vendor/me"}
[2025-10-04T20:31:48.045Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/support-tickets/vendor/assigned?"}
[2025-10-04T20:31:48.090Z] [INFO] Getting bookings for vendor | {"vendorId":"625","page":1,"limit":10}
[2025-10-04T20:31:48.095Z] [INFO] Booking query | {"query":{"vendor.vendorId":"625"}}
[2025-10-04T20:31:48.224Z] [INFO] Vendor bookings retrieved: 0 for vendor 625 | {"vendorId":"625","totalBookings":0,"page":1}
[2025-10-04T20:31:48.560Z] [INFO] Vendor authentication attempt | {"tokenPrefix":"eyJhbGciOiJIUzI1NiIs...","tokenLength":179,"endpoint":"/api/vendors/update-fcm-token"}
[2025-10-04T20:31:48.715Z] [INFO] FCM token updated for vendor | {"vendorId":"68e18221ec9e8ac7425e0b40","vendorEmail":"panchalajay717@gmail.com","hasToken":true}
[2025-10-04T20:32:03.947Z] [INFO] Found 0 pending assignments to check for auto-rejection
